{"version":3,"sources":["HomePage/helpers/updateSimulation.js","HomePage/helpers/startSimulation.js","HomePage/helpers/updateGame.js","HomePage/helpers/startGame.js","HomePage/helpers/actions.js","HomePage/components/SimulationDialog/simulationOptions.js","HomePage/components/SimulationDialog/SimulationDialog.js","HomePage/components/Navbar/Navbar.js","HomePage/components/ShareModal/ShareDialog.js","HomePage/components/GameDialog/gameOptions.js","HomePage/components/GameDialog/GameDialog.js","HomePage/components/QuarantineButtons/QuarantineButtons.js","HomePage/main.js","App.js","serviceWorker.js","index.js"],"names":["updateSimulation","sprite","spriteArr","distance","loader","x","radius","window","innerWidth","reactContext","canvasWidth","velocity","y","innerHeight","canvasHeight","state","simulationSettings","contagiousFrom","Date","getTime","contagion","texture","resources","sheet","textures","setState","prevState","contagious","healthy","i","length","myID","otherSprite","simulationRestart","resolveCollision","rotate","angle","Math","cos","sin","particle","otherParticle","xVelocityDiff","yVelocityDiff","atan2","u1","u2","v1","v2","vFinal1","vFinal2","particlePreservedSpeed","preserveSpeed","otherParticlePreservedSpeed","vFinal","newSpeed","sqrt","pow","startSpeed","startSimulation","autostart","this","simulationApp","PIXI","backgroundColor","width","height","resolution","devicePixelRatio","autoDensity","sharedLoader","document","getElementById","appendChild","view","add","on","resource","console","log","progress","name","err","error","load","handleOnImageLoaded","bind","resize","e","renderer","addEventListener","randomIntNumber","min","max","floor","random","x1","y1","x2","y2","xDist","yDist","size","speed","nrImages","quantity","maxWidth","maxHeight","whiteBall","redBall","j","anchor","randomX","randomY","push","len","index","stage","addChild","ticker","addOnce","updateGame","time","quarantineDropped","draggedQuarantine","id","gameSettings","gameRestart","startGame","gameApp","quarantineArr","difficulty","availableQuarantines","randomLength","gt","beginFill","lineStyle","drawCircle","endFill","generateCanvasTexture","particleID","quarantine","alpha","forEach","item","pause","stop","unPause","start","destroy","sizeOptions","type","value","quantityValues","5","speedOptions","deactivateOptions","booleanOptions","SimulationDialog","nextProps","nextState","isSimulationActive","props","isOpen","buttonText","settings","prevProps","minQuantity","maxQuantity","slice","setSimulationSettings","toggle","deactivateAfter","showTime","showStats","autorestart","Modal","key","centered","fade","className","ModalHeader","charCode","ModalBody","Row","Container","Nav","map","sizeOption","idx","NavLink","tabIndex","data-option","JSON","stringify","onClick","active","quantityValue","speedOption","deactivateOption","timeOption","statOption","restartOption","ModalFooter","React","Component","NavBar","toggleNavbarItemsExpand","isNavbarExpanded","toggleNavbarVisibility","isNavbarVisible","toggleSimulationDialog","toggleShareDialog","toggleGameDialog","startTime","seconds","getSeconds","formattedSeconds","Navbar","dark","Button","disabled","d","fill","strokeWidth","stroke","expand","NavbarToggler","Collapse","navbar","NavItem","data","NavbarText","href","target","rel","getMinutes","ShareDialog","copy","isCopied","role","aria-label","modeOptions","difficultyOptions","quantityDiffVals","0","1","2","speedDiffValues","GameDialog","isGameActive","changedSpeed","setGameSettings","mode","modeOption","difficultyOption","QuarantineButtons","quarantineButtonsActive","setQuarantineInMotion","quarantineAppearanceSettings","HomePage","hasError","currentTime","simulationPaused","gamePaused","simulationStopped","gameStopped","startButtonText","shareModalOpen","simulationSettingsOpen","gameSettingsOpen","Array","apply","activeQuarantines","interval","unpause","shuffle","toggleDialog","onMouseMove","toggleSimulationPause","toggleGamePause","intervalTime","handleResize","handleBlur","handleRefocus","copyToClipboard","stopStartGame","stopStartSimulation","setDriftlessInterval","errorInfo","clearDriftless","pageX","pageY","prevstate","arr","temporaryValue","randomIndex","currentIndex","targetData","parsedData","currentTarget","getAttribute","parse","newSimulationSettings","shuffledQuarantines","newGameSettings","targetID","concat","setTimeout","navigator","permissions","query","then","result","clipboard","writeText","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.b042908b.chunk.js","sourcesContent":["export const updateSimulation = (sprite, spriteArr, distance, loader) => {\t\n\t// X BOUNDARIES\n\tif ((sprite.x + sprite.radius) > (window.innerWidth < sprite.reactContext.canvasWidth ? sprite.reactContext.canvasWidth : window.innerWidth )) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\tif ((sprite.x - sprite.radius) < 0) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\t// Y BOUNDARIES\n\tif ((sprite.y + sprite.radius) > (window.innerHeight < sprite.reactContext.canvasHeight ? sprite.reactContext.canvasHeight : window.innerHeight)) { // resize only up\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\tif ((sprite.y - sprite.radius) < 0) {\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\t// CALCULATE DEACTIVATION TIME IF APPLIED\n\tif (sprite.reactContext.state.simulationSettings[\"deactivateAfter\"] > 0) {\n\t\tif (sprite.contagiousFrom && (new Date().getTime() - sprite.contagiousFrom) > sprite.reactContext.state.simulationSettings[\"deactivateAfter\"]) {\n\t\t\tsprite.contagion = 0;\n\t\t\tsprite.contagiousFrom = null;\n\t\t\tsprite.texture = loader.resources.sheet.textures[\"ball-white-15.png\"];\n\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious - 1, healthy: prevState.healthy + 1 }));\n\t\t}\n\t}\n\t// CALCULATE COLLISION DETECTION TO ALL OTHER IMAGES\n\tfor (let i = 0; i < spriteArr.length; i++) {\n\t\tif (sprite.myID === spriteArr[i].myID) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ((distance(sprite.x, sprite.y, spriteArr[i].x, spriteArr[i].y) - (sprite.radius * 2)) < 0) {\t\t\t\n\t\t\tconst otherSprite = spriteArr[i];\n\t\t\t// with deactivation time on, any red can infect another red again\n\t\t\tif (sprite.reactContext.state.simulationSettings[\"deactivateAfter\"] > 0 && (otherSprite.contagion || sprite.contagion)) {\n\t\t\t\tsprite.contagiousFrom = new Date().getTime();\n\t\t\t\totherSprite.contagiousFrom = new Date().getTime();\n\t\t\t}\n\t\t\t// only calculate crashes where one particle is contagious\n\t\t\tif (otherSprite.contagion && !sprite.contagion) {\t\t\t\t\n\t\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious + 1, healthy: prevState.healthy - 1 }));\n\t\t\t\tsprite.contagion = 1;\n\t\t\t\tsprite.texture = loader.resources.sheet.textures[\"ball-red-15.png\"];\n\t\t\t\t// ON AUTORESTART=TRUE\n\t\t\t\tsprite.reactContext.state.simulationSettings[\"autorestart\"] && sprite.reactContext.state.healthy === 0 && sprite.reactContext.simulationRestart();\t// ON AUTORESTART=TRUE\n\t\t\t} else if (sprite.contagion && !otherSprite.contagion) {\n\t\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious + 1, healthy: prevState.healthy - 1 }));\n\t\t\t\totherSprite.contagion = 1;\n\t\t\t\totherSprite.texture = loader.resources.sheet.textures[\"ball-red-15.png\"];\n\t\t\t\t// ON AUTORESTART=TRUE\n\t\t\t\tsprite.reactContext.state.simulationSettings[\"autorestart\"] && sprite.reactContext.state.healthy === 0 && sprite.reactContext.simulationRestart(); // ON AUTORESTART=TRUE\n\t\t\t}\n\t\t\tresolveCollision(sprite, otherSprite);\n\t\t}\n\t}\n\n\tsprite.x += sprite.velocity.x;\n\tsprite.y += sprite.velocity.y;\n\n}\n/**\n * Rotates coordinate system for velocities\n *\n * Takes velocities and alters them as if the coordinate system they're on was rotated\n *\n * @param  Object | velocity | The velocity of an individual particle\n * @param  Float  | angle    | The angle of collision between two objects in radians\n * @return Object | The altered x and y velocities after the coordinate system has been rotated\n */\nfunction rotate(velocity, angle) {\n\tconst rotatedVelocities = {\n\t\tx: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n\t\ty: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle)\n\t};\n\treturn rotatedVelocities;\n}\n\n/**\n * Swaps out two colliding particles' x and y velocities after running through\n * an elastic collision reaction equation\n *\n * @param  Object | particle      | A particle object with x and y coordinates, plus velocity\n * @param  Object | otherParticle | A particle object with x and y coordinates, plus velocity\n * @return Null | Does not return a value\n */\n\nfunction resolveCollision(particle, otherParticle) {\n\tconst xVelocityDiff = particle.velocity.x - otherParticle.velocity.x;\n\tconst yVelocityDiff = particle.velocity.y - otherParticle.velocity.y;\n\n\tconst xDist = otherParticle.x - particle.x;\n\tconst yDist = otherParticle.y - particle.y;\n\n\t// Prevent accidental overlap of images\n\tif (xVelocityDiff * xDist + yVelocityDiff * yDist >= 0) {\n\n\t\t// Grab angle between the two colliding images\n\t\tconst angle = -Math.atan2(otherParticle.y - particle.y, otherParticle.x - particle.x);\n\n\t\t// Store mass in var for better readability in collision equation\n\t\t// const m1 = particle.mass;\n\t\t// const m2 = otherParticle.mass;\n\n\t\t// Velocity before equation\n\t\tconst u1 = rotate(particle.velocity, angle);\n\t\tconst u2 = rotate(otherParticle.velocity, angle);\n\n\t\t// Velocity after 1d collision equation\n\t\t// (mass) const v1 = { x: u1.x * (m1 - m2) / (m1 + m2) + u2.x * 2 * m2 / (m1 + m2), y: u1.y };\n\t\t// (mass) const v2 = { x: u2.x * (m1 - m2) / (m1 + m2) + u1.x * 2 * m2 / (m1 + m2), y: u2.y };\n\t\tconst v1 = { x: u2.x, y: u1.y };\n\t\tconst v2 = { x: u1.x, y: u2.y };\n\n\t\t// Final velocity after rotating axis back to original location\n\t\tconst vFinal1 = rotate(v1, -angle);\n\t\tconst vFinal2 = rotate(v2, -angle);\n\n\t\t// PRESERVE SPEED - calculate startSpeed and newSpeed ratio and apply it to particle x and y velocities\n\t\tconst particlePreservedSpeed = preserveSpeed(particle, vFinal1);\n\t\tconst otherParticlePreservedSpeed = preserveSpeed(otherParticle, vFinal2);\n\n\t\t// Swap particle velocities for realistic bounce effect\n\t\tparticle.velocity.x = particlePreservedSpeed.x;\n\t\tparticle.velocity.y = particlePreservedSpeed.y;\n\n\t\totherParticle.velocity.x = otherParticlePreservedSpeed.x;\n\t\totherParticle.velocity.y = otherParticlePreservedSpeed.y;\n\t}\n}\n\nfunction preserveSpeed(particle, vFinal) {\n\tconst newSpeed = Math.sqrt(Math.pow(vFinal.x, 2) + Math.pow(vFinal.y, 2));\n\t\n\treturn { // RETURN SPEED RATIO\n\t\tx: vFinal.x * particle.startSpeed / newSpeed,\n\t\ty: vFinal.y * particle.startSpeed / newSpeed\n\t}\n\n}\n","import { updateSimulation } from \"./updateSimulation\";\nimport * as PIXI from \"pixi.js-legacy\";\n\nexport function startSimulation(autostart, simulationSettings = null) {\n\tthis.autostart = autostart || false;\n\t// UTILITIES\n\n\tthis.simulationApp = new PIXI.Application({\n\t\tbackgroundColor: 0x000,\n\t\twidth: this.canvasWidth,\n\t\theight: this.canvasHeight,\n\t\tresolution: window.devicePixelRatio || 1,\n\t\tautoDensity: true,\n\t\tsharedLoader: true\n\t});\n\tdocument.getElementById(\"canvas-container\").appendChild(this.simulationApp.view);\n\n\tif (this.simulationApp.loader.resources.sheet == null) {\n\t\tthis.simulationApp.loader.add(\"sheet\", \"balls.json\")\n\t\t\t.on(\"progress\", (loader, resource) => console.log(loader.progress + \"% loaded\"))\n\t\t\t.on(\"load\", (loader, resource) => console.log(\"Asset loaded\" + resource.name))\n\t\t\t.on(\"error\", err => console.error(\"load error\", err))\n\t\t\t.load(handleOnImageLoaded.bind(this, simulationSettings));\n\t} else {\n\t\tthis.simulationApp.loader.load(handleOnImageLoaded.bind(this, simulationSettings));\n\t}\n\n\n\t// Resize function window\n\tconst resize = (e) => {\n\t\tif (this.simulationApp) {\n\t\t\t// Resize the renderer\n\t\t\tthis.simulationApp.renderer.resize(window.innerWidth < this.canvasWidth ? this.canvasWidth : window.innerWidth,\n\t\t\t\t\t\t\t\twindow.innerHeight < this.canvasHeight ? this.canvasHeight : window.innerHeight);\n\t\t}\n\t// You can use the 'screen' property as the renderer visible\n\t// area, this is more useful than view.width/height because\n\t// it handles resolution\n\t//rect.position.set(app.screen.width, app.screen.height);\n\t}\n\t// Listen for window resize events\n\twindow.addEventListener('resize', resize);\n}\n\nfunction randomIntNumber(min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n}\nfunction distance(x1, y1, x2, y2) {\n\tconst xDist = x2 - x1;\n\tconst yDist = y2 - y1;\n\treturn Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n}\n\nfunction handleOnImageLoaded(simulationSettings) {\n\tconst {\n\t\tsize: radius,\n\t\tspeed,\n\t\tquantity\n\t} = simulationSettings == null ? this.state.simulationSettings : simulationSettings;\n\t\n\tlet contagion, sprite;\n\tconst spriteArr = [];\n\tconst nrImages = +quantity;\n\tconst maxWidth = this.canvasWidth - radius * 2.5;\n\tconst maxHeight = this.canvasHeight - radius * 2.5;\n\tconst whiteBall = this.simulationApp.loader.resources.sheet.textures[\"ball-white-15.png\"];\n\tconst redBall = this.simulationApp.loader.resources.sheet.textures[\"ball-red-15.png\"];\n\n\tfor (let i = 0; i < nrImages; i++) {\n\n\t\tcontagion = i === 0 ? 1 : 0;\n\t\tlet x = randomIntNumber(radius * 2, maxWidth);\n\t\tlet y = randomIntNumber(radius * 2, maxHeight);\n\t\tif (i !== 0) {\n\t\t\tfor (let j = 0; j < spriteArr.length; j++) {\n\t\t\t\tif ((distance(x, y, spriteArr[j].x, spriteArr[j].y) - (radius + spriteArr[j].radius)) < 0) {\n\t\t\t\t\tx = randomIntNumber(radius * 2, maxWidth);\n\t\t\t\t\ty = randomIntNumber(radius * 2, maxHeight);\n\t\t\t\t\t// set new x, y recursively\n\t\t\t\t\tj = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (contagion) {\t\t\t\t\n\t\t\tsprite = new PIXI.Sprite(redBall);\n\t\t} else {\n\t\t\tsprite = new PIXI.Sprite(whiteBall);\n\t\t}\n\t\tsprite.x = x;\n\t\tsprite.y = y;\n\t\tsprite.width = radius * 2;\n\t\tsprite.height = radius * 2;\n\t\tsprite.anchor.x = .5;\n\t\tsprite.anchor.y = .5;\n\t\tsprite.myID = i;\n\t\tsprite.radius = radius;\n\t\tsprite.reactContext = this;\n\t\tsprite.contagion = contagion;\n\t\tsprite.contagiousFrom = null;\n\t\tconst randomX = Math.random() - .5;\n\t\tconst randomY = Math.random() - .5;\n\t\tsprite.velocity = { \n\t\t\tx: randomX < 0  && randomX > -.3 ? (randomX*speed) - speed : (randomX > 0  && randomX < .3 ? (randomX) + speed : randomX * speed),\n\t\t\ty: randomY < 0  && randomY > -.3 ? (randomY*speed) - speed : (randomY > 0  && randomY < .3 ? (randomY) + speed : randomY * speed),\n\t\t};\n\t\t\n\t\t// calculate starting speed (hypothenuse from x, y)\n\t\tsprite.startSpeed = Math.sqrt(Math.pow(sprite.velocity.x, 2) + Math.pow(sprite.velocity.y, 2));\n\t\tspriteArr.push(sprite);\n\t}\n\t\n\tconst len = spriteArr.length;\t\n\t// draw and animate\n\tif (this.autostart) {\n\t\tfor (let index = 0; index < len; index++) {\n\t\t\tthis.simulationApp.stage.addChild(spriteArr[index]);\n\t\t\tthis.simulationApp.ticker.add(updateSimulation.bind(null, spriteArr[index], spriteArr, distance, this.simulationApp.loader));\n\t\t}\n\t} else {\n\t\tfor (let index = 0; index < len; index++) {\n\t\t\tthis.simulationApp.stage.addChild(spriteArr[index]);\n\t\t\tthis.simulationApp.ticker.addOnce(updateSimulation.bind(null, spriteArr[index], spriteArr, distance, this.simulationApp.loader));\n\t\t}\n\t}\n}\n\n","export const updateGame = (sprite, spriteArr, distance, loader) => {\n\tif (sprite.time && (new Date().getTime() - sprite.time) > 20000) {\n\t\tsprite.x = -500;\n\t\tsprite.y = -500;\n\t\tsprite.time = null;\n\t}\n\t// DRAG QUARANTINE AROUND - when quarantineDropped === false\n\tif (sprite.time && !sprite.reactContext.state.quarantineDropped && sprite.myID === sprite.reactContext.state.draggedQuarantine.id) {\t\t\n\t\tsprite.x = sprite.reactContext.state.draggedQuarantine.x;\n\t\tsprite.y = sprite.reactContext.state.draggedQuarantine.y;\t\t\n\t}\n\t\n\t// X BOUNDARIES\n\tif ((sprite.x + sprite.radius) > (window.innerWidth < sprite.reactContext.canvasWidth ? sprite.reactContext.canvasWidth : window.innerWidth )) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\tif ((sprite.x - sprite.radius) < 0) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\t// Y BOUNDARIES\n\tif ((sprite.y + sprite.radius) > (window.innerHeight < sprite.reactContext.canvasHeight ? sprite.reactContext.canvasHeight : window.innerHeight)) { // resize only up\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\tif ((sprite.y - sprite.radius) < 0) {\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\t/* CALCULATE DEACTIVATION TIME IF APPLIED - MAYBE WILL BE USED FOR PREVOIUS INFECTED - VIOLET\n\tif (sprite.reactContext.state.simulationSettings[\"deactivateAfter\"] > 0) {\n\t\tif (sprite.contagiousFrom && (sprite.reactContext.state.currentTime - sprite.contagiousFrom > sprite.reactContext.state.simulationSettings[\"deactivateAfter\"])) {\n\t\t\tsprite.contagion = 0;\n\t\t\tsprite.contagiousFrom = 0;\n\t\t\tsprite.texture = loader.resources.sheet.textures[\"ball-white-15.png\"];\n\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious - 1, healthy: prevState.healthy + 1 }));\n\t\t}\n\t}*/\n\t// CALCULATE COLLISION DETECTION WITH QUARANTINE ONLY WHEN DROPPED - when draggedID changes this eval will be false!\n\tif (sprite.myID === sprite.reactContext.state.draggedQuarantine.id && !sprite.reactContext.state.quarantineDropped) {\n\t\treturn;\n\t}\n\t// CALCULATE COLLISION DETECTION TO ALL OTHER IMAGES\n\tfor (let i = 0; i < spriteArr.length; i++) {\n\t\t// don't calculate collisions for same or quarantined objects\n\t\tif (sprite.myID === spriteArr[i].myID || (spriteArr[i].velocity.x === 0 && spriteArr[i].velocity.y === 0)) {\n\t\t\tcontinue;\n\t\t}\n\t\t// check if distance minus radia is less then 0 --> crash\n\t\tif ((distance(sprite.x, sprite.y, spriteArr[i].x, spriteArr[i].y) - (sprite.radius + spriteArr[i].radius)) < 0) {\n\t\t\tconst otherSprite = spriteArr[i]\n\t\t\t// don't calculate contagion for quarantine particle which has id > particle quantity\n\t\t\tif (otherSprite.myID < sprite.reactContext.state.gameSettings.quantity && sprite.myID < sprite.reactContext.state.gameSettings.quantity) {\t\n\t\t\t\t// only calculating contagion transmission (one contagious, one healthy)\n\t\t\t\tif (otherSprite.contagion && !sprite.contagion) {\t\t\t\t\t\t\n\t\t\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious + 1, healthy: prevState.healthy - 1 }));\n\t\t\t\t\tsprite.contagion = 1;\n\t\t\t\t\tsprite.contagiousFrom = new Date().getTime();\n\t\t\t\t\tsprite.texture = loader.resources.sheet.textures[\"ball-red-15.png\"];\n\t\t\t\t\tsprite.reactContext.state.simulationSettings[\"autorestart\"] && sprite.reactContext.state.healthy === 0 && sprite.reactContext.gameRestart();\t// ON AUTORESTART=TRUE\n\t\t\t\t} else if (sprite.contagion && !otherSprite.contagion) {\n\t\t\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious + 1, healthy: prevState.healthy - 1 }));\n\t\t\t\t\totherSprite.contagion = 1;\n\t\t\t\t\totherSprite.contagiousFrom = new Date().getTime();\n\t\t\t\t\totherSprite.texture = loader.resources.sheet.textures[\"ball-red-15.png\"];\n\t\t\t\t\tsprite.reactContext.state.simulationSettings[\"autorestart\"] && sprite.reactContext.state.healthy === 0 && sprite.reactContext.gameRestart(); // ON AUTORESTART=TRUE\n\t\t\t\t}\n\t\t\t}\n\t\t\tresolveCollision(sprite, otherSprite, distance);\n\t\t}\n\t}\n\tif (sprite.velocity.x === 0 && sprite.velocity.y === 0) {\n\t\tsprite.x = sprite.x;\n\t\tsprite.y = sprite.y;\n\t} else {\n\t\tsprite.x += sprite.velocity.x;\n\t\tsprite.y += sprite.velocity.y;\n\t}\n\n}\n/**\n * Rotates coordinate system for velocities\n *\n * Takes velocities and alters them as if the coordinate system they're on was rotated\n *\n * @param  Object | velocity | The velocity of an individual particle\n * @param  Float  | angle    | The angle of collision between two objects in radians\n * @return Object | The altered x and y velocities after the coordinate system has been rotated\n */\nfunction rotate(velocity, angle) {\n\tconst rotatedVelocities = {\n\t\tx: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n\t\ty: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle)\n\t};\n\treturn rotatedVelocities;\n}\n\n/**\n * Swaps out two colliding particles' x and y velocities after running through\n * an elastic collision reaction equation\n *\n * @param  Object | particle      | A particle object with x and y coordinates, plus velocity\n * @param  Object | otherParticle | A particle object with x and y coordinates, plus velocity\n * @return Null | Does not return a value\n */\n\nfunction resolveCollision(particle, otherParticle, distance) {\n\tconst quantity = particle.reactContext.state.gameSettings.quantity;\n\tlet xVelocityDiff, yVelocityDiff, xDist, yDist;\n\n\txVelocityDiff = particle.velocity.x - otherParticle.velocity.x;\n\tyVelocityDiff = particle.velocity.y - otherParticle.velocity.y;\n\n\txDist = otherParticle.x - particle.x;\n\tyDist = otherParticle.y - particle.y;\n\n\n\n\t// Prevent accidental overlap of images\n\tif (xVelocityDiff * xDist + yVelocityDiff * yDist > 0) {\n\t\t// Grab angle between the two colliding images\n\t\tconst angle = -Math.atan2(otherParticle.y - particle.y, otherParticle.x - particle.x);\n\n\t\t// Store mass in var for better readability in collision equation\n\t\t// const m1 = particle.mass;\n\t\t// const m2 = otherParticle.mass;\n\n\t\t// Velocity before equation\n\t\tconst u1 = rotate(particle.velocity, angle);\n\t\tconst u2 = rotate(otherParticle.velocity, angle);\n\n\t\t// Velocity after 1d collision equation\n\t\t// (mass) const v1 = { x: u1.x * (m1 - m2) / (m1 + m2) + u2.x * 2 * m2 / (m1 + m2), y: u1.y };\n\t\t// (mass) const v2 = { x: u2.x * (m1 - m2) / (m1 + m2) + u1.x * 2 * m2 / (m1 + m2), y: u2.y };\n\t\tconst v1 = { x: u2.x, y: u1.y };\n\t\tconst v2 = { x: u1.x, y: u2.y };\n\n\t\t// Final velocity after rotating axis back to original location\n\t\tconst vFinal1 = rotate(v1, -angle);\n\t\tconst vFinal2 = rotate(v2, -angle);\n\n\t\t// PRESERVE SPEED - calculate startSpeed and newSpeed ratio and apply it to particle x and y velocities\n\t\tconst particlePreservedSpeed = preserveSpeed(particle, vFinal1);\n\t\tconst otherParticlePreservedSpeed = preserveSpeed(otherParticle, vFinal2);\n\n\t\t// Swap particle velocities for realistic bounce effect\n\t\tparticle.velocity.x = particlePreservedSpeed.x;\n\t\tparticle.velocity.y = particlePreservedSpeed.y;\n\n\t\totherParticle.velocity.x = otherParticlePreservedSpeed.x;\n\t\totherParticle.velocity.y = otherParticlePreservedSpeed.y;\n\t} else if (particle.myID >= quantity) {\t\t\n\t\tif ((distance(particle.x, particle.y, otherParticle.x, otherParticle.y) - (particle.radius + otherParticle.radius)) < -2) {\n\t\t\tparticle.velocity.x = 0;\n\t\t\tparticle.velocity.y = 0;\n\t\n\t\t\totherParticle.velocity.x = 0;\n\t\t\totherParticle.velocity.y = 0;\n\t\t}\n\t}\n}\n\nfunction preserveSpeed(particle, vFinal) {\n\t// calculate hypothenuse of the new speed\n\tconst newSpeed = Math.sqrt(Math.pow(vFinal.x, 2) + Math.pow(vFinal.y, 2));\n\t// and compare it to the old speed hypothenuse and shorten / prolong x & y with calculated ratio\n\treturn {\n\t\tx: vFinal.x * particle.startSpeed / newSpeed,\n\t\ty: vFinal.y * particle.startSpeed / newSpeed\n\t}\n\n}\n","import { updateGame } from \"./updateGame\";\nimport * as PIXI from \"pixi.js-legacy\";\n\nexport function startGame(autostart, gameSettings = null) {\n\tthis.autostart = autostart || false;\n\t// UTILITIES\n\n\tthis.gameApp = new PIXI.Application({\n\t\tbackgroundColor: 0x000,\n\t\twidth: this.canvasWidth,\n\t\theight: this.canvasHeight,\n\t\tresolution: window.devicePixelRatio || 1,\n\t\tautoDensity: true,\n\t\tsharedLoader: true\n\t});\n\tdocument.getElementById(\"canvas-container\").appendChild(this.gameApp.view);\n\t\n\tif (this.gameApp.loader.resources.sheet == null) {\n\t\tthis.gameApp.loader.add(\"sheet\", \"balls.json\")\n\t\t\t.on(\"progress\", (loader, resource) => console.log(loader.progress + \"% loaded\"))\n\t\t\t.on(\"load\", (loader, resource) => console.log(\"Asset loaded\" + resource.name))\n\t\t\t.on(\"error\", err => console.error(\"load error\", err))\n\t\t\t.load(handleOnImageLoaded.bind(this, gameSettings));\n\t} else {\n\t\tthis.gameApp.loader.load(handleOnImageLoaded.bind(this, gameSettings));\n\t}\n\t// Resize function window\n\tconst resize = (e) => {\n\t\tif (this.gameApp) {\n\t\t\t// Resize the renderer\n\t\t\tthis.gameApp.renderer.resize(window.innerWidth < this.canvasWidth ? this.canvasWidth : window.innerWidth,\n\t\t\t\t\t\t\t\twindow.innerHeight < this.canvasHeight ? this.canvasHeight : window.innerHeight);\n\t\t}\n\t// You can use the 'screen' property as the renderer visible\n\t// area, this is more useful than view.width/height because\n\t// it handles resolution\n\t//rect.position.set(app.screen.width, app.screen.height);\n\t}\n\t// Listen for window resize events\n\twindow.addEventListener('resize', resize);\n}\n\nfunction randomIntNumber(min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n}\nfunction distance(x1, y1, x2, y2) {\n\tconst xDist = x2 - x1;\n\tconst yDist = y2 - y1;\n\treturn Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n}\n\nfunction handleOnImageLoaded(gameSettings) {\n\tconst {\n\t\tsize: radius,\n\t\tspeed,\n\t\tquantity,\n\t\tdifficulty,\n\t\tavailableQuarantines\n\t} = gameSettings == null ? this.state.gameSettings : gameSettings;\n\t\n\t\n\tconst quarantineArr = [];\n\t// QUARANTINES - create and hide them from the screen & use them randomly when needed\n\tfor (let index = 1; index < this.state.availableQuarantines.length+1; index++) {\n\t\tconst randomLength = randomIntNumber(index*50, index*70);\n\t\tconst width = randomLength;\n\t\tconst height = randomLength;\n\t\tconst radius = randomLength / 2;\n\n\t\tconst gt = new PIXI.Graphics();\n\t\tgt.beginFill();\n\t\tgt.lineStyle(5,0x85e312,1);\n\t\tgt.drawCircle(0,0,radius);\n\t\tgt.endFill();\n\t\tconst texture = gt.generateCanvasTexture();\t\n\t\n\t\tconst particleID = this.state.gameSettings.quantity + index-1;\n\t\tconst quarantine = new PIXI.Sprite(texture);\n\t\tquarantine.x = -500;\n\t\tquarantine.y = -500;\n\t\tquarantine.alpha = .5;\n\t\tquarantine.time = new Date().getTime();\n\t\tquarantine.width = width;\n\t\tquarantine.height = height;\n\t\tquarantine.anchor.x = .5;\n\t\tquarantine.anchor.y = .5;\n\t\tquarantine.myID = particleID;\n\t\tquarantine.radius = radius;\n\t\tquarantine.reactContext = this;\n\t\tquarantine.contagion = 0;\n\t\tquarantine.contagiousFrom = null;\n\t\tquarantine.velocity = { \n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tquarantine.startSpeed = 0;\n\t\tquarantineArr.push(quarantine);\n\t}\n\n\t\t\n\tlet contagion, sprite;\n\tconst spriteArr = [];\n\tconst nrImages = +quantity;\n\tconst maxWidth = this.canvasWidth - radius * 2.5;\n\tconst maxHeight = this.canvasHeight - radius * 2.5;\n\tconst whiteBall = this.gameApp.loader.resources.sheet.textures[\"ball-white-15.png\"];\n\tconst redBall = this.gameApp.loader.resources.sheet.textures[\"ball-red-15.png\"];\n\n\tfor (let i = 0; i < nrImages; i++) {\n\n\t\tcontagion = i === 0 ? 1 : 0;\n\t\tlet x = randomIntNumber(radius * 2, maxWidth);\n\t\tlet y = randomIntNumber(radius * 2, maxHeight);\n\t\tif (i !== 0) {\n\t\t\tfor (let j = 0; j < spriteArr.length; j++) {\n\t\t\t\tif ((distance(x, y, spriteArr[j].x, spriteArr[j].y) - (radius + spriteArr[j].radius)) < 0) {\n\t\t\t\t\tx = randomIntNumber(radius * 2, maxWidth);\n\t\t\t\t\ty = randomIntNumber(radius * 2, maxHeight);\n\t\t\t\t\t// set new x, y recursively\n\t\t\t\t\tj = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (contagion) {\t\t\t\t\n\t\t\tsprite = new PIXI.Sprite(redBall);\n\t\t} else {\n\t\t\tsprite = new PIXI.Sprite(whiteBall);\n\t\t}\n\t\tsprite.x = x;\n\t\tsprite.y = y;\n\t\tsprite.width = radius * 2;\n\t\tsprite.height = radius * 2;\n\t\tsprite.anchor.x = .5;\n\t\tsprite.anchor.y = .5;\n\t\tsprite.myID = i;\n\t\tsprite.radius = radius;\n\t\tsprite.reactContext = this;\n\t\tsprite.contagion = contagion;\n\t\tsprite.contagiousFrom = 0;\n\t\tconst randomX = Math.random() - .5;\n\t\tconst randomY = Math.random() - .5;\n\t\tsprite.velocity = { \n\t\t\tx: randomX < 0  && randomX > -.3 ? (randomX*speed) - speed : (randomX > 0  && randomX < .3 ? (randomX) + speed : randomX * speed),\n\t\t\ty: randomY < 0  && randomY > -.3 ? (randomY*speed) - speed : (randomY > 0  && randomY < .3 ? (randomY) + speed : randomY * speed),\n\t\t};\n\t\t\n\t\t// calculate starting speed (hypothenuse from x, y)\n\t\tsprite.startSpeed = Math.sqrt(Math.pow(sprite.velocity.x, 2) + Math.pow(sprite.velocity.y, 2));\n\t\tspriteArr.push(sprite);\n\t}\n\t\n\tquarantineArr.forEach(item => spriteArr.push(item));\n\t\n\tconst len = spriteArr.length;\t\n\t// draw and animate\n\tif (this.autostart) {\n\t\tfor (let index = 0; index < len; index++) {\n\t\t\tthis.gameApp.stage.addChild(spriteArr[index]);\n\t\t\tthis.gameApp.ticker.add(updateGame.bind(null, spriteArr[index], spriteArr, distance, this.gameApp.loader));\n\t\t}\n\t} else {\n\t\tfor (let index = 0; index < len; index++) {\n\t\t\tthis.gameApp.stage.addChild(spriteArr[index]);\n\t\t\tthis.gameApp.ticker.addOnce(updateGame.bind(null, spriteArr[index], spriteArr, distance, this.gameApp.loader));\n\t\t}\n\t}\n}\n\n","export function pause() {\n\tif (this.simulationApp) {\n\t\treturn this.simulationApp.ticker.stop();\n\t}\n\telse if (this.gameApp) {\n\t\treturn this.gameApp.ticker.stop();\n\n\t}\n};\n\nexport function unPause() {\n\tif (this.simulationApp) {\n\t\treturn this.simulationApp.ticker.start();\n\t}\n\telse if (this.gameApp) {\n\t\treturn this.gameApp.ticker.start();\n\t}\n};\n\nexport function stop() {\n\tif (this.simulationApp) {\n\t\t// https://pixijs.download/dev/docs/PIXI.Application.html#destroy\n\t\t// (everything should be destroyed when not needed > garbage collector)\n\t\t// removes children, but leaves canvas element\n\t\tthis.simulationApp.destroy(true);\n\t\tthis.simulationApp = null;\n\t}\n\telse if (this.gameApp) {\n\t\t// https://pixijs.download/dev/docs/PIXI.Application.html#destroy\n\t\t// (everything should be destroyed when not needed > garbage collector)\n\t\t// removes children, but leaves canvas element\n\t\tthis.gameApp.destroy(true);\n\t\tthis.gameApp = null;\n\t}\n};\n\nexport { startSimulation } from \"./startSimulation\";\nexport { startGame } from \"./startGame\";","export const sizeOptions = [\n\t{ type: \"small\", value: 2.5 },\n\t\"|\",\n\t{ type: \"medium\", value: 5 },\n\t\"|\",\n\t{ type: \"large\", value: 7.5 },\n];\nexport const quantityValues = {\n\t\"2.5\": [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 700, \"|\", 800, \"|\", 1000 ],\n\t5: [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 600, \"|\", 700, \"|\", 800 ],\n\t\"7.5\": [  50, \"|\", 100,\"|\", 150, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500 ]\n};\nexport const speedOptions = [\n\t{ type: \"slow\", value: .3 },\n\t\"|\",\n\t{ type: \"medium\", value: .6 },\n\t\"|\",\n\t{ type: \"fast\", value: 1 },\n];\nexport const deactivateOptions = [\n\t0,\n\t\"|\",\n\t10000,\n\t\"|\",\n\t15000,\n\t\"|\",\n\t20000,\n\t\"|\",\n\t30000,\n\t\"|\",\n\t45000,\n\t\"|\",\n\t60000\n];\nexport const booleanOptions = [\n\t{ type: \"yes\", value: true },\n\t\"|\",\n\t{ type: \"no\", value: false }\n];","import React from \"react\";   \nimport { Row, Modal, ModalHeader, ModalBody, ModalFooter, \n\t\tContainer, Nav, NavLink } from \"reactstrap\";\n\nimport { sizeOptions, quantityValues, speedOptions, deactivateOptions, booleanOptions } from \"./simulationOptions\";\nimport \"./simulationDialog.scss\";\n\nexport class SimulationDialog extends React.Component {\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t// starightforward - in case simulation is active, this component should not update\n\t\tif (!nextProps.isSimulationActive) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.props.isOpen !== nextProps.isOpen || this.props.buttonText !== nextProps.buttonText) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.props.settings[\"size\"] !== nextProps.settings[\"size\"] ||\n\t\t\tthis.props.settings[\"speed\"] !== nextProps.settings[\"speed\"] ||\n\t\t\tthis.props.settings[\"quantity\"] !== nextProps.settings[\"quantity\"] ||\n\t\t\tthis.props.settings[\"deactivateAfter\"] !== nextProps.settings[\"deactivateAfter\"] ||\n\t\t\tthis.props.settings[\"showTime\"] !== nextProps.settings[\"showTime\"] ||\n\t\t\tthis.props.settings[\"showStats\"] !== nextProps.settings[\"showStats\"] ||\n\t\t\tthis.props.settings[\"autorestart\"] !== nextProps.settings[\"autorestart\"]\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t// in case simulation is active, this component should not trigger update\n\t\tif (!this.props.isSimulationActive) {\n\t\t\treturn false;\n\t\t}\n\t\tconst minQuantity = quantityValues[this.props.settings.size][0] || 0;\n\t\tconst maxQuantity = quantityValues[this.props.settings.size].slice(-1)[0] || 1000;\n\t\t// if quantity is greater or smaller than it should be according to size\n\t\tif (this.props.settings.quantity > maxQuantity ) {\n\t\t\treturn this.props.setSimulationSettings({ quantity: maxQuantity });\n\t\t}\n\t\tif (this.props.settings.quantity < minQuantity ) {\n\t\t\treturn this.props.setSimulationSettings({ quantity: minQuantity });\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst { isOpen, toggle, startSimulation, buttonText, setSimulationSettings, \n\t\t\t\t\tsettings: { size, speed, quantity, deactivateAfter, showTime, showStats, autorestart} } = this.props;\n\n\t\treturn (\t\t\n\t\t\t<Modal key=\"simulator\" isOpen={isOpen} toggle={toggle} centered={true} fade={true} className=\"simulator-modal\">\n\t\t\t\t<ModalHeader charCode=\"X\" toggle={toggle}></ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Size of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{sizeOptions.map((sizeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof sizeOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{sizeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({size: sizeOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={sizeOption.value === size}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sizeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Number of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{quantityValues[size].map((quantityValue, idx) => {\n\t\t\t\t\t\t\t\t\tif (quantityValue === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{quantityValue}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({quantity: quantityValue})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={quantityValue === quantity}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{quantityValue}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\t\t\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Speed of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{speedOptions.map((speedOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof speedOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{speedOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn\t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({speed: speedOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={speedOption.value === speed}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{speedOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Deactivate ball after</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{deactivateOptions.map((deactivateOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (deactivateOption === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{deactivateOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({deactivateAfter: deactivateOption})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={deactivateOption === deactivateAfter}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{deactivateOption === 0 ? \"no\" : `${deactivateOption/1000}s`}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\t\t\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\t\t\t\t\n\t\t\t\t\t<Row className=\"col-12\">\n\t\t\t\t\t\t<Container className=\"col-4 choice\">\n\t\t\t\t\t\t\t<div>Show time</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{booleanOptions.map((timeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof timeOption !== \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{timeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({showTime: timeOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={timeOption.value === showTime}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{timeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t<Container className=\"col-4 choice\">\n\t\t\t\t\t\t\t<div>Show stats</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{booleanOptions.map((statOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof statOption !== \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{statOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx} \n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({showStats: statOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={statOption.value === showStats}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{statOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t<Container className=\"col-4 choice\">\n\t\t\t\t\t\t\t<div>Autorestart</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{booleanOptions.map((restartOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof restartOption !== \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{restartOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({autorestart: restartOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={restartOption.value === autorestart}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{restartOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter onClick={startSimulation} className=\"simulator-modal__footer\">\n\t\t\t\t\t&gt;&gt;&gt;&nbsp;&nbsp; {buttonText} &nbsp;&nbsp;&lt;&lt;&lt;\n\t\t\t\t</ModalFooter>\n\t\t</Modal>\n\t)};\n};\n","import React from 'react'\nimport { Button, Navbar, Nav, NavbarToggler,\n\tCollapse, NavItem, NavLink, NavbarText } from \"reactstrap\";\n\n\nexport const NavBar = props => {\n\tconst { toggleNavbarItemsExpand, isNavbarExpanded, toggleNavbarVisibility, isNavbarVisible, contagious, healthy,\n\t\t\ttoggleSimulationDialog, toggleShareDialog, toggleGameDialog, startTime, simulationSettings: { showTime, showStats } } = props;\n\tconst seconds = startTime.getSeconds();\n\tconst formattedSeconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n\treturn(\n\t\t<Navbar dark className={`main__navbar ${!isNavbarVisible && \"hidden\"} d-inline-flex justify-content-between`} >\n\t\t\t<Button \n\t\t\t\tclassName={`main__navbar__toggler ${isNavbarVisible && \"hidden\"}`}\n\t\t\t\tonClick={toggleNavbarVisibility} \n\t\t\t\tdisabled={isNavbarVisible}\n\t\t\t\t>\n\t\t\t\t\t<svg height=\"15\" width=\"20\">\n\t\t\t\t\t\t<path d=\"M-2 2 l12 12 M10 15 l12 -13 Z\" fill=\"none\" strokeWidth=\"5\" stroke=\"white\"/>\n\t\t\t\t\t</svg>\n\t\t\t</Button>\n\t\t\t<Navbar dark className=\"col-6 main__navbar__left d-inline-flex justify-content-between\" expand=\"sm\">\n\t\t\t\t<NavbarToggler onClick={toggleNavbarItemsExpand} />\n\t\t\t\t<Collapse isOpen={isNavbarExpanded} navbar>\n\t\t\t\t<Nav className=\"navbar__nav left\" navbar>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" onClick={toggleSimulationDialog}>Simulate</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink data=\"game\" className=\"navbar__nav__link\" onClick={toggleGameDialog}>Play game</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink data=\"game\" className=\"navbar__nav__link\" >Stay Safe</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" onClick={toggleShareDialog}>Share</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" >About</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" onClick={toggleNavbarVisibility}>Hide</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t</Nav>\n\t\t\t\t</Collapse>\n\t\t\t</Navbar>\n\t\t\t<Navbar dark className=\"col-6 main__navbar__right d-inline-flex justify-content-between\" >\n\t\t\t\t<Nav className=\"navbar__nav caption\" navbar>\n\t\t\t\t\t<NavItem>TheCovidSimulator</NavItem>\n\t\t\t\t</Nav>\n\t\t\t\t<Nav className=\"navbar__nav right\" navbar>\n\t\t\t\t\t<NavItem className=\" d-inline-flex justify-content-between\">\n\t\t\t\t\t\t<NavbarText>Stay safe. For more visit&nbsp;</NavbarText>\n\t\t\t\t\t\t<NavLink \n\t\t\t\t\t\t\thref=\"https://www.countdownkings.com/\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"nooperner noreferrer\"\t\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCountdownKings.com\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem className={`stats ${!isNavbarVisible && \"drop\"}`}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tshowStats ? \n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<NavbarText className=\"stats__infected\">Infected:&nbsp;{contagious}</NavbarText>\n\t\t\t\t\t\t\t\t<NavbarText className=\"stats__healthy\">Healthy:&nbsp;{healthy}</NavbarText>\t\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem className={`timer ${!isNavbarVisible && \"drop\"}`}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tshowTime ? `${startTime.getMinutes()}:${formattedSeconds}` : \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t</NavItem>\n\t\t\t\t</Nav>\n\t\t\t</Navbar>\n\t\t</Navbar>\n\t);\n};","import React from \"react\";   \nimport { Button, Row, Modal, ModalHeader, ModalBody, ModalFooter, \n\t\tContainer, NavLink } from \"reactstrap\";\n\nimport \"./shareDialog.scss\";\n\nexport const ShareDialog = props => {\n\tconst { isOpen, toggle, copy, isCopied } = props;\n   \treturn (\n\t\t<Modal key=\"sharemodal\" isOpen={isOpen} toggle={toggle} centered={true} className=\"share-modal\">\n\t\t\t<ModalHeader charCode=\"X\" toggle={toggle}>\n\t\t\t</ModalHeader>\n\t\t\t<ModalBody className=\"justify-content-center\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Container className=\"share\">\n\t\t\t\t\t\tShare with your friends\n\t\t\t\t\t</Container>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\thttps://www.covidsimulator.com\n\t\t\t\t\t</Container>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t{ isCopied ?\n\t\t\t\t\t\t\t<div className=\"copied__link\">Link copied <span role=\"img\" aria-label=\"smiley face\">&#128515;</span></div> \n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Button onClick={copy} >Copy link</Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Container>\n\t\t\t\t</Row>\n\t\t\t</ModalBody>\n\t\t\t<ModalFooter>\n\t\t\t\t<Container  className=\"col-12 d-inline-flex justify-content-center\">\n\t\t\t\t\tFor more visit&nbsp;\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tclassName=\"footer__link\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\t\t\t\t\t\t\t\n\t\t\t\t\t\thref=\"https://www.countdownkings.com\">\n\t\t\t\t\t\t\tCountdownKings.com\n\t\t\t\t\t</NavLink>\n\t\t\t\t</Container>\n\t\t\t</ModalFooter>\n\t\t</Modal>\n   );\n};\n","export const modeOptions = [\n\t{ type: \"Keep Uninfected\", value: 0 },\n\t\"|\",\n\t{ type: \"Time Challenge\", value: 1 }\n];\nexport const difficultyOptions = [\n\t{ type: \"Easy\", value: 0 },\n\t\"|\",\n\t{ type: \"Medium\", value: 1 },\n\t\"|\",\n\t{ type: \"Hard\", value: 2 },\n];\nexport const sizeOptions = [\n\t{ type: \"Small\", value: 2.5 },\n\t\"|\",\n\t{ type: \"Medium\", value: 5 },\n\t\"|\",\n\t{ type: \"Large\", value: 7.5 },\n];\n// depend on size and difficulty: easy: 0, medium: 1, hard: 2\nexport const quantityValues = {\n\t\"2.5\": [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 700, \"|\", 800, \"|\", 1000 ],\n\t5: [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 600, \"|\", 700, \"|\", 800 ],\n\t\"7.5\": [  50, \"|\", 100,\"|\", 150, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 600 ]\n};\nexport const quantityDiffVals = {\n\t0: {\n\t\t\"2.5\": { min: 100, max: 300},\n\t\t5: { min: 100, max: 300},\n\t\t\"7.5\": { min: 50, max: 100},\n\t},\n\t1: {\n\t\t\"2.5\": { min: 300, max: 500},\n\t\t5: { min: 300, max: 500},\n\t\t\"7.5\": { min: 150, max: 300},\n\t},\n\t2: {\n\t\t\"2.5\": { min: 700, max: 1000},\n\t\t5: { min: 600, max: 800},\n\t\t\"7.5\": { min: 300, max: 600},}\n}\n// depends on difficulty\nexport const speedOptions = [\n\t{ type: \"Slow\", value: 0.3, difficulty: 0 },\n\t\"|\",\n\t{ type: \"Medium\", value: .6, difficulty: 1 },\n\t\"|\",\n\t{ type: \"Fast\", value: 1, difficulty: 2 }\n];\n\nexport const speedDiffValues = {\n\t0: .5,\n\t1: 1,\n\t2: 1.5\n}\n","import React from \"react\";   \nimport { Row, Modal, ModalHeader, ModalBody, ModalFooter, \n\t\tContainer, Nav, NavLink } from \"reactstrap\";\n\nimport { modeOptions, difficultyOptions, sizeOptions, quantityValues, quantityDiffVals, speedOptions, speedDiffValues } from \"./gameOptions\";\nimport \"./gameDialog.scss\";\n\nexport class GameDialog extends React.Component {\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t// starightforward - in case simulation is active, this component should not update\n\t\tif (!nextProps.isGameActive) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.props.isOpen !== nextProps.isOpen || this.props.buttonText !== nextProps.buttonText) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.props.settings[\"mode\"] !== nextProps.settings[\"mode\"] ||\n\t\t\tthis.props.settings[\"difficulty\"] !== nextProps.settings[\"difficulty\"] ||\n\t\t\tthis.props.settings[\"size\"] !== nextProps.settings[\"size\"] ||\n\t\t\tthis.props.settings[\"quantity\"] !== nextProps.settings[\"quantity\"] ||\n\t\t\tthis.props.settings[\"speed\"] !== nextProps.settings[\"speed\"]\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t// in case simulation is active, this component should not trigger update\n\t\tif (!this.props.isGameActive) {\n\t\t\treturn false;\n\t\t}\n\t\tconst minQuantity = (quantityDiffVals[this.props.settings.difficulty][this.props.settings.size] || { min: 0 }).min;\n\t\tconst maxQuantity = (quantityDiffVals[this.props.settings.difficulty][this.props.settings.size] || { max: 1000 }).max;\n\t\tconst changedSpeed = speedDiffValues[this.props.settings.difficulty];\n\t\t// if quantity is greater or smaller than it should be according to size\n\t\tif (this.props.settings.quantity > maxQuantity ) {\n\t\t\treturn this.props.setGameSettings({ quantity: maxQuantity, speed: changedSpeed });\n\t\t}\n\t\tif (this.props.settings.quantity < minQuantity ) {\t\t\t\n\t\t\treturn this.props.setGameSettings({ quantity: minQuantity, speed: changedSpeed });\n\t\t}\n\t\t// if min, max values are not a problem, then set speed\n\t\tif (this.props.settings.speed !== changedSpeed) {\n\t\t\treturn this.props.setGameSettings({ speed: changedSpeed });\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst { isOpen, toggle, startGame, buttonText, setGameSettings, \n\t\t\t\t\tsettings: { mode, difficulty, size, quantity, speed } } = this.props;\n\t\t\n\t\treturn (\t\t\n\t\t\t<Modal key=\"game\" isOpen={isOpen} toggle={toggle} centered={true} fade={true} className=\"simulator-modal\">\n\t\t\t\t<ModalHeader charCode=\"X\" toggle={toggle}></ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Game Mode</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{modeOptions.map((modeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof modeOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{modeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({ mode: modeOption.value })}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={modeOption.value === mode}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{modeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Difficulty level (also affects Quarantine)</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{difficultyOptions.map((difficultyOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (difficultyOption === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{difficultyOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({ difficulty: difficultyOption.value })}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={difficultyOption.value === difficulty}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{difficultyOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\t\t\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Size of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{sizeOptions.map((sizeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof sizeOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{sizeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn\t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({size: sizeOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={sizeOption.value === size}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sizeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Number of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{quantityValues[size].map((quantityValue, idx) => {\n\t\t\t\t\t\t\t\t\tif (quantityValue === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{quantityValue}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// if quantity is outside of min / max values\n\t\t\t\t\t\t\t\t\tif ((quantityDiffVals[difficulty][size] && (quantityValue < quantityDiffVals[difficulty][size].min)) ||\n\t\t\t\t\t\t\t\t\t\t(quantityDiffVals[difficulty][size] && (quantityValue > quantityDiffVals[difficulty][size].max))\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink disabled={true} key={idx}>{quantityValue}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({quantity: quantityValue})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={quantityValue === quantity}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{quantityValue}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Speed of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{speedOptions.map((speedOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof speedOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{speedOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (speedOption.difficulty !== difficulty ) {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{speedOption.type}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn\t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({speed: speedOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={speedOption.value === speed}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{speedOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter onClick={startGame} className=\"simulator-modal__footer\">\n\t\t\t\t\t&gt;&gt;&gt;&nbsp;&nbsp; {buttonText} &nbsp;&nbsp;&lt;&lt;&lt;\n\t\t\t\t</ModalFooter>\n\t\t</Modal>\n\t)};\n};\n","import React from \"react\";   \nimport { Button } from \"reactstrap\";\n\nimport \"./quarantineButtons.scss\";\n\nexport class QuarantineButtons extends React.Component {\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tif (nextProps.quarantineButtonsActive !== this.props.quarantineButtonsActive) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\trender() {\n\t\tconst { quarantineButtonsActive, quarantineAppearanceSettings, setQuarantineInMotion } = this.props;\n\t\t\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={setQuarantineInMotion}\n\t\t\t\t\tclassName={`btn btn-success quarantine__btn quarantine__btn--left-top ${!quarantineButtonsActive && \"disabled\"}`}>\n\t\t\t\t\t\tQuarantine\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={setQuarantineInMotion}\n\t\t\t\t\tclassName={`btn btn-success quarantine__btn quarantine__btn--left-bottom ${!quarantineButtonsActive && \"disabled\"}`}>\n\t\t\t\t\t\tQuarantine\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={setQuarantineInMotion}\n\t\t\t\t\tclassName={`btn btn-success quarantine__btn quarantine__btn--right-top ${!quarantineButtonsActive && \"disabled\"}`}>\n\t\t\t\t\t\tQuarantine\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={setQuarantineInMotion}\n\t\t\t\t\tclassName={`btn btn-success quarantine__btn quarantine__btn--right-bottom ${!quarantineButtonsActive && \"disabled\"}`}>\n\t\t\t\t\t\tQuarantine\n\t\t\t\t</Button>\n\t\t\t</>\n\t\t);\n\t}\n}","import React from \"react\";\nimport { clearDriftless, setDriftlessInterval } from 'driftless';\n\nimport { startSimulation, startGame, stop, pause, unPause } from \"./helpers/actions\";\nimport { SimulationDialog, NavBar, ShareDialog, GameDialog, QuarantineButtons } from \"./components\";\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport \"./main.scss\";\n\nexport default class HomePage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.autostart = true;\n\t\tthis.simulationApp = null;\n\t\tthis.gameApp = null;\n\n\t\tthis.state = {\n\t\t\tisSimulationActive: true,\n\t\t\tisGameActive: false,\n\t\t\t// error handling\n\t\t\thasError: false, \n\t\t\terror: null,\n\t\t\t// time\n\t\t\tcurrentTime: new Date().getTime(),\n\t\t\tstartTime: new Date(0),\n\t\t\t// canvas state\n\t\t\tsimulationPaused: false,\n\t\t\tgamePaused: true,\n\t\t\tsimulationStopped: false,\n\t\t\tgameStopped: true,\n\t\t\tcontagious: 1,\n\t\t\thealthy: 199,\n\t\t\t// nav & buttons\n\t\t\tstartButtonText: \"CONTINUE SIMULATION\",\n\t\t\tisCopied: false,\n\t\t\tisNavbarExpanded: false,\n\t\t\tisNavbarVisible: true,\n\t\t\t// modals - popups\n\t\t\tshareModalOpen: false,\n\t\t\tsimulationSettingsOpen: false,\n\t\t\tgameSettingsOpen: false,\n\t\t\t// GAME\n\t\t\t// quarantine settings\n\t\t\tquarantineButtonsActive: false,\n\t\t\tquarantineDropped: false,\n\t\t\tavailableQuarantines: Array.apply(0, {length: 5}).map((x,i) => i),\n\t\t\tactiveQuarantines: [],\n\t\t\tdraggedQuarantine: {\n\t\t\t\tid: 0,\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t\t// game settings\n\t\t\tgameSettings: {\n\t\t\t\tmode: 0,\n\t\t\t\tdifficulty: 0,\n\t\t\t\tsize: (window.innerWidth < 800 ? 2.5 : 5),\n\t\t\t\tquantity: 100,\n\t\t\t\tspeed: 0\n\t\t\t},\n\t\t\t// SETTINGS\n\t\t\tsimulationSettings: {\n\t\t\t\tsize: (window.innerWidth < 800 ? 2.5 : 5),\n\t\t\t\tspeed: 1,\n\t\t\t\tquantity: 200,\n\t\t\t\tdeactivateAfter: 0,\n\t\t\t\tshowTime: true,\n\t\t\t\tshowStats: true,\n\t\t\t\tautorestart: true\n\t\t\t}\n\t\t}\n\t\tthis.interval = null;\n\t\tthis.canvasWidth = window.innerWidth;\n\t\tthis.canvasHeight = window.innerHeight;\n\t\t\n\t\tthis.stop = stop.bind(this);\n\t\tthis.startSimulation = startSimulation.bind(this);\n\t\tthis.startGame = startGame.bind(this);\n\t\tthis.pause = pause.bind(this);\n\t\tthis.unpause = unPause.bind(this);\n\t\t\n\t\tthis.shuffle = this.shuffle.bind(this);\n\t\tthis.toggleDialog = this.toggleDialog.bind(this);\n\t\tthis.onMouseMove = this.onMouseMove.bind(this);\n\t\tthis.toggleSimulationPause = this.toggleSimulationPause.bind(this);\n\t\tthis.toggleGamePause = this.toggleGamePause.bind(this);\n\t\tthis.intervalTime = this.intervalTime.bind(this);\n\t\tthis.handleResize = this.handleResize.bind(this);\n\t\tthis.handleBlur = this.handleBlur.bind(this);\n\t\tthis.handleRefocus = this.handleRefocus.bind(this);\n\t\tthis.copyToClipboard = this.copyToClipboard.bind(this);\n\t\t// GAME\n\t\tthis.gameRestart = this.gameRestart.bind(this);\n\t\tthis.stopStartGame = this.stopStartGame.bind(this);\n\t\tthis.setGameSettings = this.setGameSettings.bind(this);\n\t\tthis.toggleGameDialog = this.toggleGameDialog.bind(this);\n\t\tthis.setQuarantineInMotion = this.setQuarantineInMotion.bind(this);\n\t\t// SIMULATION\n\t\tthis.simulationRestart= this.simulationRestart.bind(this);\n\t\tthis.toggleShareDialog = this.toggleShareDialog.bind(this);\n\t\tthis.stopStartSimulation = this.stopStartSimulation.bind(this);\n\t\tthis.setSimulationSettings = this.setSimulationSettings.bind(this);\n\t\tthis.toggleSimulationDialog = this.toggleSimulationDialog.bind(this);\n\t\tthis.toggleNavbarVisibility = this.toggleNavbarVisibility.bind(this);\n\t\tthis.toggleNavbarItemsExpand = this.toggleNavbarItemsExpand.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tthis.startSimulation(true);\n\t\twindow.addEventListener('resize', this.handleResize);\n\t\twindow.addEventListener(\"blur\", this.handleBlur);\n\t\twindow.addEventListener(\"focus\", this.handleRefocus);\n\t\tthis.interval = setDriftlessInterval(this.intervalTime, 1000);\n\t}\n\tcomponentDidCatch(error, errorInfo) {\n\t\t// logErrorToMyService(error, errorInfo);\n\t}\n\tstatic getDerivedStateFromError(error) {\n\t\t// Update state so the next render will show the fallback UI.\n\t\treturn { hasError: true };\n\t}\n\tcomponentWillUnmount() {\n\t\tclearDriftless(this.interval);\n\t\tthis.simulationApp && this.simulationApp.destroy(true);\n\t\tthis.gameApp && this.gameApp.destroy(true);\n\t}\n\tintervalTime() {\n\t\tthis.setState(prevState => {\n\t\t\t// in case of simulation /game either stopped or paused \n\t\t\tif ((this.state.isSimulationActive && (this.state.simulationPaused || this.state.simulationStopped)) || \n\t\t\t\t(this.state.isGameActive && (this.state.gamePaused || this.state.gameStopped))\n\t\t\t) {\n\t\t\t\t// stop calculating currentTime because of deactivate time\n\t\t\t\treturn ({ currentTime: prevState.currentTime })\n\t\t\t}\n\t\t\t// if simulation / game is not paused, calculate start time a new\n\t\t\treturn ({ currentTime: new Date().getTime(), startTime: new Date(prevState.startTime.getTime() + 1000) })\n\t\t});\n\t}\n\thandleBlur() {\n\t\tif (this.state.isGameActive && !this.state.gamePaused) {\n\t\t\tthis.toggleDialog();\n\t\t}\n\t}\n\thandleRefocus() {\n\t\tif (this.state.isGameActive && this.state.gamePaused) {\n\t\t\tthis.toggleDialog();\n\t\t}\n\t}\n\thandleResize(e) {\n\t\tthis.canvasWidth = window.innerWidth < this.canvasWidth ? this.canvasWidth : window.innerWidth;\n\t\tthis.canvasHeight = window.innerHeight < this.canvasHeight ? this.canvasHeight : window.innerHeight;\n\t}\n\tonMouseMove(e) {\t\n\t\tif (this.state.quarantineButtonsActive) {\n\t\t\tconst pageX = e.pageX;\n\t\t\tconst pageY = e.pageY;\n\t\t\tthis.setState(prevstate => { \n\t\t\t\treturn { draggedQuarantine: {...prevstate.draggedQuarantine, ...{ x: pageX, y: pageY }} }\n\t\t\t});\n\t\t}\t\n\t}\n\tshuffle(arr) {\n\t\tlet currentIndex = arr.length, temporaryValue, randomIndex;\n\t\t// While there remain elements to shuffle...\n\t\twhile (0 !== currentIndex) {\n\t\t  // Pick a remaining element...\n\t\t  randomIndex = Math.floor(Math.random() * currentIndex);\n\t\t  currentIndex -= 1;\t  \n\t\t  // And swap it with the current element.\n\t\t  temporaryValue = arr[currentIndex];\n\t\t  arr[currentIndex] = arr[randomIndex];\n\t\t  arr[randomIndex] = temporaryValue;\n\t\t}\t  \n\t\treturn arr;\n\t}\n\t// SIMULATION\n\tstopStartSimulation() {\n\t\tif (this.state.simulationPaused && !this.state.simulationStopped) { // CONTINUE\n\t\t\tthis.toggleSimulationDialog();\n\t\t} else { \t\t\t\n\t\t\tthis.stop();\t\t\t\t\t\t// START\n\t\t\tthis.startSimulation(true);\n\t\t\tthis.setState(prevState => ({ startTime: new Date(0), simulationStopped: false, simulationPaused: false, startButtonText: \"CONTINUE SIMULATION\", \n\t\t\t\t\t\t\t\t\tsimulationSettingsOpen: false, healthy: prevState.simulationSettings[\"quantity\"] - 1, contagious: 1  }));\n\t\t}\n\t}\n\tsimulationRestart() {\n\t\tthis.stop();\n\t\tthis.startSimulation(true);\n\t\tthis.setState(prevState => ({ startTime: new Date(0), simulationStopped: false, simulationPaused: false, startButtonText: \"CONTINUE SIMULATION\", simulationSettingsOpen: false,\n\t\t\t\t\thealthy: prevState.simulationSettings[\"quantity\"] - 1, contagious: 1 }));\n\t}\n\tsetSimulationSettings(e) {\n\t\tlet targetData, parsedData;\n\t\t// triggered on event\n\t\tif (e.currentTarget) {\t\t\t\n\t\t\ttargetData = e.currentTarget.getAttribute(\"data-option\");\n\t\t\tparsedData = JSON.parse(targetData) || {};\n\t\t} else {\n\t\t\t// triggered directly from dialog\n\t\t\tparsedData = e;\n\t\t}\n\t\tthis.setState(prevState => {\n\t\t\tconst newSimulationSettings = {...prevState.simulationSettings, ...parsedData};\t\t\t\n\t\t\t// only reset simulation for size and quantity - for preview\n\t\t\tif (parsedData[\"size\"] || parsedData[\"quantity\"] || parsedData[\"speed\"]) {\n\t\t\t\tthis.stop();\n\t\t\t\tthis.startSimulation(false, newSimulationSettings);\n\t\t\t\treturn ({ simulationSettings: newSimulationSettings, startTime: new Date(0), healthy: newSimulationSettings[\"quantity\"] - 1, \n\t\t\t\t\t\tcontagious: 1, simulationStopped: true, simulationPaused: true, startButtonText: \"START SIMULATION\" });\n\t\t\t}\n\t\t\treturn ({ simulationSettings: newSimulationSettings });\n\t\t}); \n\t}\n\t// GAME\n\tstopStartGame() {\n\t\tif (this.state.gamePaused && !this.state.gameStopped) { // CONTINUE\n\t\t\tthis.toggleGameDialog();\n\t\t} else {\t\t\t\t\t\t\t\t// START\n\t\t\tthis.stop();\n\t\t\tconst shuffledQuarantines = this.shuffle(this.state.availableQuarantines); \n\t\t\tthis.setState(prevState => {\n\t\t\t\treturn {\n\t\t\t\t\tstartTime: new Date(0), \n\t\t\t\t\tgameStopped: false, \n\t\t\t\t\tgamePaused: false, \n\t\t\t\t\tstartButtonText: \"CONTINUE GAME\",\n\t\t\t\t\tgameSettingsOpen: false, \n\t\t\t\t\thealthy: prevState.gameSettings[\"quantity\"] - 1, \n\t\t\t\t\tcontagious: 1,\n\t\t\t\t\tquarantineButtonsActive: true,\n\t\t\t\t\tquarantineDropped: true,\n\t\t\t\t\tavailableQuarantines: shuffledQuarantines\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.startGame(true);\n\t\t}\n\t}\n\t// TODO: not so simple\n\tgameRestart() {\n\t\tthis.stop();\n\t\tthis.startGame(true);\n\t\tthis.setState(prevState => ({ startTime: new Date(0), gameStopped: false, gamePaused: false, startButtonText: \"CONTINUE SIMULATION\", gameSettingsOpen: false,\n\t\t\t\t\thealthy: prevState.gameSettings[\"quantity\"] - 1, contagious: 1 }));\n\t}\n\tsetGameSettings(e) {\n\t\tlet targetData, parsedData;\n\t\t// triggered on event\n\t\tif (e.currentTarget) {\n\t\t\ttargetData = e.currentTarget.getAttribute(\"data-option\");\n\t\t\tparsedData = JSON.parse(targetData) || {};\n\t\t} else {\n\t\t\t// triggered directly from dialog\n\t\t\tparsedData = e;\n\t\t}\t\t\n\t\tthis.setState(prevState => {\n\t\t\tconst newGameSettings = {...prevState.gameSettings, ...parsedData};\n\t\t\t// only reset game for size and quantity - for preview\n\t\t\tthis.stop();\n\t\t\tthis.startGame(false, newGameSettings);\n\t\t\treturn ({ gameSettings: newGameSettings, healthy: newGameSettings[\"quantity\"] - 1, \n\t\t\t\t\tcontagious: 1, gameStopped: true, gamePaused: true, startButtonText: \"START GAME\" });\n\t\t}); \n\t}\n\tsetQuarantineInMotion(e) {\n\t\tconst pageX = e.pageX;\n\t\tconst pageY = e.pageY;\n\t\t// loop through available quarantines\n\t\tconst targetID = this.state.gameSettings[\"quantity\"] + this.state.availableQuarantines[this.state.activeQuarantines.length];\n\t\tthis.setState(prevState => {\n\t\t\treturn {draggedQuarantine: {...prevState.draggedQuarantine, \n\t\t\t\t\t\t\t\t\t\t...{ id: targetID, x: pageX, y: pageY }\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\tquarantineButtonsActive: true,\n\t\t\t\t\tquarantineDropped: false,\n\t\t\t\t\tactiveQuarantines: prevState.activeQuarantines.length === this.state.availableQuarantines.length ? [] : prevState.activeQuarantines.concat(targetID)\n\t\t\t};\n\t\t});\n\n\t}\n\ttoggleSimulationPause() {\n\t\treturn this.state.simulationPaused && !this.state.simulationStopped ? this.unpause() : this.pause();\n\t}\n\ttoggleGamePause() {\n\t\treturn this.state.gamePaused && !this.state.gameStopped ? this.unpause() : this.pause();\n\t}\n\ttoggleDialog(e) {\n\t\tconst target = e && e.currentTarget || null;\n\t\t// on simulation -> show dialog\n\t\tif (this.state.isSimulationActive) {\n\t\t\tthis.toggleSimulationDialog();\n\t\t// on quarantineButtonsActive -> should trigger quarantineDrop - user should have quarantine attached to cursor\n\t\t} else if (this.state.quarantineButtonsActive && !this.state.quarantineDropped) {\n\t\t\tthis.setState({\n\t\t\t\tquarantineButtonsActive: false,\n\t\t\t\tquarantineDropped: true\n\t\t\t});\n\t\t} else {\n\t\t\tthis.toggleGameDialog();\n\t\t}\n\t}\n\ttoggleShareDialog(e) {\n\t\tif (this.state.isSimulationActive) {\n\t\t\tthis.toggleSimulationPause();\n\t\t\tthis.setState(prevState => ({ simulationPaused: !prevState.simulationPaused, shareModalOpen: !prevState.shareModalOpen }));\n\t\t} else {\n\t\t\tthis.toggleGamePause();\n\t\t\tthis.setState(prevState => ({ gamePaused: !prevState.gamePaused, shareModalOpen: !prevState.shareModalOpen }));\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ isCopied: false });\n\t\t}, 1000);\n\t}\n\ttoggleSimulationDialog() {\n\t\tif (this.state.isGameActive) {\n\t\t\tthis.stop();\n\t\t\t// only when clicking on navbar link -> stop game and show dialog\n\t\t\tthis.setState(prevState => {\n\t\t\t\treturn ({ \n\t\t\t\t\tsimulationSettingsOpen: true, \n\t\t\t\t\tsimulationPaused: true, \n\t\t\t\t\tstartButtonText: \"START SIMULATION\", \n\t\t\t\t\tisSimulationActive: true, \n\t\t\t\t\tisGameActive: false, \n\t\t\t\t\tgamePaused: true, \n\t\t\t\t\tgameStopped: true \n\t\t\t\t})\n\t\t\t});\n\t\t} else {\n\t\t\t// in all other cases toggle\n\t\t\tthis.toggleSimulationPause();\n\t\t\tthis.setState(prevState => {\n\t\t\t\treturn ({ \n\t\t\t\t\tsimulationSettingsOpen: !prevState.simulationSettingsOpen, \n\t\t\t\t\tsimulationPaused: !prevState.simulationPaused, \n\t\t\t\t\tstartButtonText: prevState.simulationStopped ? \"START SIMULATION\" : \"CONTINUE SIMULATION\", \n\t\t\t\t\tisSimulationActive: true, \n\t\t\t\t\tisGameActive: false, \n\t\t\t\t\tgamePaused: true, \n\t\t\t\t\tgameStopped: true \n\t\t\t\t})\n\t\t\t});\n\t\t}\n\t}\n\ttoggleGameDialog() {\n\t\tif (this.state.isSimulationActive) {\n\t\t\tthis.stop();\n\t\t\t// only when clicking on navbar link -> stop simulation and show dialog\n\t\t\tthis.setState(prevState => {\n\t\t\t\treturn ({ \n\t\t\t\t\tgameSettingsOpen: true, \n\t\t\t\t\tgamePaused: true, \n\t\t\t\t\tstartButtonText: \"START GAME\", \n\t\t\t\t\tisSimulationActive: false,\n\t\t\t\t\tisGameActive: true, \n\t\t\t\t\tsimulationPaused: true, \n\t\t\t\t\tsimulationStopped: true \n\t\t\t\t})\n\t\t\t});\n\t\t} else {\n\t\t\tthis.toggleGamePause();\n\t\t\tthis.setState(prevState => {\n\t\t\t\treturn ({ \n\t\t\t\t\tgameSettingsOpen: !prevState.gameSettingsOpen, \n\t\t\t\t\tgamePaused: !prevState.gamePaused, \n\t\t\t\t\tstartButtonText: prevState.gameStopped ? \"START GAME\" : \"CONTINUE GAME\", \n\t\t\t\t\tisSimulationActive: false, \n\t\t\t\t\tisGameActive: true, \n\t\t\t\t\tsimulationPaused: true, \n\t\t\t\t\tsimulationStopped: true \n\t\t\t\t})\n\t\t\t});\n\t\t}\n\t}\n\ttoggleNavbarItemsExpand() {\n\t\tthis.setState(prevState => ({ isNavbarExpanded: !prevState.isNavbarExpanded}));\n\t}\n\ttoggleNavbarVisibility() {\n\t\tthis.setState(prevState => ({ isNavbarVisible: !prevState.isNavbarVisible}));\n\t}\n\tcopyToClipboard() {\t\t\n\t\tnavigator.permissions.query({name: \"clipboard-write\"})\n\t\t\t.then(result => {\n\t\t\t\tif (result.state === \"granted\" || result.state === \"prompt\") {\n\t\t\t\t\tnavigator.clipboard.writeText(\"https://www.covidsimulator.com\");\n\t\t\t\t\tthis.setState({ isCopied: true });\n\t\t\t\t}\n\t\t \t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<section className=\"main\">\n\t\t\t\t<NavBar \n\t\t\t\t\tcurrentTime={this.state.currentTime}\n\t\t\t\t\tstartTime={this.state.startTime}\n\t\t\t\t\ttoggleNavbarItemsExpand={this.toggleNavbarItemsExpand} \n\t\t\t\t\ttoggleNavbarVisibility={this.toggleNavbarVisibility}\n\t\t\t\t\tisNavbarExpanded={this.state.isNavbarExpanded}\n\t\t\t\t\tisNavbarVisible={this.state.isNavbarVisible}\n\t\t\t\t\ttoggleSimulationDialog={this.toggleSimulationDialog}\n\t\t\t\t\ttoggleShareDialog={this.toggleShareDialog}\n\t\t\t\t\ttoggleGameDialog={this.toggleGameDialog}\n\t\t\t\t\tsimulationSettings={this.state.simulationSettings}\n\t\t\t\t\tgameSettings={this.state.gameSettings}\n\t\t\t\t\tisSimulationActive={this.state.isSimulationActive}\n\t\t\t\t\tcontagious={this.state.contagious}\n\t\t\t\t\thealthy={this.state.healthy}\n\t\t\t\t/>\n\t\t\t\t<SimulationDialog\n\t\t\t\t\tstartSimulation={this.stopStartSimulation}\n\t\t\t\t\tisSimulationActive={this.state.isSimulationActive}\n\t\t\t\t\tisOpen={this.state.simulationSettingsOpen} \n\t\t\t\t\ttoggle={this.toggleSimulationDialog}\n\t\t\t\t\tbuttonText={this.state.startButtonText}\n\t\t\t\t\tsettings={this.state.simulationSettings}\n\t\t\t\t\tsetSimulationSettings={this.setSimulationSettings}\n\t\t\t\t/>\n\t\t\t\t<GameDialog\n\t\t\t\t\tstartGame={this.stopStartGame}\n\t\t\t\t\tisOpen={this.state.gameSettingsOpen} \n\t\t\t\t\tisGameActive={this.state.isGameActive}\n\t\t\t\t\ttoggle={this.toggleGameDialog}\n\t\t\t\t\tbuttonText={this.state.startButtonText}\n\t\t\t\t\tsettings={this.state.gameSettings}\n\t\t\t\t\tsetGameSettings={this.setGameSettings}\n\t\t\t\t/>\n\t\t\t\t<ShareDialog \n\t\t\t\t\tisOpen={this.state.shareModalOpen}\n\t\t\t\t\ttoggle={this.toggleShareDialog}\n\t\t\t\t\tcopy={this.copyToClipboard}\n\t\t\t\t\tisCopied={this.state.isCopied}\t\t\t\t\n\t\t\t\t/>\n\t\t\t\t<QuarantineButtons \n\t\t\t\t\tquarantineButtonsActive={this.state.quarantineButtonsActive}\n\t\t\t\t\tsetQuarantineInMotion={this.setQuarantineInMotion}\n\t\t\t\t/>\n\t\t\t\t<article \n\t\t\t\t\tid=\"canvas-container\" \n\t\t\t\t\tonClick={this.toggleDialog}\n\t\t\t\t\tonMouseMove={this.onMouseMove}\n\t\t\t\t\t>\n\t\t\t\t</article>\n\t\t\t</section>\n\t\t);\n\t}\n}\n","import React from 'react';\n// import logo from './logo.svg';\nimport HomePage from \"./HomePage/main\";\n\nimport './App.scss';\n\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HomePage />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}