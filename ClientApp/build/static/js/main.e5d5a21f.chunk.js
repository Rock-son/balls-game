(this.webpackJsonpballs=this.webpackJsonpballs||[]).push([[0],{24:function(e,t,a){e.exports=a(47)},29:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},33:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),o=a(11),l=a.n(o),s=(a(29),a(30),a(22)),r=a(13),c=a(14),u=a(7),m=a(21),h=a(23),d=a(12),v=function(){function e(t,a,n,i,o,l,s,c){Object(r.a)(this,e),this.context=t,this.contagious=a,this.x=n,this.y=i,this.speed=s,this.velocity={x:(Math.random()-.5)*this.speed,y:(Math.random()-.5)*this.speed},this.radius=o,this.color=l,this.mass=c,this.hitCounter=0,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.rotate=this.rotate.bind(this),this.randomInt=this.randomInt.bind(this),this.resolveCollision=this.resolveCollision.bind(this)}return Object(c.a)(e,[{key:"randomInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"draw",value:function(){this.context.beginPath(),this.context.linewidth=1,this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle=this.color,this.context.fill(),this.context.closePath()}},{key:"update",value:function(e,t){this.x+this.radius>this.windowWidth&&(this.velocity.x=-this.velocity.x,this.hitCounter++),this.x-this.radius<0&&(this.velocity.x=-this.velocity.x,this.hitCounter++),this.y+this.radius>this.windowHeight&&(this.velocity.y=-this.velocity.y,this.hitCounter++),this.y-this.radius<0&&(this.velocity.y=-this.velocity.y,this.hitCounter++);for(var a=0;a<e.length;a++)if(this!==e[a]&&t(this.x,this.y,e[a].x,e[a].y)-(this.radius+e[a].radius)<0){var n=e[a];n.contagious?(this.contagious=1,this.color="red"):this.contagious&&(n.contagious=1,n.color="red"),this.resolveCollision(this,n)}this.draw(this.context),this.x+=this.velocity.x>2?2:this.velocity.x,this.y+=this.velocity.y>2?2:this.velocity.y}},{key:"rotate",value:function(e,t){return{x:e.x*Math.cos(t)-e.y*Math.sin(t),y:e.x*Math.sin(t)+e.y*Math.cos(t)}}},{key:"resolveCollision",value:function(e,t){var a=e.velocity.x-t.velocity.x,n=e.velocity.y-t.velocity.y;if(a*(t.x-e.x)+n*(t.y-e.y)>=0){var i=-Math.atan2(t.y-e.y,t.x-e.x),o=e.mass,l=t.mass,s=this.rotate(e.velocity,i),r=this.rotate(t.velocity,i),c={x:s.x*(o-l)/(o+l)+2*r.x*l/(o+l),y:s.y},u={x:r.x*(o-l)/(o+l)+2*s.x*l/(o+l),y:r.y},m=this.rotate(c,-i),h=this.rotate(u,-i);e.velocity.x=m.x,e.velocity.y=m.y,t.velocity.x=h.x,t.velocity.y=h.y}}}]),e}();function p(){var e=this;function t(e,t){return Math.floor(Math.random()*(t-e+1))+e}function a(e,t,a,n){var i=a-e,o=n-t;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}var n=this.canvasRef.current;if(n.getContext){for(var i,o,l=n.getContext("2d"),s=[],r=this.canvasWidth-12.5,c=this.canvasHeight-12.5,u=0;u<300;u++){i=0===u?"red":"#aaa",o=0===u?1:0;var m=t(10,r),h=t(10,c);if(0!==u)for(var p=0;p<s.length;p++)a(m,h,s[p].x,s[p].y)-(5+s[p].radius)<0&&(m=t(10,r),h=t(10,c),p=-1);s.push(new v(l,o,m,h,5,i,this.state.speed,1))}this.interval=Object(d.setDriftlessInterval)((function(){if(e.state.pause||e.state.stop)return e.state.pause&&!e.state.stop?void 0:(l.clearRect(0,0,window.innerWidth,window.innerHeight),l=null,Object(d.clearDriftless)(e.interval));l.clearRect(0,0,window.innerWidth,window.innerHeight),s.forEach((function(e){e.draw(),e.update(s,a)}))}),16)}}var y=a(61),g=a(48),b=a(49),f=a(50),E=a(51),x=a(52),w=a(53),N=a(54),S=[{type:"small",value:3},"|",{type:"medium",value:6},"|",{type:"large",value:9}],k=["50","|","100","|","150","|","200","|","250","|","300","|","400","|","500"],_=[{type:"slow",value:.5},"|",{type:"medium",value:1},"|",{type:"fast",value:2}],O=["0","|","10","|","15","|","20","|","30","|","45","|","60"],M=[{type:"yes",value:!0},"|",{type:"no",value:!1}],C=(a(33),function(e){var t=e.isOpen,a=e.toggle,n=e.startSimulation,o=e.buttonText,l=e.setSimulationOptions,s=e.options,r=s.size,c=s.speed,u=s.quantity,m=s.deactivateAfter,h=s.showTime,d=s.showStats,v=s.autorestart;return i.a.createElement(y.a,{key:"simulator",isOpen:t,toggle:a,centered:!0,className:"simulator-modal"},i.a.createElement(g.a,{charCode:"X",toggle:a}),i.a.createElement(b.a,null,i.a.createElement(f.a,null,i.a.createElement(E.a,{className:"choice"},i.a.createElement("div",null,"Size of balls"),i.a.createElement(x.a,{className:"choice__options"},S.map((function(e,t){return"object"!=typeof e?i.a.createElement(w.a,{key:t},e):i.a.createElement(w.a,{key:t,tabIndex:"0","data-option":"".concat(JSON.stringify({size:e.value})),onClick:l,active:e.value===r},e.type)}))))),i.a.createElement(f.a,null,i.a.createElement(E.a,{className:"choice"},i.a.createElement("div",null,"Number of balls"),i.a.createElement(x.a,{className:"choice__options"},k.map((function(e,t){return"|"===e?i.a.createElement(w.a,{key:t},e):i.a.createElement(w.a,{key:t,tabIndex:"0","data-option":"".concat(JSON.stringify({quantity:e})),onClick:l,active:e===u},e)}))))),i.a.createElement(f.a,null,i.a.createElement(E.a,{className:"choice"},i.a.createElement("div",null,"Speed of balls"),i.a.createElement(x.a,{className:"choice__options"},_.map((function(e,t){return"object"!=typeof e?i.a.createElement(w.a,{key:t},e):i.a.createElement(w.a,{key:t,tabIndex:"0","data-option":"".concat(JSON.stringify({size:e.value})),onClick:l,active:e.value===c},e.type)}))))),i.a.createElement(f.a,null,i.a.createElement(E.a,{className:"choice"},i.a.createElement("div",null,"Deactivate ball after"),i.a.createElement(x.a,{className:"choice__options"},O.map((function(e,t){return"|"===e?i.a.createElement(w.a,{key:t},e):i.a.createElement(w.a,{key:t,tabIndex:"0","data-option":"".concat(JSON.stringify({deactivateAfter:e})),onClick:l,active:e===m},"0"===e?"no":"".concat(e,"s"))}))))),i.a.createElement(f.a,{className:"col-12"},i.a.createElement(E.a,{className:"col-4 choice"},i.a.createElement("div",null,"Show time"),i.a.createElement(x.a,{className:"choice__options"},M.map((function(e,t){return"object"!==typeof e?i.a.createElement(w.a,{key:t},e):i.a.createElement(w.a,{key:t,tabIndex:"0","data-option":"".concat(JSON.stringify({showTime:e.value})),onClick:l,active:e.value===h},e.type)})))),i.a.createElement(E.a,{className:"col-4 choice"},i.a.createElement("div",null,"Show stats"),i.a.createElement(x.a,{className:"choice__options"},M.map((function(e,t){return"object"!==typeof e?i.a.createElement(w.a,{key:t},e):i.a.createElement(w.a,{key:t,tabIndex:"0","data-option":"".concat(JSON.stringify({showStats:e.value})),onClick:l,active:e.value===d},e.type)})))),i.a.createElement(E.a,{className:"col-4 choice"},i.a.createElement("div",null,"Autorestart"),i.a.createElement(x.a,{className:"choice__options"},M.map((function(e,t){return"object"!==typeof e?i.a.createElement(w.a,{key:t},e):i.a.createElement(w.a,{key:t,tabIndex:"0","data-option":"".concat(JSON.stringify({autorestart:e.value})),onClick:l,active:e.value===v},e.type)})))))),i.a.createElement(N.a,{onClick:n,className:"simulator-modal__footer"},">>>\xa0\xa0 ",o," \xa0\xa0<<<"))}),T=a(55),j=a(56),I=a(57),A=a(58),W=a(59),V=a(60),D=function(e){var t=e.toggleNavbarItemsExpand,a=e.isNavbarExpanded,n=e.toggleNavbarVisibility,o=e.isNavbarVisible,l=e.toggleSimulationModal,s=e.toggleShareModal;return i.a.createElement(T.a,{dark:!0,className:"main__navbar ".concat(!o&&"hidden"," d-inline-flex justify-content-between")},i.a.createElement(j.a,{className:"main__navbar__toggler ".concat(o&&"hidden"),onClick:n,disabled:o},i.a.createElement("svg",{height:"15",width:"20"},i.a.createElement("path",{d:"M-2 2 l12 12 M10 15 l12 -13 Z",fill:"none",strokeWidth:"5",stroke:"white"}))),i.a.createElement(T.a,{dark:!0,className:"col-6 main__navbar__left d-inline-flex justify-content-between",expand:"sm"},i.a.createElement(I.a,{onClick:t}),i.a.createElement(A.a,{isOpen:a,navbar:!0},i.a.createElement(x.a,{className:"navbar__nav left",navbar:!0},i.a.createElement(W.a,null,i.a.createElement(w.a,{className:"navbar__nav__link",onClick:l},"Simulate")),i.a.createElement(W.a,null,i.a.createElement(w.a,{className:"d-none d-sm-block navbar__nav__separator"},"|")),i.a.createElement(W.a,null,i.a.createElement(w.a,{data:"game",className:"navbar__nav__link",onClick:s},"Play game")),i.a.createElement(W.a,null,i.a.createElement(w.a,{className:"d-none d-sm-block navbar__nav__separator"},"|")),i.a.createElement(W.a,null,i.a.createElement(w.a,{className:"navbar__nav__link",onClick:s},"Share")),i.a.createElement(W.a,null,i.a.createElement(w.a,{className:"d-none d-sm-block navbar__nav__separator"},"|")),i.a.createElement(W.a,null,i.a.createElement(w.a,{className:"navbar__nav__link",onClick:n},"Hide"))))),i.a.createElement(T.a,{dark:!0,className:"col-6 main__navbar__right d-inline-flex justify-content-between"},i.a.createElement(x.a,{className:"navbar__nav caption",navbar:!0},i.a.createElement(W.a,null,"TheCovidSimulator")),i.a.createElement(x.a,{className:"navbar__nav right ",navbar:!0},i.a.createElement(W.a,{className:" d-inline-flex justify-content-between"},i.a.createElement(V.a,null,"Stay safe. For more visit\xa0"),i.a.createElement(w.a,{href:"https://www.countdownkings.com/"},"CountdownKings.com")))))},H=(a(43),function(e){var t=e.isOpen,a=e.toggle,n=e.copy,o=e.shareModalTitle;return i.a.createElement(y.a,{key:"sharemodal",isOpen:t,toggle:a,centered:!0,className:"share-modal"},i.a.createElement(g.a,{charCode:"X",toggle:a},o),i.a.createElement(b.a,{className:"justify-content-center"},i.a.createElement(f.a,null,i.a.createElement(E.a,{className:"share"},"Share with your friends")),i.a.createElement(f.a,null,i.a.createElement(E.a,null,"https://www.covidsimulator.com")),i.a.createElement(f.a,null,i.a.createElement(E.a,null,i.a.createElement(j.a,{onClick:n},"Copy link")))),i.a.createElement(N.a,null,i.a.createElement(E.a,{className:"col-12 d-inline-flex justify-content-center"},"For more visit\xa0",i.a.createElement(w.a,{target:"_blank",rel:"noopener noreferrer",href:"https://www.countdownkings.com"},"CountdownKings.com"))))}),J=(a(44),a(45),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).canvasRef=i.a.createRef(),n.state={simulation:!0,game:!1,speed:1,density:null,hasError:!1,error:null,currentTime:(new Date).getTime(),canvasAnimating:!0,pause:!1,stop:!1,startButtonText:"STOP SIMULATION",isNavbarExpanded:!1,isNavbarVisible:!0,shareModalTitle:"",shareModalOpen:!1,simulationModalOpen:!1,simulationOptions:{size:6,speed:1,quantity:"250",deactivateAfter:"0",showTime:!0,showStats:!0,autorestart:!0}},n.interval=null,n.canvasWidth=window.innerWidth,n.canvasHeight=window.innerHeight,n._draw=p.bind(Object(u.a)(n)),n.playPause=n.playPause.bind(Object(u.a)(n)),n.intervalTime=n.intervalTime.bind(Object(u.a)(n)),n.toggleShareModal=n.toggleShareModal.bind(Object(u.a)(n)),n.copyToClipboard=n.copyToClipboard.bind(Object(u.a)(n)),n.stopStartSimulation=n.stopStartSimulation.bind(Object(u.a)(n)),n.setSimulationOptions=n.setSimulationOptions.bind(Object(u.a)(n)),n.toggleSimulationModal=n.toggleSimulationModal.bind(Object(u.a)(n)),n.toggleNavbarVisibility=n.toggleNavbarVisibility.bind(Object(u.a)(n)),n.toggleNavbarItemsExpand=n.toggleNavbarItemsExpand.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){}},{key:"componentDidMount",value:function(){this.interval=Object(d.setDriftlessInterval)(this.intervalTime,1e3),this._draw()}},{key:"componentWillUnmount",value:function(){Object(d.clearDriftless)(this.interval)}},{key:"intervalTime",value:function(){this.setState({currentTime:(new Date).getTime()})}},{key:"playPause",value:function(){this.state.canvasAnimating?(this.shouldAnimationStop=!0,this.setState({stop:!1,canvasAnimating:!1,pause:!0,startButtonText:"Resume Simulation"})):(this.shouldAnimationStop=!1,this.setState({stop:!1,canvasAnimating:!0,pause:!1,startButtonText:"Pause Simulation"}))}},{key:"stopStartSimulation",value:function(){this.state.stop?(this.setState({stop:!1,canvasAnimating:!0,pause:!1,startButtonText:"STOP SIMULATION"}),this._draw()):this.setState({stop:!0,canvasAnimating:!1,pause:!0,startButtonText:"START SIMULATION"})}},{key:"setSimulationOptions",value:function(e){var t=e.currentTarget.getAttribute("data-option"),a=JSON.parse(t)||{};this.setState((function(e){return{simulationOptions:Object(s.a)({},e.simulationOptions,{},a)}}))}},{key:"toggleShareModal",value:function(e){var t=e.currentTarget.getAttribute("data");this.setState((function(e){return{shareModalOpen:!e.shareModalOpen,shareModalTitle:t?"GAME COMING SOON":""}}))}},{key:"toggleSimulationModal",value:function(){this.setState((function(e){return{simulationModalOpen:!e.simulationModalOpen}}))}},{key:"toggleNavbarItemsExpand",value:function(){this.setState((function(e){return{isNavbarExpanded:!e.isNavbarExpanded}}))}},{key:"toggleNavbarVisibility",value:function(){this.setState((function(e){return{isNavbarVisible:!e.isNavbarVisible}}))}},{key:"copyToClipboard",value:function(){navigator.permissions.query({name:"clipboard-write"}).then((function(e){"granted"!=e.state&&"prompt"!=e.state||navigator.clipboard.writeText("https://www.covidsimulator.com")}))}},{key:"render",value:function(){return i.a.createElement("section",{className:"main"},i.a.createElement(D,{toggleNavbarItemsExpand:this.toggleNavbarItemsExpand,toggleNavbarVisibility:this.toggleNavbarVisibility,isNavbarExpanded:this.state.isNavbarExpanded,isNavbarVisible:this.state.isNavbarVisible,toggleSimulationModal:this.toggleSimulationModal,toggleShareModal:this.toggleShareModal}),i.a.createElement(C,{startSimulation:this.stopStartSimulation,isOpen:this.state.simulationModalOpen,toggle:this.toggleSimulationModal,buttonText:this.state.startButtonText,options:this.state.simulationOptions,setSimulationOptions:this.setSimulationOptions}),i.a.createElement(H,{isOpen:this.state.shareModalOpen,toggle:this.toggleShareModal,copy:this.copyToClipboard,shareModalTitle:this.state.shareModalTitle}),i.a.createElement("article",{className:"main__canvas"},i.a.createElement("canvas",{id:"canvas",ref:this.canvasRef,className:"canvas",width:this.canvasWidth,height:this.canvasHeight})))}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(i.a.Component));a(46);var P=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.e5d5a21f.chunk.js.map