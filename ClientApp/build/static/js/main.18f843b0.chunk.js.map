{"version":3,"sources":["HomePage/assets/gameStart.mp3","HomePage/helpers/simulation/updateSimulation.js","HomePage/helpers/simulation/startSimulation.js","HomePage/helpers/game/updateGame.js","HomePage/helpers/game/startGame.js","HomePage/helpers/actions.js","HomePage/components/SimulationDialog/simulationOptions.js","HomePage/components/SimulationDialog/SimulationDialog.js","HomePage/components/Navbar/Navbar.js","HomePage/components/ShareModal/ShareDialog.js","HomePage/components/GameDialog/gameOptions.js","HomePage/components/GameDialog/GameDialog.js","HomePage/components/QuarantineButtons/QuarantineButtons.js","HomePage/helpers/game/gameState.js","HomePage/helpers/simulation/simulationState.js","HomePage/main.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","updateSimulation","sprite","spriteArr","circleIntersect","loader","x","radius","window","innerWidth","reactContext","canvasWidth","velocity","y","innerHeight","canvasHeight","state","simulationSettings","contagiousFrom","Date","getTime","contagion","texture","resources","sheet","textures","setState","prevState","contagious","healthy","i","length","myID","otherSprite","toggleSimulationPause","simulationRestart","resolveCollision","rotate","angle","Math","cos","sin","particle","otherParticle","xVelocityDiff","yVelocityDiff","atan2","u1","u2","v1","v2","vFinal1","vFinal2","particlePreservedSpeed","preserveSpeed","otherParticlePreservedSpeed","vFinal","newSpeed","sqrt","startSpeed","startSimulation","autostart","this","simulationApp","PIXI","width","height","resolution","devicePixelRatio","autoDensity","sharedLoader","isWebGL","isWebGLSupported","renderer","context","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","view","style","document","getElementById","appendChild","add","on","resource","console","log","progress","name","err","error","load","handleOnImageLoaded","bind","resize","e","addEventListener","randomIntNumber","min","max","floor","random","x1","y1","r1","x2","y2","r2","size","speed","nrImages","quantity","maxWidth","maxHeight","whiteBall","redBall","j","anchor","randomX","randomY","pow","push","len","index","stage","addChild","ticker","addOnce","updateGame","quarantineArr","quarantineObj","clockTime","gameSettings","isTextSprite","dropTime","seconds","duration","text","isQuarantineSprite","draggedQuarantine","textSprite","isDragged","quarantineCancelled","green","beginFill","drawCircle","endFill","generateCanvasTexture","alpha","setQuarantineNonactive","resetDraggedQuarantineId","quarantinePlaced","isActive","empty","lineStyle","id","overlap","quarantinesForCheck","filter","quarantine","quarantineOverlapping","red","fill","difficultyTime","0","1","2","difficulty","randomTimeInSeconds","round","d","getContagion","gameRestart","particleDistance","xDist","yDist","distance","startGame","gameApp","nrOfQuarantines","timeTextArr","formattedTime","timeText","fontSize","fontFamily","set","greenTexture","particleID","isBeingDropped","tries","isParticleSprite","forEach","item","reduce","acc","obj","Object","assign","availableQuarantines","map","spriteIndex","pause","stop","unPause","start","destroy","sizeOptions","type","value","quantityValues","5","speedOptions","deactivateOptions","booleanOptions","SimulationDialog","nextProps","nextState","isSimulationActive","props","isOpen","buttonText","settings","prevProps","minQuantity","maxQuantity","slice","setSimulationSettings","toggle","deactivateAfter","showTime","showStats","autorestart","Modal","key","zIndex","centered","fade","className","ModalHeader","charCode","ModalBody","Row","Container","Nav","sizeOption","idx","NavLink","tabIndex","data-option","JSON","stringify","onClick","active","quantityValue","speedOption","deactivateOption","timeOption","statOption","restartOption","ModalFooter","React","Component","NavBar","formattedSeconds","minutes","onMouseMove","toggleNavbarItemsExpand","isNavbarExpanded","toggleNavbarVisibility","isNavbarVisible","isGameActive","gamePaused","toggleSimulationDialog","toggleShareDialog","toggleGameDialog","delayInSeconds","mode","currentSeconds","getSeconds","shouldCountdownBeVisible","delayedSeconds","getMinutes","coundownTime","gameStartCountdownTime","Navbar","dark","expand","NavbarToggler","Collapse","navbar","NavItem","data","NavbarText","href","target","rel","Button","disabled","src","alt","ShareDialog","copy","isCopied","role","aria-label","modeOptions","difficultyOptions","8","quantityDiffVals","speedDiffValues","GameDialog","changedSpeed","setGameSettings","modeOption","difficultyOption","title","QuarantineButtons","quarantineButtonsActive","setQuarantineInMotion","audioStart","gameStopped","gameSettingsOpen","quarantineBeingDragged","resetSettings","onContextMenuHideQuarantine","preventDefault","onWheelScroll","deltaY","pageX","pageY","prevstate","stopStartGame","startButtonText","setTimeout","Audio","sound","play","targetData","parsedData","currentTarget","getAttribute","parse","newGameSettings","indexOf","concat","toggleGamePause","unpause","simulationPaused","simulationStopped","simulationRestarting","simulationSettingsOpen","stopStartSimulation","gameResetSettings","newSimulationSettings","HomePage","hasError","currentTime","shareModalOpen","interval","toggleDialog","intervalTime","handleResize","handleBlur","handleRefocus","copyToClipboard","setDriftlessInterval","errorInfo","clearDriftless","navigator","permissions","query","then","result","clipboard","writeText","onWheel","onContextMenu","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.18f843b0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/gameStart.80b0b014.mp3\";","export const updateSimulation = (sprite, spriteArr, circleIntersect, loader) => {\n\t// X BOUNDARIES\n\tif ((sprite.x + sprite.radius) > (window.innerWidth < sprite.reactContext.canvasWidth ? sprite.reactContext.canvasWidth : window.innerWidth )) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\tif ((sprite.x - sprite.radius) < 0) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\t// Y BOUNDARIES\n\tif ((sprite.y + sprite.radius) > (window.innerHeight < sprite.reactContext.canvasHeight ? sprite.reactContext.canvasHeight : window.innerHeight)) { // resize only up\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\tif ((sprite.y - sprite.radius) < 0) {\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\t// CALCULATE DEACTIVATION TIME IF APPLIED\n\tif (sprite.reactContext.state.simulationSettings[\"deactivateAfter\"] > 0) {\n\t\tif (sprite.contagiousFrom && (new Date().getTime() - sprite.contagiousFrom) > sprite.reactContext.state.simulationSettings[\"deactivateAfter\"]) {\n\t\t\tsprite.contagion = 0;\n\t\t\tsprite.contagiousFrom = null;\n\t\t\tsprite.texture = loader.resources.sheet.textures[\"ball-white-15.png\"];\n\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious - 1, healthy: prevState.healthy + 1 }));\n\t\t}\n\t}\n\t// CALCULATE COLLISION DETECTION TO ALL OTHER IMAGES\n\tfor (let i = 0; i < spriteArr.length; i++) {\n\t\tif (sprite.myID === spriteArr[i].myID) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (circleIntersect(sprite.x, sprite.y, sprite.radius, spriteArr[i].x, spriteArr[i].y, spriteArr[i].radius)) {\t\t\n\t\t\tconst otherSprite = spriteArr[i];\n\t\t\t// with deactivation time on, any red can infect another red again\n\t\t\tif (sprite.reactContext.state.simulationSettings[\"deactivateAfter\"] > 0 && (otherSprite.contagion || sprite.contagion)) {\n\t\t\t\tsprite.contagiousFrom = new Date().getTime();\n\t\t\t\totherSprite.contagiousFrom = new Date().getTime();\n\t\t\t}\n\t\t\t// only calculate crashes where one particle is contagious\n\t\t\tif (otherSprite.contagion && !sprite.contagion) {\t\t\t\t\n\t\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious + 1, healthy: prevState.healthy - 1 }));\n\t\t\t\tsprite.contagion = 1;\n\t\t\t\tsprite.texture = loader.resources.sheet.textures[\"ball-red-15.png\"];\n\t\t\t\t// ON AUTORESTART=TRUE\n\t\t\t\tif (sprite.reactContext.state.simulationSettings[\"autorestart\"] && sprite.reactContext.state.healthy === 0) {\n\t\t\t\t\tsprite.reactContext.toggleSimulationPause();\n\t\t\t\t\tsprite.reactContext.simulationRestart();\n\t\t\t\t}\n\t\t\t} else if (sprite.contagion && !otherSprite.contagion) {\n\t\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious + 1, healthy: prevState.healthy - 1 }));\n\t\t\t\totherSprite.contagion = 1;\n\t\t\t\totherSprite.texture = loader.resources.sheet.textures[\"ball-red-15.png\"];\n\t\t\t\t// ON AUTORESTART=TRUE\n\t\t\t\tif (sprite.reactContext.state.simulationSettings[\"autorestart\"] && sprite.reactContext.state.healthy === 0) {\n\t\t\t\t\tsprite.reactContext.toggleSimulationPause();\n\t\t\t\t\tsprite.reactContext.simulationRestart();\n\t\t\t\t}\n\t\t\t}\n\t\t\tresolveCollision(sprite, otherSprite);\n\t\t}\n\t}\n\n\tsprite.x += sprite.velocity.x;\n\tsprite.y += sprite.velocity.y;\n\n}\n\n/**\n * Rotates coordinate system for velocities\n *\n * Takes velocities and alters them as if the coordinate system they're on was rotated\n *\n * @param  Object | velocity | The velocity of an individual particle\n * @param  Float  | angle    | The angle of collision between two objects in radians\n * @return Object | The altered x and y velocities after the coordinate system has been rotated\n */\nfunction rotate(velocity, angle) {\n\tconst rotatedVelocities = {\n\t\tx: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n\t\ty: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle)\n\t};\n\treturn rotatedVelocities;\n}\n\n/**\n * Swaps out two colliding particles' x and y velocities after running through\n * an elastic collision reaction equation\n *\n * @param  Object | particle      | A particle object with x and y coordinates, plus velocity\n * @param  Object | otherParticle | A particle object with x and y coordinates, plus velocity\n * @return Null | Does not return a value\n */\n\nfunction resolveCollision(particle, otherParticle) {\n\tconst xVelocityDiff = particle.velocity.x - otherParticle.velocity.x;\n\tconst yVelocityDiff = particle.velocity.y - otherParticle.velocity.y;\n\n\tconst xDist = otherParticle.x - particle.x;\n\tconst yDist = otherParticle.y - particle.y;\n\n\t// Prevent accidental overlap of images\n\tif (xVelocityDiff * xDist + yVelocityDiff * yDist > 0) {\n\n\t\t// Grab angle between the two colliding images\n\t\tconst angle = -Math.atan2(otherParticle.y - particle.y, otherParticle.x - particle.x);\n\n\t\t// Store mass in var for better readability in collision equation\n\t\t// const m1 = particle.mass;\n\t\t// const m2 = otherParticle.mass;\n\n\t\t// Velocity before equation\n\t\tconst u1 = rotate(particle.velocity, angle);\n\t\tconst u2 = rotate(otherParticle.velocity, angle);\n\n\t\t// Velocity after 1d collision equation\n\t\t// (mass) const v1 = { x: u1.x * (m1 - m2) / (m1 + m2) + u2.x * 2 * m2 / (m1 + m2), y: u1.y };\n\t\t// (mass) const v2 = { x: u2.x * (m1 - m2) / (m1 + m2) + u1.x * 2 * m2 / (m1 + m2), y: u2.y };\n\t\tconst v1 = { x: u2.x, y: u1.y };\n\t\tconst v2 = { x: u1.x, y: u2.y };\n\n\t\t// Final velocity after rotating axis back to original location\n\t\tconst vFinal1 = rotate(v1, -angle);\n\t\tconst vFinal2 = rotate(v2, -angle);\n\n\t\t// PRESERVE SPEED - calculate startSpeed and newSpeed ratio and apply it to particle x and y velocities\n\t\tconst particlePreservedSpeed = preserveSpeed(particle, vFinal1);\n\t\tconst otherParticlePreservedSpeed = preserveSpeed(otherParticle, vFinal2);\n\n\t\t// Swap particle velocities for realistic bounce effect\n\t\tparticle.velocity.x = particlePreservedSpeed.x;\n\t\tparticle.velocity.y = particlePreservedSpeed.y;\n\n\t\totherParticle.velocity.x = otherParticlePreservedSpeed.x;\n\t\totherParticle.velocity.y = otherParticlePreservedSpeed.y;\n\t}\n}\n\nfunction preserveSpeed(particle, vFinal) {\n\tconst newSpeed = Math.sqrt(vFinal.x * vFinal.x + vFinal.y * vFinal.y);\n\t\n\treturn { // RETURN SPEED RATIO\n\t\tx: vFinal.x * particle.startSpeed / newSpeed,\n\t\ty: vFinal.y * particle.startSpeed / newSpeed\n\t}\n\n}\n","import { updateSimulation } from \"./updateSimulation\";\nimport * as PIXI from \"pixi.js-legacy\";\n\nexport function startSimulation(autostart, simulationSettings = null) {\n\tthis.autostart = autostart || false;\n\t// UTILITIES\n\n\tthis.simulationApp = new PIXI.Application({\n\t\twidth: this.canvasWidth,\n\t\theight: this.canvasHeight,\n\t\tresolution: window.devicePixelRatio || 1,\n\t\tautoDensity: true,\n\t\tsharedLoader: true\n\t});\n\tconst isWebGL = PIXI.utils.isWebGLSupported();\t\n\tif (!isWebGL) {\n\t\tthis.simulationApp.renderer.context.mozImageSmoothingEnabled = false\n\t\tthis.simulationApp.renderer.context.webkitImageSmoothingEnabled = false\n\t}\n\t/*\n\t* Fix for iOS GPU issues\n\t*/\n\tthis.simulationApp.renderer.view.style['transform'] = 'translatez(0)'\n\n\n\tdocument.getElementById(\"canvas-container\").appendChild(this.simulationApp.view);\n\n\n\tif (this.simulationApp.loader.resources.sheet == null) {\n\t\tthis.simulationApp.loader.add(\"sheet\", \"balls.json\")\n\t\t\t.on(\"progress\", (loader, resource) => console.log(loader.progress + \"% loaded\"))\n\t\t\t.on(\"load\", (loader, resource) => console.log(\"Asset loaded\" + resource.name))\n\t\t\t.on(\"error\", err => console.error(\"load error\", err))\n\t\t\t.load(handleOnImageLoaded.bind(this, simulationSettings));\n\t} else {\n\t\tthis.simulationApp.loader.load(handleOnImageLoaded.bind(this, simulationSettings));\n\t}\n\n\t// Resize function window\n\tconst resize = (e) => {\n\t\tif (this.simulationApp) {\n\t\t\t// Resize the renderer\n\t\t\tthis.simulationApp.renderer.resize(window.innerWidth < this.canvasWidth ? this.canvasWidth : window.innerWidth,\n\t\t\t\t\t\t\t\twindow.innerHeight < this.canvasHeight ? this.canvasHeight : window.innerHeight);\n\t\t}\n\t// You can use the 'screen' property as the renderer visible\n\t// area, this is more useful than view.width/height because\n\t// it handles resolution\n\t//rect.position.set(app.screen.width, app.screen.height);\n\t}\n\t// Listen for window resize events\n\twindow.addEventListener('resize', resize);\n}\n\nfunction randomIntNumber(min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n}\n/**\n * Intersection calculation. Multiplication is much faster than getting the square root with Math.sqrt(), so distance is calculated without getting the root \n * and the sum of the radii is multiplied by itself. The outcome stays the same, but the performance is better.\n * @param {Float} x1 \n * @param {Float} y1 \n * @param {Int}   r1 \n * @param {Float} x2 \n * @param {Float} y2 \n * @param {Int}\t  r2 \n */\nfunction circleIntersect(x1, y1, r1, x2, y2, r2) {\n\n    // Calculate the distance between the two circles\n    var squareDistance = (x1-x2)*(x1-x2) + (y1-y2)*(y1-y2);\n\n    // When the distance is smaller or equal to the sum\n    // of the two radius, the circles touch or overlap\n    return squareDistance <= ((r1 + r2) * (r1 + r2))\n}\n\nfunction handleOnImageLoaded(simulationSettings) {\n\tconst {\n\t\tsize: radius,\n\t\tspeed,\n\t\tquantity\n\t} = simulationSettings == null ? this.state.simulationSettings : simulationSettings;\n\t\n\tlet contagion, sprite;\n\tconst spriteArr = [];\n\tconst nrImages = +quantity;\n\tconst maxWidth = this.canvasWidth - radius * 2.5;\n\tconst maxHeight = this.canvasHeight - radius * 2.5;\n\tconst whiteBall = this.simulationApp.loader.resources.sheet.textures[\"ball-white-15.png\"];\n\tconst redBall = this.simulationApp.loader.resources.sheet.textures[\"ball-red-15.png\"];\n\n\tlet x, y;\n\tfor (let i = 0; i < nrImages; i++) {\n\t\t// red ball always starts in the middle - for more beautiful effec\n\t\tif (i === 0) {\n\t\t\tcontagion = 1;\n\t\t\tx = maxWidth / 2;\n\t\t\ty = maxHeight / 2;\n\t\t} else {\n\t\t\tcontagion = 0;\n\t\t\tx = randomIntNumber(radius * 2, maxWidth);\n\t\t\ty = randomIntNumber(radius * 2, maxHeight);\n\t\t}\n\t\tif (i !== 0) {\n\t\t\tfor (let j = 0; j < spriteArr.length; j++) {\n\t\t\t\tif (circleIntersect(x, y, radius, spriteArr[j].x, spriteArr[j].y, spriteArr[j].radius)) {\t\n\t\t\t\t\tx = randomIntNumber(radius * 2, maxWidth);\n\t\t\t\t\ty = randomIntNumber(radius * 2, maxHeight);\n\t\t\t\t\t// set new x, y recursively\n\t\t\t\t\tj = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (contagion) {\t\t\t\t\n\t\t\tsprite = new PIXI.Sprite(redBall);\n\t\tsprite.y = y;\n\t\t} else {\n\t\t\tsprite = new PIXI.Sprite(whiteBall);\n\t\t}\n\t\tsprite.x = x;\n\t\tsprite.y = y;\n\t\tsprite.width = radius * 2;\n\t\tsprite.height = radius * 2;\n\t\tsprite.anchor.x = .5;\n\t\tsprite.anchor.y = .5;\n\t\tsprite.myID = i;\n\t\tsprite.radius = radius;\n\t\tsprite.reactContext = this;\n\t\tsprite.contagion = contagion;\n\t\tsprite.contagiousFrom = null;\n\t\tconst randomX = Math.random() - .5;\n\t\tconst randomY = Math.random() - .5;\n\t\tsprite.velocity = { \n\t\t\tx: randomX < 0  && randomX > -.3 ? (randomX*speed) - speed : (randomX > 0  && randomX < .3 ? (randomX) + speed : randomX * speed),\n\t\t\ty: randomY < 0  && randomY > -.3 ? (randomY*speed) - speed : (randomY > 0  && randomY < .3 ? (randomY) + speed : randomY * speed),\n\t\t};\n\t\t\n\t\t// calculate starting speed (hypothenuse from x, y)\n\t\tsprite.startSpeed = Math.sqrt(Math.pow(sprite.velocity.x, 2) + Math.pow(sprite.velocity.y, 2));\n\t\tspriteArr.push(sprite);\n\t}\n\t\n\tconst len = spriteArr.length;\t\n\t// draw and animate\n\tif (this.autostart) {\n\t\tfor (let index = 0; index < len; index++) {\n\t\t\tthis.simulationApp.stage.addChild(spriteArr[index]);\n\t\t\tthis.simulationApp.ticker.add(updateSimulation.bind(null, spriteArr[index], spriteArr, circleIntersect, this.simulationApp.loader));\n\t\t}\n\t} else {\n\t\tfor (let index = 0; index < len; index++) {\n\t\t\tthis.simulationApp.stage.addChild(spriteArr[index]);\n\t\t\tthis.simulationApp.ticker.addOnce(updateSimulation.bind(null, spriteArr[index], spriteArr, circleIntersect, this.simulationApp.loader));\n\t\t}\n\t}\n}\n\n","import * as PIXI from \"pixi.js-legacy\";\n\nexport const updateGame = (sprite, spriteArr, quarantineArr, quarantineObj, circleIntersect, loader, randomIntNumber) => {\n\t// DELAY START TIME\n\tif (sprite.reactContext.state.clockTime.getTime() <= sprite.reactContext.state.gameSettings[\"delayInSeconds\"]*1000) {\n\t\treturn;\n\t}\n\t// CHANGE TEXT - and stop calculations to avoid collision detection of Text object\n\tif (sprite.isTextSprite) {\n\t\tif (sprite.dropTime != null) {\n\t\t\tconst seconds = (sprite.dropTime + sprite.duration - sprite.reactContext.state.clockTime.getTime()) / 1000;\n\t\t\tsprite.text = `0:${seconds < 10 ? \"0\" + seconds : seconds}`;\n\t\t}\n\t\t// must not calculate any further as text object has no need for it\n\t\treturn;\t\n\t}\n\n\t// QUARANTINE (and text)\n\tif (sprite.isQuarantineSprite) {\n\t\t// 1. DRAG/DROP/CANCEL/MOVE-RESIZE - eval if it is the dragged quarantine and it hasn't been placed yet (dropTime == null)\n\t\tif (sprite.myID === sprite.reactContext.state.draggedQuarantine[\"id\"] && sprite.dropTime == null) {\t\t\t\n\t\t\tconst textSprite = spriteArr[sprite.myID + quarantineObj.length] || {};\n\t\t\tsprite.isDragged = true;\n\t\t\t// CANCEL dragged quarantine if right clicked and stop calculating\n\t\t\tif (sprite.reactContext.state.quarantineCancelled) {\n\t\t\t\tsprite.x = -500;\n\t\t\t\tsprite.y = -500;\n\t\t\t\ttextSprite.x = -500;\n\t\t\t\ttextSprite.y = -500;\n\t\t\t\tsprite.isDragged = false;\n\n\t\t\t\t// set quarantine texture for future drag\n\t\t\t\tconst green = new PIXI.Graphics();\n\t\t\t\tgreen.beginFill(0x69b11c, 0.35); \n\t\t\t\tgreen.drawCircle(0,0,sprite.radius);\n\t\t\t\tgreen.endFill();\n\t\t\t\tsprite.texture = green.generateCanvasTexture();\n\t\t\t\tsprite.alpha = 1;\n\t\t\t\t// sets quarantineCancelled => false\n\t\t\t\tsprite.reactContext.setQuarantineNonactive(sprite.myID);\n\t\t\t\tsprite.reactContext.resetDraggedQuarantineId();\n\t\t\t}\n\n\n\t\t\t// SET DROP TIME - if quarantine is draged and placed, it cannot have dropTime null at the same time\n\t\t\telse if (sprite.reactContext.state.quarantinePlaced) {\n\t\t\t\tconst dropTime = sprite.reactContext.state.clockTime.getTime();\n\t\t\t\tsprite.dropTime = dropTime;\n\t\t\t\ttextSprite.dropTime = dropTime;\n\n\t\t\t\tsprite.isDragged = false;\n\t\t\t\tsprite.isActive = true;\n\n\t\t\t\t// set quarantine TEXTURE for placement\n\t\t\t\tconst empty = new PIXI.Graphics();\n\t\t\t\tempty.beginFill(0x000, 0);\n\t\t\t\tempty.lineStyle(5,0x69b11c,1); // green border\n\t\t\t\tempty.drawCircle(0,0,sprite.radius);\n\t\t\t\tempty.endFill();\n\t\t\t\tsprite.texture = empty.generateCanvasTexture();\n\t\t\t\tsprite.alpha = 1;\n\n\t\t\t\t// TEXT\n\t\t\t\ttextSprite.x = sprite.reactContext.state.draggedQuarantine.x;\n\t\t\t\ttextSprite.y = sprite.reactContext.state.draggedQuarantine.y + 15 - spriteArr[sprite.reactContext.state.draggedQuarantine.id].width / 2;\n\t\t\t\t// reset dragged quarantine so it doesn't trigger on next loop calc\n\t\t\t\tsprite.reactContext.resetDraggedQuarantineId();\n\t\t\t}\n\t\t\t// DRAG and RESIZE on wheelscroll \n\t\t\telse if (sprite.isDragged) {\n\t\t\t\tconst size = sprite.reactContext.state.draggedQuarantine[\"size\"]\n\n\t\t\t\t// resize and move (x, y)\n\t\t\t\tsprite.width = size < 75 ? 75: size > 360 ? 360 : size;\n\t\t\t\tsprite.height = size < 75 ? 75: size > 360 ? 360 : size;\n\t\t\t\tsprite.radius = size < 75 ? 35: size > 360 ? 180 : size / 2;\n\t\t\t\tsprite.x = sprite.reactContext.state.draggedQuarantine.x;\n\t\t\t\tsprite.y = sprite.reactContext.state.draggedQuarantine.y;\n\t\t\t\t// TEXT\n\t\t\t\ttextSprite.x = size < 100 ? sprite.reactContext.state.draggedQuarantine.x : size > 300 ? sprite.reactContext.state.draggedQuarantine.x - 5 : sprite.reactContext.state.draggedQuarantine.x;\n\t\t\t\ttextSprite.y = sprite.reactContext.state.draggedQuarantine.y + 15 - spriteArr[sprite.reactContext.state.draggedQuarantine.id].width / 2;\n\n\t\t\t\t// QUARANTINE OVERLAPPING- when quarantine is not dropped, it is not yet being calculated in the collisions\n\t\t\t\tlet overlap = false;\n\t\t\t\t// only check active quarantines (they become active at the start of drag)\n\t\t\t\tconst quarantinesForCheck = quarantineArr.filter(quarantine => quarantine.isActive);\n\t\t\t\tfor (let index = 0; index < quarantinesForCheck.length; index++) {\n\t\t\t\t\t// don't check self\n\t\t\t\t\tif (sprite.myID === quarantinesForCheck[index].myID) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t// calc intersection - break for loop if it intersects\n\t\t\t\t\tif (circleIntersect(sprite.x, sprite.y, sprite.radius, quarantinesForCheck[index].x, quarantinesForCheck[index].y, quarantinesForCheck[index].radius)) {\n\t\t\t\t\t\toverlap = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// if quarantine overlaps another and it was not overlapping previously - change texture\n\t\t\t\tif (overlap && !sprite.reactContext.state.quarantineOverlapping) {\n\t\t\t\t\tconst red = new PIXI.Graphics();\n\t\t\t\t\tred.beginFill(0xed1813, 0.35);\n\t\t\t\t\tred.drawCircle(0,0,sprite.radius);\n\t\t\t\t\tred.endFill();\n\t\t\t\t\tsprite.texture = red.generateCanvasTexture();\n\t\t\t\t\tsprite.alpha = 1;\n\t\t\t\t\ttextSprite.style.fill = 0xed1813; // set text\n\t\t\t\t\tsprite.reactContext.setState({ quarantineOverlapping: true });\n\t\t\t\t}// if quarantine was previously overlapping and it doesn't now - change state\n\t\t\t\telse if (!overlap && sprite.reactContext.state.quarantineOverlapping) {\n\t\t\t\t\tconst green = new PIXI.Graphics();\n\t\t\t\t\tgreen.beginFill(0x69b11c, 0.35);\n\t\t\t\t\tgreen.drawCircle(0,0,sprite.radius);\n\t\t\t\t\tgreen.endFill();\n\t\t\t\t\tsprite.texture = green.generateCanvasTexture();\n\t\t\t\t\tsprite.alpha = 1;\n\t\t\t\t\ttextSprite.style.fill = 0x69b11c; // set text\n\t\t\t\t\tsprite.reactContext.setState({ quarantineOverlapping: false });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// HIDE quarantine - when clock goes beyond duration (duration + dropTime)\n\t\telse if (sprite.dropTime && (sprite.reactContext.state.clockTime.getTime() - sprite.duration - sprite.dropTime) > 0) {\n\t\t\tconst textSprite = spriteArr[sprite.myID + quarantineObj.length] || {};\n\t\t\tsprite.x = -500;\n\t\t\tsprite.y = -500;\n\t\t\ttextSprite.x = -500;\n\t\t\ttextSprite.y = -500;\n\t\t\tsprite.dropTime = null;\n\t\t\ttextSprite.dropTime = null;\n\t\t\t\n\t\t\t// prepare values for next appearance\n\t\t\tconst green = new PIXI.Graphics();\n\t\t\tgreen.beginFill(0x69b11c, 0.35); // set future pick up color (green)\n\t\t\tgreen.drawCircle(0,0,sprite.radius);\n\t\t\tgreen.endFill();\n\t\t\tsprite.texture = green.generateCanvasTexture();\n\t\t\tsprite.alpha = 1;\n\t\t\tsprite.reactContext.setQuarantineNonactive(sprite.myID);\n\t\t\t// TEXT\n\t\t\t// this was done in a hurry (repeated in HomePage/helpers/game/startGame.js) - it is only called on quarantine termination\n\t\t\tconst difficultyTime = { 0: [15, 25], 1: [15, 20], 2: [10, 15] };\n\t\t\tconst difficulty = sprite.reactContext.state.gameSettings[\"difficulty\"];\n\t\t\tconst randomTimeInSeconds = Math.round(randomIntNumber(difficultyTime[difficulty][0]*1000, difficultyTime[difficulty][1]*1000) / 1000);\t// make duration a round seconds number\n\t\t\ttextSprite.duration = randomTimeInSeconds * 1000;\n\t\t\tsprite.duration = randomTimeInSeconds * 1000;\n\t\t\ttextSprite.text = `0:${randomTimeInSeconds < 10 ? \"0\" + randomTimeInSeconds + \"\" : randomTimeInSeconds}`;\n\t\t}\n\t}\n\n\n\n\t// X BOUNDARIES\n\tif ((sprite.x + sprite.radius) > (window.innerWidth < sprite.reactContext.canvasWidth ? sprite.reactContext.canvasWidth : window.innerWidth )) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\tif ((sprite.x - sprite.radius) < 0) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\t// Y BOUNDARIES\n\tif ((sprite.y + sprite.radius) > (window.innerHeight < sprite.reactContext.canvasHeight ? sprite.reactContext.canvasHeight : window.innerHeight)) { // resize only up\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\tif ((sprite.y - sprite.radius) < 0) {\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\t/* CALCULATE DEACTIVATION TIME IF APPLIED - MAYBE WILL BE USED FOR PREVOIUS INFECTED - VIOLET\n\tif (sprite.reactContext.state.simulationSettings[\"deactivateAfter\"] > 0) {\n\t\tif (sprite.contagiousFrom && (sprite.reactContext.state.currentTime - sprite.contagiousFrom > sprite.reactContext.state.simulationSettings[\"deactivateAfter\"])) {\n\t\t\tsprite.contagion = 0;\n\t\t\tsprite.contagiousFrom = 0;\n\t\t\tsprite.texture = loader.resources.sheet.textures[\"ball-white-15.png\"];\n\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious - 1, healthy: prevState.healthy + 1 }));\n\t\t}\n\t}*/\n\n\t// CALCULATE COLLISION DETECTION WITH QUARANTINE ONLY WHEN DROPPED - when draggedID changes this eval will be false!\n\tif (sprite.myID === sprite.reactContext.state.draggedQuarantine.id && !sprite.reactContext.state.quarantinePlaced) {\n\t\treturn;\n\t}\n\t// CALCULATE COLLISION DETECTION TO ALL OTHER IMAGES - substract Text objects!\n\tfor (let i = 0; i < spriteArr.length - quarantineObj.length; i++) {\n\t\t// don't calculate collisions for same objects\n\t\tif (sprite.myID === spriteArr[i].myID) {\n\t\t\tcontinue;\n\t\t}\n\t\t// check if distance minus radia is less then 0 --> crash\n\t\tif (circleIntersect(sprite.x, sprite.y, sprite.radius, spriteArr[i].x, spriteArr[i].y, spriteArr[i].radius)) {\n\t\t\tconst otherSprite = spriteArr[i]\n\t\t\t// don't calculate contagion for quarantine particles (which have id > particle quantity)\n\t\t\tif (otherSprite.myID < sprite.reactContext.state.gameSettings.quantity && sprite.myID < sprite.reactContext.state.gameSettings.quantity) {\n\t\t\t\t// only calculating contagion transmission (one contagious, one healthy)\n\t\t\t\tif (otherSprite.contagion && !sprite.contagion) {\n\t\t\t\t\tconst d = Math.random();\n\t\t\t\t\tif (sprite.reactContext.state.gameSettings[\"difficulty\"] === 2) {\n\t\t\t\t\t\t// 100% chance of being here - hard difficulty\n\t\t\t\t\t\tgetContagion(sprite, loader);\n\t\t\t\t\t} else if (d < 0.5 && sprite.reactContext.state.gameSettings[\"difficulty\"] === 1) {\n\t\t\t\t\t\t// 50% chance of being here - medium\n\t\t\t\t\t\tgetContagion(sprite, loader);\n\t\t\t\t\t} else if (d < 0.67) {\n\t\t\t\t\t\t// 17% chance of being here\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 33% chance of being here - easy\n\t\t\t\t\t\tgetContagion(sprite, loader);\n\t\t\t\t\t}\n\n\t\t\t\t} else if (sprite.contagion && !otherSprite.contagion) {\n\t\t\t\t\tconst d = Math.random();\n\t\t\t\t\tif (sprite.reactContext.state.gameSettings[\"difficulty\"] === 2) {\n\t\t\t\t\t\t// 100% chance of being here - hard difficulty\n\t\t\t\t\t\tgetContagion(otherSprite, loader);\n\t\t\t\t\t} else if (d < 0.5 && sprite.reactContext.state.gameSettings[\"difficulty\"] === 1) {\n\t\t\t\t\t\t// 50% chance of being here - medium\n\t\t\t\t\t\tgetContagion(otherSprite, loader);\n\t\t\t\t\t} else if (d < 0.67) {\n\t\t\t\t\t\t// 17% chance of being here\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 33% chance of being here - easy\n\t\t\t\t\t\tgetContagion(otherSprite, loader);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tresolveCollision(sprite, otherSprite, circleIntersect);\n\t\t}\n\t}\n\tsprite.x += sprite.velocity.x;\n\tsprite.y += sprite.velocity.y;\n}\n\nfunction getContagion(sprite, loader) {\n\tsprite.contagion = 1;\n\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious + 1, healthy: prevState.healthy - 1 }));\n\tsprite.contagiousFrom = new Date().getTime();\n\tsprite.texture = loader.resources.sheet.textures[\"ball-red-15.png\"];\n\n\tif (sprite.reactContext.state.simulationSettings[\"autorestart\"] && sprite.reactContext.state.healthy === 0) {\n\t\tsprite.reactContext.gameRestart();\n\t}\n}\n\n/**\n * Rotates coordinate system for velocities\n *\n * Takes velocities and alters them as if the coordinate system they're on was rotated\n *\n * @param  Object | velocity | The velocity of an individual particle\n * @param  Float  | angle    | The angle of collision between two objects in radians\n * @return Object | The altered x and y velocities after the coordinate system has been rotated\n */\nfunction rotate(velocity, angle) {\n\tconst rotatedVelocities = {\n\t\tx: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n\t\ty: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle)\n\t};\n\treturn rotatedVelocities;\n}\n\n/**\n * Swaps out two colliding particles' x and y velocities after running through\n * an elastic collision reaction equation\n *\n * @param  Object | particle      | A particle object with x and y coordinates, plus velocity\n * @param  Object | otherParticle | A particle object with x and y coordinates, plus velocity\n * @return Null | Does not return a value\n */\n\nfunction resolveCollision(particle, otherParticle, circleIntersect) {\n\tconst quantity = particle.reactContext.state.gameSettings.quantity;\n\tlet xVelocityDiff, yVelocityDiff, xDist, yDist;\n\n\txVelocityDiff = particle.velocity.x - otherParticle.velocity.x;\n\tyVelocityDiff = particle.velocity.y - otherParticle.velocity.y;\n\n\txDist = otherParticle.x - particle.x;\n\tyDist = otherParticle.y - particle.y;\n\n\n\n\t// Prevent accidental overlap of images - calculate only when objects are moving towards each other\n\tif (xVelocityDiff * xDist + yVelocityDiff * yDist > 0 && particle.myID < quantity && otherParticle.myID < quantity) {\n\t\t// Grab angle between the two colliding images\n\t\tconst angle = -Math.atan2(otherParticle.y - particle.y, otherParticle.x - particle.x);\n\n\t\t// Store mass in var for better readability in collision equation\n\t\t// const m1 = particle.mass;\n\t\t// const m2 = otherParticle.mass;\n\n\t\t// Velocity before equation\n\t\tconst u1 = rotate(particle.velocity, angle);\n\t\tconst u2 = rotate(otherParticle.velocity, angle);\n\n\t\t// Velocity after 1d collision equation\n\t\t// (mass) const v1 = { x: u1.x * (m1 - m2) / (m1 + m2) + u2.x * 2 * m2 / (m1 + m2), y: u1.y };\n\t\t// (mass) const v2 = { x: u2.x * (m1 - m2) / (m1 + m2) + u1.x * 2 * m2 / (m1 + m2), y: u2.y };\n\t\tconst v1 = { x: u2.x, y: u1.y };\n\t\tconst v2 = { x: u1.x, y: u2.y };\n\n\t\t// Final velocity after rotating axis back to original location\n\t\tconst vFinal1 = rotate(v1, -angle);\n\t\tconst vFinal2 = rotate(v2, -angle);\n\n\t\t// PRESERVE SPEED - calculate startSpeed and newSpeed ratio and apply it to particle x and y velocities\n\t\tconst particlePreservedSpeed = preserveSpeed(particle, vFinal1);\n\t\tconst otherParticlePreservedSpeed = preserveSpeed(otherParticle, vFinal2);\n\n\t\t// Swap particle velocities for realistic bounce effect\n\t\tparticle.velocity.x = particlePreservedSpeed.x;\n\t\tparticle.velocity.y = particlePreservedSpeed.y;\n\n\t\totherParticle.velocity.x = otherParticlePreservedSpeed.x;\n\t\totherParticle.velocity.y = otherParticlePreservedSpeed.y;\n\t}\t// QUARANTENE\n\telse if (particle.myID >= quantity){\n\t\tconst particleDistance = distance(particle.x, particle.y, otherParticle.x, otherParticle.y) - particle.radius + otherParticle.radius;\n\t\t// make a border > -2 for outside particles\n\t\tif (particleDistance > -4) {\n\t\t\totherParticle.velocity.x = -otherParticle.velocity.x;\n\t\t\totherParticle.velocity.y = -otherParticle.velocity.y;\n\t\t\tparticle.velocity.x = 0;\n\t\t\tparticle.velocity.y = 0;\n\t\t}\n\t\t// border < -2 for inside particles (so inside / outside don+t touch!)\n\t\tif (particleDistance > -8 && particleDistance < -4) {\n\t\t\totherParticle.velocity.x = -otherParticle.velocity.x;\n\t\t\totherParticle.velocity.y = -otherParticle.velocity.y;\n\t\t\tparticle.velocity.x = 0;\n\t\t\tparticle.velocity.y = 0;\n\t\t}\n\t}\n}\n\nfunction preserveSpeed(particle, vFinal) {\n\t// calculate hypothenuse of the new speed\n\tconst newSpeed = Math.sqrt(vFinal.x * vFinal.x + vFinal.y * vFinal.y);\n\t// and compare it to the old speed hypothenuse and shorten / prolong x & y with calculated ratio\n\treturn {\n\t\tx: vFinal.x * particle.startSpeed / newSpeed,\n\t\ty: vFinal.y * particle.startSpeed / newSpeed\n\t}\n}\nfunction distance(x1, y1, x2, y2) {\n\tconst xDist = x2 - x1;\n\tconst yDist = y2 - y1;\n\treturn Math.sqrt(xDist * xDist + yDist * yDist);\n}\nfunction quarantineCollision(particle, otherParticle) {\n\tconst angle = -Math.atan2(otherParticle.y - particle.y, otherParticle.x -particle.x);\n\n\t// Store mass in var for better readability in collision equation\n\t// const m1 = particle.mass;\n\t// const m2 = otherParticle.mass;\n\n\t// Velocity before equation\n\tconst u2 = rotate(otherParticle.velocity, angle);\n\n\t// Velocity after 1d collision equation\n\tconst v2 = { x: 0, y: u2.y };\n\n\t// Final velocity after rotating axis back to original location\n\tconst vFinal2 = rotate(v2, -angle);\n\n\t// PRESERVE SPEED - calculate startSpeed and newSpeed ratio and apply it to particle x and y velocities\n\tconst otherParticlePreservedSpeed = preserveSpeed(otherParticle, vFinal2);\n\n\t//\n\totherParticle.velocity.x = -otherParticlePreservedSpeed.x;\n\totherParticle.velocity.y = -otherParticlePreservedSpeed.y;\n}","import { updateGame } from \"./updateGame\";\nimport * as PIXI from \"pixi.js-legacy\";\n\nexport function startGame(autostart, gameSettings = null) {\n\tthis.autostart = autostart || false;\n\t// UTILITIES\n\n\tthis.gameApp = new PIXI.Application({\n\t\twidth: this.canvasWidth,\n\t\theight: this.canvasHeight,\n\t\tresolution: window.devicePixelRatio || 1,\n\t\tautoDensity: true,\n\t\tsharedLoader: true\n\t});\n\tdocument.getElementById(\"canvas-container\").appendChild(this.gameApp.view);\n\n\tif (this.gameApp.loader.resources.sheet == null) {\n\t\tthis.gameApp.loader\n\t\t\t.add(\"sheet\", \"balls.json\")\n\t\t\t.on(\"progress\", (loader, resource) => console.log(loader.progress + \"% loaded\"))\n\t\t\t.on(\"load\", (loader, resource) => console.log(\"Asset loaded\" + resource.name))\n\t\t\t.on(\"error\", err => console.error(\"load error\", err))\n\t\t\t.load(handleOnImageLoaded.bind(this, gameSettings));\n\t} else {\n\t\tthis.gameApp.loader.load(handleOnImageLoaded.bind(this, gameSettings));\n\t}\n\t// Resize function window\n\tconst resize = (e) => {\n\t\tif (this.gameApp) {\n\t\t\t// Resize the renderer\n\t\t\tthis.gameApp.renderer.resize(window.innerWidth < this.canvasWidth ? this.canvasWidth : window.innerWidth,\n\t\t\t\t\t\t\t\twindow.innerHeight < this.canvasHeight ? this.canvasHeight : window.innerHeight);\n\t\t}\n\t// You can use the 'screen' property as the renderer visible\n\t// area, this is more useful than view.width/height because\n\t// it handles resolution\n\t//rect.position.set(app.screen.width, app.screen.height);\n\t}\n\t// Listen for window resize events\n\twindow.addEventListener('resize', resize);\n}\n\nfunction randomIntNumber(min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\n * Intersection calculation. Multiplication is much faster than getting the square root with Math.sqrt(), so distance is calculated without getting the root\n * and the sum of the radii is multiplied by itself. The outcome stays the same, but the performance is better.\n * @param {Float} x1\n * @param {Float} y1\n * @param {Int}   r1\n * @param {Float} x2\n * @param {Float} y2\n * @param {Int}\t  r2\n */\nfunction circleIntersect(x1, y1, r1, x2, y2, r2) {\n\n    // Calculate the distance between the two circles\n    var squareDistance = (x1-x2)*(x1-x2) + (y1-y2)*(y1-y2);\n\n    // When the distance is smaller or equal to the sum\n    // of the two radius, the circles touch or overlap\n    return squareDistance <= ((r1 + r2) * (r1 + r2))\n}\n\nfunction handleOnImageLoaded(gameSettings) {\n\tconst {\n\t\tsize: radius,\n\t\tspeed,\n\t\tquantity,\n\t\tdifficulty,\n\t\tnrOfQuarantines\n\t} = gameSettings == null ? this.state.gameSettings : gameSettings;\n\n\n\tconst quarantineArr = [];\n\tconst timeTextArr = [];\n\tconst difficultyTime = { 0: [15, 25], 1: [15, 20], 2: [10, 15] };\n\t// TEXT & QUARANTINES\n\tfor (let index = 0; index < nrOfQuarantines; index++) {\n\t\tconst randomTimeInSeconds = Math.round(randomIntNumber(difficultyTime[difficulty][0]*1000, difficultyTime[difficulty][1]*1000) / 1000);\t// make duration a round seconds number\n\t\t// TEXT\n\t\tconst formattedTime = `0:${randomTimeInSeconds < 10 ? \"0\" + randomTimeInSeconds + \"\" : randomTimeInSeconds}`;\n\t\tconst timeText = new PIXI.Text(formattedTime, {\n\t\t\tfill: 0x69b11c,\n\t\t\tfontSize: \"21px\",\n\t\t\tfontFamily : \"Roboto Condensed\"\n\t\t});\n\t\ttimeText.alpha = 1;\n\t\ttimeText.text = formattedTime;\n\t\ttimeText.isTextSprite = true;\n\t\ttimeText.anchor.set(0.5, 0);\n\t\ttimeText.x = -500;\n\t\ttimeText.y = -500;\n\t\ttimeText.duration = randomTimeInSeconds * 1000;\n\t\ttimeText.dropTime = null;\n\t\ttimeText.reactContext = this;\n\t\ttimeText.myID = quantity + nrOfQuarantines + index; // text index (calulate existing quarantines)\n\n\t\t// QUARANTINES\n\t\tconst width = this.state.draggedQuarantine[\"size\"];\n\t\tconst height = width;\n\t\tconst radius = width / 2;\n\n\t\tconst green = new PIXI.Graphics();\n\t\tgreen.beginFill(0x69b11c, 0.7);\n\t\tgreen.drawCircle(0,0,radius);\n\t\tgreen.endFill();\n\t\tconst greenTexture = green.generateCanvasTexture();\n\n\t\tconst particleID = quantity + index;\n\t\tconst quarantine = new PIXI.Sprite(greenTexture);\n\t\tquarantine.alpha = 1;\n\t\tquarantine.x = -500;\n\t\tquarantine.y = -500;\n\t\tquarantine.alpha = .5;\n\t\tquarantine.duration = randomTimeInSeconds * 1000;\n\t\tquarantine.width = width;\n\t\tquarantine.height = height;\n\t\tquarantine.anchor.x = .5;\n\t\tquarantine.anchor.y = .5;\n\t\tquarantine.radius = radius;\n\t\tquarantine.reactContext = this;\n\t\tquarantine.contagion = 0;\n\t\tquarantine.contagiousFrom = null;\n\t\tquarantine.velocity = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tquarantine.startSpeed = 0;\n\t\t// events\n\t\tquarantine.myID = particleID;\n\t\tquarantine.isQuarantineSprite = true;\n\t\tquarantine.isActive = false;\n\t\tquarantine.isDragged = false;\n\t\tquarantine.isBeingDropped = false;\n\t\tquarantine.dropTime = null;\n\n\n\n\n\n\t\t// push each object to its own array\n\t\tquarantineArr.push(quarantine);\n\t\ttimeTextArr.push(timeText);\n\t}\n\n\t// PARTICLES\n\tlet contagion, sprite;\n\tconst spriteArr = [];\n\tconst nrImages = +quantity;\n\tconst maxWidth = this.canvasWidth - radius * 2.5;\n\tconst maxHeight = this.canvasHeight - radius * 2.5;\n\tconst whiteBall = this.gameApp.loader.resources.sheet.textures[\"ball-white-15.png\"];\n\tconst redBall = this.gameApp.loader.resources.sheet.textures[\"ball-red-15.png\"];\n\n\tfor (let i = 0; i < nrImages; i++) {\n\n\t\tcontagion = i === 0 ? 1 : 0;\n\t\tlet tries = 0;\n\t\tlet x = randomIntNumber(radius * 2, maxWidth);\n\t\tlet y = randomIntNumber(radius * 2, maxHeight);\n\t\tif (i !== 0) {\n\t\t\tfor (let j = 0; j < spriteArr.length; j++) {\n\t\t\t\tif (tries > 1000000) {\n\t\t\t\t\tbreak; // if the screen is too small, it will go forever - so break and have none and notify user\n\t\t\t\t}\n\t\t\t\tif (circleIntersect(x, y, radius, spriteArr[j].x, spriteArr[j].y, spriteArr[j].radius)) {\n\t\t\t\t\tx = randomIntNumber(radius * 2, maxWidth);\n\t\t\t\t\ty = randomIntNumber(radius * 2, maxHeight);\n\t\t\t\t\t// set new x, y recursively\n\t\t\t\t\tj = -1;\n\t\t\t\t\ttries++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (contagion) {\n\t\t\tsprite = new PIXI.Sprite(redBall);\n\t\t} else {\n\t\t\tsprite = new PIXI.Sprite(whiteBall);\n\t\t}\n\t\tsprite.x = x;\n\t\tsprite.y = y;\n\t\tsprite.isParticleSprite = true;\n\t\tsprite.width = radius * 2;\n\t\tsprite.height = radius * 2;\n\t\tsprite.anchor.x = .5;\n\t\tsprite.anchor.y = .5;\n\t\tsprite.myID = i;\n\t\tsprite.radius = radius;\n\t\tsprite.reactContext = this;\n\t\tsprite.contagion = contagion;\n\t\tsprite.contagiousFrom = 0;\n\t\tconst randomX = Math.random() - .5;\n\t\tconst randomY = Math.random() - .5;\n\t\tsprite.velocity = {\n\t\t\tx: randomX < 0  && randomX > -.3 ? (randomX*speed) - speed : (randomX > 0  && randomX < .3 ? (randomX) + speed : randomX * speed),\n\t\t\ty: randomY < 0  && randomY > -.3 ? (randomY*speed) - speed : (randomY > 0  && randomY < .3 ? (randomY) + speed : randomY * speed),\n\t\t};\n\n\t\t// calculate starting speed (hypothenuse from x, y) - optimised (without Math.pow() func)\n\t\tsprite.startSpeed = Math.sqrt(sprite.velocity.x * sprite.velocity.x + sprite.velocity.y * sprite.velocity.y);\n\t\tspriteArr.push(sprite);\n\t}\n\n\tquarantineArr.forEach(item => spriteArr.push(item));\n\ttimeTextArr.forEach(item => spriteArr.push(item));\n\n\t// construct quarantine and text object\n\tconst quarantineObj = quarantineArr.reduce((acc, obj) => Object.assign(acc, {[obj.myID]: obj}), {length: quarantineArr.length})\n\n\tthis.setState({ availableQuarantines: quarantineArr.map(item => item.myID)});\n\tconst len = spriteArr.length;\n\t// draw and animate\n\tif (this.autostart) {\n\t\tfor (let spriteIndex = 0; spriteIndex < len; spriteIndex++) {\n\t\t\tthis.gameApp.stage.addChild(spriteArr[spriteIndex]);\n\t\t\tthis.gameApp.ticker.add(updateGame.bind(null, spriteArr[spriteIndex], spriteArr, quarantineArr, quarantineObj, circleIntersect, this.gameApp.loader, randomIntNumber));\n\t\t}\n\t} else {\n\t\tfor (let spriteIndex = 0; spriteIndex < len; spriteIndex++) {\n\t\t\tthis.gameApp.stage.addChild(spriteArr[spriteIndex]);\n\t\t\tthis.gameApp.ticker.addOnce(updateGame.bind(null, spriteArr[spriteIndex], spriteArr, quarantineArr, quarantineObj, circleIntersect, this.gameApp.loader, randomIntNumber));\n\t\t}\n\t}\n}\n\n","export function pause() {\n\tif (this.simulationApp) {\n\t\treturn this.simulationApp.ticker.stop();\n\t}\n\telse if (this.gameApp) {\n\t\treturn this.gameApp.ticker.stop();\n\n\t}\n};\n\nexport function unPause() {\n\tif (this.simulationApp) {\n\t\treturn this.simulationApp.ticker.start();\n\t}\n\telse if (this.gameApp) {\n\t\treturn this.gameApp.ticker.start();\n\t}\n};\n\nexport function stop() {\n\tif (this.simulationApp) {\n\t\t// https://pixijs.download/dev/docs/PIXI.Application.html#destroy\n\t\t// (everything should be destroyed when not needed —> garbage collector)\n\t\t// removes children, but leaves canvas element\n\t\tthis.simulationApp.destroy(true);\n\t\tthis.simulationApp = null;\n\t}\n\telse if (this.gameApp) {\n\t\t// https://pixijs.download/dev/docs/PIXI.Application.html#destroy\n\t\t// (everything should be destroyed when not needed —> garbage collector)\n\t\t// removes children, but leaves canvas element\n\t\tthis.gameApp.destroy(true);\n\t\tthis.gameApp = null;\n\t}\n};\n\nexport { startSimulation } from \"./simulation/startSimulation\";\nexport { startGame } from \"./game/startGame\";","export const sizeOptions = [\n\t{ type: \"Small\", value: 2.5 },\n\t\"|\",\n\t{ type: \"Medium\", value: 5 },\n\t\"|\",\n\t{ type: \"Large\", value: 7.5 },\n];\nexport const quantityValues = {\n\t\"2.5\": [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 700, \"|\", 800, \"|\", 1000 ],\n\t5: [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 600, \"|\", 700, \"|\", 800 ],\n\t\"7.5\": [  50, \"|\", 100,\"|\", 150, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500 ]\n};\nexport const speedOptions = [\n\t{ type: \"Slow\", value: .3 },\n\t\"|\",\n\t{ type: \"Medium\", value: .6 },\n\t\"|\",\n\t{ type: \"Fast\", value: 1 },\n];\nexport const deactivateOptions = [\n\t0,\n\t\"|\",\n\t10000,\n\t\"|\",\n\t15000,\n\t\"|\",\n\t20000,\n\t\"|\",\n\t30000,\n\t\"|\",\n\t45000,\n\t\"|\",\n\t60000\n];\nexport const booleanOptions = [\n\t{ type: \"yes\", value: true },\n\t\"|\",\n\t{ type: \"no\", value: false }\n];","import React from \"react\";   \nimport { Row, Modal, ModalHeader, ModalBody, ModalFooter, \n\t\tContainer, Nav, NavLink } from \"reactstrap\";\n\nimport { sizeOptions, quantityValues, speedOptions, deactivateOptions, booleanOptions } from \"./simulationOptions\";\nimport \"./simulationDialog.scss\";\n\nexport class SimulationDialog extends React.Component {\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t// starightforward - in case simulation is active, this component should not update\n\t\tif (!nextProps.isSimulationActive) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.props.isOpen !== nextProps.isOpen || this.props.buttonText !== nextProps.buttonText) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.props.settings[\"size\"] !== nextProps.settings[\"size\"] ||\n\t\t\tthis.props.settings[\"speed\"] !== nextProps.settings[\"speed\"] ||\n\t\t\tthis.props.settings[\"quantity\"] !== nextProps.settings[\"quantity\"] ||\n\t\t\tthis.props.settings[\"deactivateAfter\"] !== nextProps.settings[\"deactivateAfter\"] ||\n\t\t\tthis.props.settings[\"showTime\"] !== nextProps.settings[\"showTime\"] ||\n\t\t\tthis.props.settings[\"showStats\"] !== nextProps.settings[\"showStats\"] ||\n\t\t\tthis.props.settings[\"autorestart\"] !== nextProps.settings[\"autorestart\"]\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t// in case simulation is active, this component should not trigger update\n\t\tif (!this.props.isSimulationActive) {\n\t\t\treturn false;\n\t\t}\n\t\tconst minQuantity = quantityValues[this.props.settings.size][0] || 0;\n\t\tconst maxQuantity = quantityValues[this.props.settings.size].slice(-1)[0] || 1000;\n\t\t// if quantity is greater or smaller than it should be according to size\n\t\tif (this.props.settings.quantity > maxQuantity ) {\n\t\t\treturn this.props.setSimulationSettings({ quantity: maxQuantity });\n\t\t}\n\t\tif (this.props.settings.quantity < minQuantity ) {\n\t\t\treturn this.props.setSimulationSettings({ quantity: minQuantity });\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst { isOpen, toggle, startSimulation, buttonText, setSimulationSettings, \n\t\t\t\t\tsettings: { size, speed, quantity, deactivateAfter, showTime, showStats, autorestart} } = this.props;\n\n\t\treturn (\t\t\n\t\t\t<Modal key=\"simulator\" zIndex={isOpen ? 1000: -1} isOpen={isOpen} toggle={toggle} centered={true} fade={true} className=\"simulator-modal\">\n\t\t\t\t<ModalHeader charCode=\"X\" toggle={toggle}>SIMULATION SETTINGS</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Size of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{sizeOptions.map((sizeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof sizeOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{sizeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({size: sizeOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={sizeOption.value === size}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sizeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Number of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{quantityValues[size].map((quantityValue, idx) => {\n\t\t\t\t\t\t\t\t\tif (quantityValue === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{quantityValue}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({quantity: quantityValue})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={quantityValue === quantity}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{quantityValue}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\t\t\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Speed of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{speedOptions.map((speedOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof speedOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{speedOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn\t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({speed: speedOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={speedOption.value === speed}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{speedOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Deactivate ball after</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{deactivateOptions.map((deactivateOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (deactivateOption === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{deactivateOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({deactivateAfter: deactivateOption})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={deactivateOption === deactivateAfter}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{deactivateOption === 0 ? \"no\" : `${deactivateOption/1000}s`}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\t\t\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\t\t\t\t\n\t\t\t\t\t<Row className=\"flexContainer d-flex justify-content-center\">\n\t\t\t\t\t\t<Container className=\"col-4 choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Show time</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{booleanOptions.map((timeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof timeOption !== \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{timeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({showTime: timeOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={timeOption.value === showTime}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{timeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t<Container className=\"col-4 choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Show stats</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{booleanOptions.map((statOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof statOption !== \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{statOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx} \n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({showStats: statOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={statOption.value === showStats}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{statOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t<Container className=\"col-4 choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Autorestart</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{booleanOptions.map((restartOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof restartOption !== \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{restartOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({autorestart: restartOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={restartOption.value === autorestart}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{restartOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter onClick={startSimulation} className=\"simulator-modal__footer\">\n\t\t\t\t\t&gt;&gt;&gt;&nbsp;&nbsp; {buttonText} &nbsp;&nbsp;&lt;&lt;&lt;\n\t\t\t\t</ModalFooter>\n\t\t</Modal>\n\t)};\n};\n","import React, { useState } from 'react'\nimport { Button, Navbar, Nav, NavbarToggler,\n\tCollapse, NavItem, NavLink, NavbarText } from \"reactstrap\";\n\nimport \"./navbar.scss\";\n\nexport const NavBar = props => {\n\tconst { onMouseMove, toggleNavbarItemsExpand, isNavbarExpanded, toggleNavbarVisibility, isNavbarVisible, contagious,\n\t\thealthy, isGameActive, gamePaused, toggleSimulationDialog, toggleShareDialog, toggleGameDialog, clockTime,\n\t\tsimulationSettings: { showTime, showStats }, gameSettings: { delayInSeconds, mode, difficulty } } = props;\n\n\t// count in the in-game start delay\n\tlet formattedSeconds, seconds, minutes;\n\tconst currentSeconds = clockTime.getSeconds();\n\tconst shouldCountdownBeVisible = clockTime.getTime() < 4000;\n\n\t// this is the only place where seconds are mishandled\n\tconst delayedSeconds = (clockTime.getTime() / 1000) - delayInSeconds;\n\tif (isGameActive && mode === 0) {\n\t\tminutes = delayedSeconds < 4 ? \"0\" : new Date(clockTime.getTime() - delayInSeconds*1000).getMinutes();\n\t\tseconds = delayedSeconds % 60;\n\t\tformattedSeconds = seconds < 0 ? \"00\" : seconds < 10 ? \"0\" + seconds : seconds;\n\t} else if (isGameActive && mode === 1) {\n\t\tconst checkedSeconds = delayedSeconds < 0 ? 0 : delayedSeconds;\n\t\tconst coundownTime = new Date((difficulty*60 + 180 - checkedSeconds) * 1000);\n\t\tminutes = coundownTime.getMinutes();\n\t\tseconds = coundownTime.getSeconds();\n\t\tformattedSeconds = seconds < 0 ? \"00\" : seconds < 10 ? \"0\" + seconds : seconds;\n\t\t//console.log(\"fuck this shit\", coundownTime, minutes, seconds);\n\n\t} else {\n\t\tminutes = clockTime.getMinutes();\n\t\tseconds = currentSeconds;\n\t\tformattedSeconds = seconds < 10 ? \"0\" + seconds : seconds;\n\t}\n\n\t// start countdown on game start\n\tconst gameStartCountdownTime = (delayedSeconds < 0) ? (-delayedSeconds) : \"\";\n\treturn(\n\t\t<>\n\t\t<Navbar onMouseMove={onMouseMove} dark className={`main__navbar ${!isNavbarVisible && \"hidden\"} d-inline-flex justify-content-between`} >\n\t\t\t<Navbar dark className=\"col-6 main__navbar__left d-inline-flex justify-content-between\" expand=\"sm\">\n\t\t\t\t<NavbarToggler onClick={toggleNavbarItemsExpand} />\n\t\t\t\t<Collapse isOpen={isNavbarExpanded} navbar>\n\t\t\t\t<Nav className=\"navbar__nav left\" navbar>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" onClick={toggleSimulationDialog}>Simulate</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink data=\"game\" className=\"navbar__nav__link\" onClick={toggleGameDialog}>Play game</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink data=\"game\" className=\"navbar__nav__link\" >Stay Safe</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" onClick={toggleShareDialog}>Share</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" >About</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block disabled stick\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" onClick={toggleNavbarVisibility}>Hide</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem className=\"navbar__nav__link caption\">\n\t\t\t\t\t\t<div className=\"bold\">ViralBalls</div>\n\t\t\t\t\t\t<div className=\"ordinary\">{isGameActive ? \"Game\" : \"Simulator\"}</div>\n\t\t\t\t\t</NavItem>\n\t\t\t\t</Nav>\n\t\t\t\t</Collapse>\n\t\t\t</Navbar>\n\t\t\t<Navbar dark className=\"col-6 main__navbar__right d-inline-flex justify-content-end\" >\n\t\t\t\t<Nav className=\"navbar__nav right\" navbar>\n\t\t\t\t\t<NavItem className=\"d-inline-flex justify-content-between\">\n\t\t\t\t\t\t<NavbarText className=\"countdown-link\">Stay safe. For more visit&nbsp;</NavbarText>\n\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\tclassName=\"countdown-link\"\n\t\t\t\t\t\t\thref=\"https://www.countdownkings.com/\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"nooperner noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCountdownKings.com\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem className={`stats ${!isNavbarVisible ? \"drop\" : \"\"}`}>\n\t\t\t\t\t\t<NavbarText className=\"stats__infected\">{showStats ? `Infected: ${contagious}` : \"\"}</NavbarText>\n\t\t\t\t\t\t<NavbarText className=\"stats__healthy\">{showStats ? `Healthy: ${healthy}` : \"\"}</NavbarText>\n\t\t\t\t\t\t<NavbarText className=\"stats__timer\">{showTime ? `${minutes}:${formattedSeconds}` : \"\"}</NavbarText>\n\t\t\t\t\t</NavItem>\n\t\t\t\t</Nav>\n\t\t\t</Navbar>\n\t\t\t<div className={`game-start-countdown ${isGameActive && !gamePaused && shouldCountdownBeVisible ? \"visible\" : \"\"}`}>{gameStartCountdownTime}</div>\n\t\t</Navbar>\n\t\t<Button\n\t\t\t\tclassName={`main__navbar__toggler ${isNavbarVisible && \"hidden\"}`}\n\t\t\t\tonClick={toggleNavbarVisibility}\n\t\t\t\tdisabled={isNavbarVisible}\n\t\t\t\t>\n\t\t\t\t\t<img src=\"dropdown-arrow.svg\" alt=\"hide/unhide navbar\"></img>\n\t\t</Button>\n\t</>\n\t);\n};","import React from \"react\";   \nimport { Button, Row, Modal, ModalHeader, ModalBody, ModalFooter, \n\t\tContainer, NavLink } from \"reactstrap\";\n\nimport \"./shareDialog.scss\";\n\nexport const ShareDialog = props => {\n\tconst { isOpen, toggle, copy, isCopied } = props;\n   \treturn (\n\t\t<Modal key=\"sharemodal\" isOpen={isOpen} toggle={toggle} centered={true} className=\"share-modal\">\n\t\t\t<ModalHeader charCode=\"X\" toggle={toggle}>\n\t\t\t</ModalHeader>\n\t\t\t<ModalBody className=\"justify-content-center\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Container className=\"share\">\n\t\t\t\t\t\tShare with your friends\n\t\t\t\t\t</Container>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\thttps://www.covidsimulator.com\n\t\t\t\t\t</Container>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t{ isCopied ?\n\t\t\t\t\t\t\t<div className=\"copied__link\">Link copied <span role=\"img\" aria-label=\"smiley face\">&#128515;</span></div> \n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Button onClick={copy} >Copy link</Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Container>\n\t\t\t\t</Row>\n\t\t\t</ModalBody>\n\t\t\t<ModalFooter>\n\t\t\t\t<Container  className=\"col-12 d-inline-flex justify-content-center\">\n\t\t\t\t\tFor more visit&nbsp;\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tclassName=\"footer__link\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\t\t\t\t\t\t\t\n\t\t\t\t\t\thref=\"https://www.viralballs.com\">\n\t\t\t\t\t\t\tCountdownKings.com\n\t\t\t\t\t</NavLink>\n\t\t\t\t</Container>\n\t\t\t</ModalFooter>\n\t\t</Modal>\n   );\n};\n","export const modeOptions = [\n\t{ type: \"Open Time\", value: 0 },\n\t\"|\",\n\t{ type: \"Time Challenge\", value: 1 }\n];\nexport const difficultyOptions = [\n\t{ type: \"Easy\", value: 0 },\n\t\"|\",\n\t{ type: \"Medium\", value: 1 },\n\t\"|\",\n\t{ type: \"Hard\", value: 2 },\n];\nexport const sizeOptions = [\n\t{ type: \"Small\", value: 5 },\n\t\"|\",\n\t{ type: \"Medium\", value: 8 },\n\t\"|\",\n\t{ type: \"Large\", value: 10 },\n];\n// depend on size and difficulty: easy: 0, medium: 1, hard: 2\nexport const quantityValues = {\n\t\"5\": [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 700, \"|\", 800, \"|\", 1000 ],\n\t8: [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 600, \"|\", 700, \"|\", 800 ],\n\t\"10\": [  50, \"|\", 100,\"|\", 150, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 600 ]\n};\nexport const quantityDiffVals = {\n\t0: {\n\t\t\"5\": { min: 100, max: 1000},\n\t\t8: { min: 100, max: 800},\n\t\t\"10\": { min: 50, max: 600},\n\t},\n\t1: {\n\t\t\"5\": { min: 300, max: 1000},\n\t\t8: { min: 300, max: 800},\n\t\t\"10\": { min: 150, max: 600},\n\t},\n\t2: {\n\t\t\"5\": { min: 700, max: 1000},\n\t\t8: { min: 600, max: 800},\n\t\t\"10\": { min: 300, max: 600},}\n}\n// depends on difficulty\nexport const speedOptions = [\n\t{ type: \"Slow\", value: 0.3, difficulty: 0 },\n\t\"|\",\n\t{ type: \"Medium\", value: .6, difficulty: 1 },\n\t\"|\",\n\t{ type: \"Fast\", value: 1, difficulty: 2 }\n];\n\nexport const speedDiffValues = {\n\t0: .3,\n\t1: .6,\n\t2: 1\n}\n","import React from \"react\";   \nimport { Row, Modal, ModalHeader, ModalBody, ModalFooter, \n\t\tContainer, Nav, NavLink } from \"reactstrap\";\n\nimport { modeOptions, difficultyOptions, sizeOptions, quantityValues, quantityDiffVals, speedOptions, speedDiffValues } from \"./gameOptions\";\nimport \"./gameDialog.scss\";\n\nexport class GameDialog extends React.Component {\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t// starightforward - in case simulation is active, this component should not update\n\t\tif (!nextProps.isGameActive) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.props.isOpen !== nextProps.isOpen || this.props.buttonText !== nextProps.buttonText) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.props.settings[\"mode\"] !== nextProps.settings[\"mode\"] ||\n\t\t\tthis.props.settings[\"difficulty\"] !== nextProps.settings[\"difficulty\"] ||\n\t\t\tthis.props.settings[\"size\"] !== nextProps.settings[\"size\"] ||\n\t\t\tthis.props.settings[\"quantity\"] !== nextProps.settings[\"quantity\"] ||\n\t\t\tthis.props.settings[\"speed\"] !== nextProps.settings[\"speed\"]\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t// in case simulation is active, this component should not trigger update\n\t\tif (!this.props.isGameActive) {\n\t\t\treturn false;\n\t\t}\n\t\tconst minQuantity = (quantityDiffVals[this.props.settings.difficulty][this.props.settings.size] || { min: 0 }).min;\n\t\tconst maxQuantity = (quantityDiffVals[this.props.settings.difficulty][this.props.settings.size] || { max: 1000 }).max;\n\t\tconst changedSpeed = speedDiffValues[this.props.settings.difficulty];\n\t\t// if quantity is greater or smaller than it should be according to size\n\t\tif (this.props.settings.quantity > maxQuantity ) {\n\t\t\treturn this.props.setGameSettings({ quantity: maxQuantity, speed: changedSpeed });\n\t\t}\n\t\tif (this.props.settings.quantity < minQuantity ) {\t\t\t\n\t\t\treturn this.props.setGameSettings({ quantity: minQuantity, speed: changedSpeed });\n\t\t}\n\t\t// if min, max values are not a problem, then set speed\n\t\tif (this.props.settings.speed !== changedSpeed) {\n\t\t\treturn this.props.setGameSettings({ speed: changedSpeed });\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst { isOpen, toggle, startGame, buttonText, setGameSettings, \n\t\t\t\t\tsettings: { mode, difficulty, size, quantity, speed } } = this.props;\n\t\t\n\t\treturn (\t\t\n\t\t\t<Modal key=\"game\" zIndex={isOpen ? 1000: -1} isOpen={isOpen} toggle={toggle} centered={true} fade={true} className=\"game-modal\">\n\t\t\t\t<ModalHeader charCode=\"X\" toggle={toggle}>GAME SETTINGS</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Game mode</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{modeOptions.map((modeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof modeOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{modeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({ mode: modeOption.value })}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={modeOption.value === mode}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{modeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Difficulty level</div>\n\t\t\t\t\t\t\t<div className=\"choice__header__sub\">Affects infection rate and quarantine.</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{difficultyOptions.map((difficultyOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (difficultyOption === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{difficultyOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\ttitle={difficultyOption.value === 0 ? \"33% infection rate\" : difficultyOption.value === 1 ? \"50% infection rate\" : \"100% infection rate\"}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({ difficulty: difficultyOption.value })}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={difficultyOption.value === difficulty}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{difficultyOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\t\t\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Size of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{sizeOptions.map((sizeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof sizeOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{sizeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn\t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({size: sizeOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={sizeOption.value === size}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sizeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Number of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{quantityValues[size].map((quantityValue, idx) => {\n\t\t\t\t\t\t\t\t\tif (quantityValue === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{quantityValue}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// if quantity is outside of min / max values\n\t\t\t\t\t\t\t\t\tif ((quantityDiffVals[difficulty][size] && (quantityValue < quantityDiffVals[difficulty][size].min)) ||\n\t\t\t\t\t\t\t\t\t\t(quantityDiffVals[difficulty][size] && (quantityValue > quantityDiffVals[difficulty][size].max))\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink disabled={true} key={idx}>{quantityValue}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({quantity: quantityValue})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={quantityValue === quantity}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{quantityValue}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div className=\"choice__header\">Speed of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{speedOptions.map((speedOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof speedOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{speedOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (speedOption.difficulty !== difficulty ) {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{speedOption.type}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn\t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({speed: speedOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setGameSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={speedOption.value === speed}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{speedOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter onClick={startGame} className=\"game-modal__footer\">\n\t\t\t\t\t&gt;&gt;&gt;&nbsp;&nbsp; {buttonText} &nbsp;&nbsp;&lt;&lt;&lt;\n\t\t\t\t</ModalFooter>\n\t\t</Modal>\n\t)};\n};\n","import React from \"react\";   \nimport { Button } from \"reactstrap\";\n\nimport \"./quarantineButtons.scss\";\n\nexport class QuarantineButtons extends React.Component {\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tif (nextProps.quarantineButtonsActive !== this.props.quarantineButtonsActive) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\t// TODO: all logic for button handling!\n\n\trender() {\n\t\tconst { quarantineButtonsActive, setQuarantineInMotion } = this.props;\n\t\t\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={setQuarantineInMotion}\n\t\t\t\t\tclassName={`btn quarantine__btn quarantine__btn--left-top ${!quarantineButtonsActive && \"disabled\"}`}>\n\t\t\t\t\t\tQuarantine\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={setQuarantineInMotion}\n\t\t\t\t\tclassName={`btn quarantine__btn quarantine__btn--left-bottom ${!quarantineButtonsActive && \"disabled\"}`}>\n\t\t\t\t\t\tQuarantine\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={setQuarantineInMotion}\n\t\t\t\t\tclassName={`btn quarantine__btn quarantine__btn--right-top ${!quarantineButtonsActive && \"disabled\"}`}>\n\t\t\t\t\t\tQuarantine\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={setQuarantineInMotion}\n\t\t\t\t\tclassName={`btn quarantine__btn quarantine__btn--right-bottom ${!quarantineButtonsActive && \"disabled\"}`}>\n\t\t\t\t\t\tQuarantine\n\t\t\t\t</Button>\n\t\t\t</>\n\t\t);\n\t}\n}","\nimport sound from \"../../assets/gameStart.mp3\";\n\n\n\nexport const gameSettings = {\n\taudioStart: false,\n\tisGameActive: false,\n\tgamePaused: true,\n\tgameStopped: true,\n\t// modals - popups\n\tgameSettingsOpen: false,\n\t// GAME\n\t// quarantine settings\n\tquarantineButtonsActive: false,\n\tquarantinePlaced: false,\n\tavailableQuarantines: [],\n\tquarantineBeingDragged: false,\n\tquarantineOverlapping: false,\n\tquarantineCancelled: false,\n\tdraggedQuarantine: {\n\t\tid: -1,\n\t\tx: 0,\n\t\ty: 0,\n\t\tsize: 250\n\t},\n\t// game settings\n\tgameSettings: {\n\t\tmode: 0,\n\t\tdifficulty: 1,\n\t\tsize: 8,\n\t\tquantity: 300,\n\t\tspeed: 0.6,\n\t\tdelayInSeconds: 3,\n\t\tnrOfQuarantines: 5 // max 5\n\t}\n}\nexport const resetSettings = {\n\tquarantineBeingDragged: false,\n\tquarantineOverlapping: false,\n\tquarantineButtonsActive: true, // change this setting\n\tquarantinePlaced: false,\n\tgameSettingsOpen: false,\n\tgamePaused: false,\n\tgameStopped: false,\n\tquarantineCancelled: false,\n\tdraggedQuarantine: {\n\t\tid: -1,\n\t\tx: 0,\n\t\ty: 0,\n\t\tsize: 250\n\t},\n}\nexport function onContextMenuHideQuarantine(e) {\n\te.preventDefault();\n\tif (this.state.quarantineBeingDragged) {\n\t\tthis.setState(prevState => {\n\t\t\treturn {\n\t\t\t\tquarantineCancelled: true,\n\t\t\t\tquarantineBeingDragged: false\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function onWheelScroll(e) {\n\tconst deltaY = e.deltaY;\n\tif (this.state.quarantineBeingDragged) {\n\t\tif (deltaY > 0) {\n\t\t\tthis.setState(prevState => {\n\t\t\t\treturn {\n\t\t\t\t\tdraggedQuarantine: {\n\t\t\t\t\t\t...prevState.draggedQuarantine,\n\t\t\t\t\t\tsize: prevState.draggedQuarantine[\"size\"] + 30\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t } else {\n\t\t\tthis.setState(prevState => {\n\t\t\t\treturn {\n\t\t\t\t\tdraggedQuarantine: {\n\t\t\t\t\t\t...prevState.draggedQuarantine,\n\t\t\t\t\t\tsize: prevState.draggedQuarantine[\"size\"] -30\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\nexport function onMouseMove(e) {\n\tif (this.state.quarantineButtonsActive) {\n\t\tconst pageX = e.pageX;\n\t\tconst pageY = e.pageY;\n\t\tthis.setState(prevstate => {\n\t\t\treturn { draggedQuarantine: {...prevstate.draggedQuarantine, x: pageX , y: pageY} }\n\t\t});\n\t}\n}\n// GAME\nexport function stopStartGame() {\n\tif (this.state.gamePaused && !this.state.gameStopped) { // CONTINUE\n\t\tthis.toggleGameDialog();\n\t} else {\t\t\t\t\t\t\t\t// START\n\t\tthis.stop();\n\t\tthis.startGame(true);\n\t\tthis.setState(prevState => {\t\t\n\t\t\treturn {\n\t\t\t\tisGameActive: true,\n\t\t\t\tclockTime: new Date(0),\n\t\t\t\tstartButtonText: \"CONTINUE GAME\",\n\t\t\t\thealthy: prevState.gameSettings[\"quantity\"] - 1,\n\t\t\t\tcontagious: 1,\n\t\t\t\t...resetSettings\n\t\t\t}\n\t\t});\n\t\tsetTimeout(() => {\n\t\t\tconst audio = new Audio(sound);\n\t\t\taudio.play();\n\t\t}, 3000);\n\t}\n}\n\n// TODO: not so simple\nexport function gameRestart() {\n\tthis.stop();\n\tthis.startGame(true);\n\tthis.setState(prevState => ({\n\t\tclockTime: new Date(0),\n\t\tstartButtonText: \"CONTINUE SIMULATION\",\n\t\thealthy: prevState.gameSettings[\"quantity\"] - 1,\n\t\tcontagious: 1,\n\t\t...resetSettings\n\t}));\n\tsetTimeout(() => {\n\t\tconst audio = new Audio(sound);\n\t\taudio.play();\n\t}, 3000);\n}\nexport function setGameSettings(e) {\n\tlet targetData, parsedData;\n\t// triggered on event\n\tif (e.currentTarget) {\n\t\ttargetData = e.currentTarget.getAttribute(\"data-option\");\n\t\tparsedData = JSON.parse(targetData) || {};\n\t} else {\n\t\t// triggered directly from dialog\n\t\tparsedData = e;\n\t}\n\tconst newGameSettings = {...this.state.gameSettings, ...parsedData};\n\tthis.setState(prevState => {\n\t\tthis.stop();\n\t\tthis.startGame(false, newGameSettings);\t\n\t\t// reset settings as you would at game start\n\t\treturn ({\n\t\t\tisGameActive: true,\n\t\t\tclockTime: new Date(0),\n\t\t\tgameSettings: newGameSettings,\n\t\t\thealthy: newGameSettings[\"quantity\"] - 1,\n\t\t\tcontagious: 1,\n\t\t\tstartButtonText: \"START GAME\",\n\t\t\t...resetSettings,\n\t\t\t// override reset settings after this\n\t\t\tgameSettingsOpen: true,\n\t\t\tgameStopped: true,\n\t\t\tgamePaused: true,\n\t\t});\n\t});\n}\nexport function resetDraggedQuarantineId() {\n\tthis.setState({\n\t\tdraggedQuarantine: {...resetSettings.draggedQuarantine}\n\t});\n}\nexport function setQuarantineInMotion(e) {\n\tconst pageX = e.pageX;\n\tconst pageY = e.pageY;\n\t// pop first value from available quarantines\n\tthis.setState(prevState => {\n\t\treturn {\n\t\t\tdraggedQuarantine: {\n\t\t\t\tid: prevState.availableQuarantines.slice(0,1)[0] || -1,\n\t\t\t\tx: pageX,\n\t\t\t\ty: pageY,\n\t\t\t\tsize: prevState.draggedQuarantine.size\n\t\t\t},\n\t\t\tquarantineBeingDragged: true,\n\t\t\tquarantineButtonsActive: true,\n\t\t\tquarantinePlaced: false,\n\t\t\tavailableQuarantines: prevState.availableQuarantines.slice(1)\n\t\t};\n\t});\n}\nexport function setQuarantineNonactive(id) {\n\tthis.setState(prevState => {\n\t\tconst index = prevState.availableQuarantines.indexOf(id);\n\t\t// index about to be inactive shouldn't be in available quarantines array - so leave it be if you find it\n\t\tif (index > -1) {\n\t\t\treturn {\n\t\t\t\tavailableQuarantines: prevState.availableQuarantines,\n\t\t\t\tquarantineCancelled: false,\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tavailableQuarantines: prevState.availableQuarantines.concat(id),\n\t\t\t\tquarantineCancelled: false,\n\t\t\t};\n\t\t}\n\t});\n}\nexport function toggleGamePause() {\n\treturn this.state.gamePaused && !this.state.gameStopped ? this.unpause() : this.pause();\n}\nexport function toggleGameDialog() {\n\tif (this.state.isSimulationActive) {\n\t\tthis.stop();\n\t\tthis.startGame(false);\n\t\t// only when clicking on navbar link -> stop simulation and show game dialog\n\t\tthis.setState(prevState => {\n\t\t\treturn ({\n\t\t\t\tgameSettingsOpen: true,\n\t\t\t\tgamePaused: true,\n\t\t\t\tstartButtonText: \"START GAME\",\n\t\t\t\tisSimulationActive: false,\n\t\t\t\tisGameActive: true,\n\t\t\t\tsimulationPaused: true,\n\t\t\t\tsimulationStopped: true\n\t\t\t})\n\t\t});\n\t} else {\n\t\tthis.toggleGamePause();\n\t\tthis.setState(prevState => {\n\t\t\treturn ({\n\t\t\t\tgameSettingsOpen: !prevState.gameSettingsOpen,\n\t\t\t\tgamePaused: !prevState.gamePaused,\n\t\t\t\tstartButtonText: prevState.gameStopped ? \"START GAME\" : \"CONTINUE GAME\",\n\t\t\t\tisSimulationActive: false,\n\t\t\t\tisGameActive: true,\n\t\t\t\tsimulationPaused: true,\n\t\t\t\tsimulationStopped: true\n\t\t\t})\n\t\t});\n\t}\n}","import { resetSettings as gameResetSettings } from \"../game/gameState\";\n\nexport const simulationSettings = {\n\tisSimulationActive: true,\n\t// canvas state\n\tsimulationRestarting: false,\n\tsimulationPaused: false,\n\tsimulationStopped: false,\n\t// modals - popups\n\tsimulationSettingsOpen: false,\n\t// SETTINGS\n\tsimulationSettings: {\n\t\tsize: 5,\n\t\tspeed: .6,\n\t\tquantity: 300,\n\t\tdeactivateAfter: 0,\n\t\tshowTime: true,\n\t\tshowStats: true,\n\t\tautorestart: true\n\t}\n}\nexport function toggleSimulationPause() {\n\treturn this.state.simulationPaused && !this.state.simulationStopped ? this.unpause() : this.pause();\n}\nexport function stopStartSimulation() {\n\tif (this.state.simulationPaused && !this.state.simulationStopped) { // CONTINUE\n\t\tthis.toggleSimulationDialog();\n\t} else { \t\t\t\n\t\tthis.stop();\t\t\t\t\t\t// START\n\t\tthis.startSimulation(true);\n\t\tthis.setState(prevState => ({ \n\t\t\tclockTime: new Date(0), \n\t\t\tsimulationStopped: false, \n\t\t\tsimulationPaused: false, \n\t\t\tstartButtonText: \"CONTINUE SIMULATION\", \n\t\t\tsimulationSettingsOpen: false, \n\t\t\thealthy: prevState.simulationSettings[\"quantity\"] - 1, contagious: 1,\n\t\t\t// reset game settings\n\t\t\t...gameResetSettings,\n\t\t\tisGameActive: false, \n\t\t\tgamePaused: true, \n\t\t\tgameStopped: true,\n\t\t\tquarantineButtonsActive: false, // only for testing purposes\n\t\t\tavailableQuarantines: []\n\t\t}));\n\t}\n}\nexport function simulationRestart() {\n\t// fade out-in effect\n\tthis.setState({ simulationRestarting: true });\n\tsetTimeout(() => this.setState({ simulationRestarting: false }), 1200);\n\tsetTimeout(() => { \n\t\tthis.stop();\n\t\tthis.startSimulation(true);\n\t\tthis.setState(prevState => ({ \n\t\t\tclockTime: new Date(0),\n\t\t\tsimulationStopped: false, \n\t\t\tsimulationPaused: false, \n\t\t\tstartButtonText: \"CONTINUE SIMULATION\", \n\t\t\tsimulationSettingsOpen: false,\n\t\t\thealthy: prevState.simulationSettings[\"quantity\"] - 1, \n\t\t\tcontagious: 1\n\t\t}));\n\t}, 600);\n\n}\nexport function setSimulationSettings(e) {\n\tlet targetData, parsedData;\n\t// triggered on event\n\tif (e.currentTarget) {\t\t\t\n\t\ttargetData = e.currentTarget.getAttribute(\"data-option\");\n\t\tparsedData = JSON.parse(targetData) || {};\n\t} else {\n\t\t// triggered directly from dialog\n\t\tparsedData = e;\n\t}\n\tthis.setState(prevState => {\n\t\tconst newSimulationSettings = {...prevState.simulationSettings, ...parsedData};\t\t\t\n\t\t// only reset simulation for size and quantity - for preview\n\t\tif (parsedData[\"size\"] || parsedData[\"quantity\"] || parsedData[\"speed\"]) {\n\t\t\tthis.stop();\n\t\t\tthis.startSimulation(false, newSimulationSettings);\n\t\t\treturn ({ simulationSettings: newSimulationSettings, clockTime: new Date(0), healthy: newSimulationSettings[\"quantity\"] - 1, \n\t\t\t\t\tcontagious: 1, simulationStopped: true, simulationPaused: true, startButtonText: \"START SIMULATION\" });\n\t\t}\n\t\treturn ({ simulationSettings: newSimulationSettings });\n\t}); \n}\n\nexport function toggleSimulationDialog() {\n\tif (this.state.isGameActive) {\n\t\tthis.stop();\n\t\tthis.startSimulation(false);\n\t\t// only when clicking on navbar link -> stop game and show simulation dialog\n\t\tthis.setState(prevState => {\n\t\t\treturn ({ \n\t\t\t\tsimulationSettingsOpen: true, \n\t\t\t\tsimulationPaused: true, \n\t\t\t\tstartButtonText: \"START SIMULATION\",\n\t\t\t\tquarantineButtonsActive: false,\n\t\t\t\tisSimulationActive: true, \n\t\t\t\tisGameActive: false, \n\t\t\t\tgamePaused: true, \n\t\t\t\tgameStopped: true \n\t\t\t})\n\t\t});\n\t} else {\n\t\t// in all other cases toggle\n\t\tthis.toggleSimulationPause();\n\t\tthis.setState(prevState => {\n\t\t\treturn ({ \n\t\t\t\tsimulationSettingsOpen: !prevState.simulationSettingsOpen, \n\t\t\t\tsimulationPaused: !prevState.simulationPaused, \n\t\t\t\tstartButtonText: prevState.simulationStopped ? \"START SIMULATION\" : \"CONTINUE SIMULATION\", \n\t\t\t\tisSimulationActive: true, \n\t\t\t\tisGameActive: false, \n\t\t\t\tgamePaused: true, \n\t\t\t\tgameStopped: true \n\t\t\t})\n\t\t});\n\t}\n}","import React from \"react\";\nimport { clearDriftless, setDriftlessInterval } from 'driftless';\n\nimport { startSimulation, startGame, stop, pause, unPause } from \"./helpers/actions\";\nimport { SimulationDialog, NavBar, ShareDialog, GameDialog, QuarantineButtons } from \"./components\";\nimport { simulationSettings, stopStartSimulation, simulationRestart, setSimulationSettings,\n\ttoggleSimulationPause, toggleSimulationDialog } from \"./helpers/simulation/simulationState\";\nimport { gameSettings, setGameSettings, onMouseMove, stopStartGame, gameRestart, onWheelScroll, onContextMenuHideQuarantine,\n\tsetQuarantineInMotion, setQuarantineNonactive, toggleGamePause, toggleGameDialog, resetDraggedQuarantineId } from \"./helpers/game/gameState\";\n\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport \"./main.scss\";\n\nexport default class HomePage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.autostart = true;\n\t\tthis.simulationApp = null;\n\t\tthis.gameApp = null;\n\n\t\tthis.state = {\n\t\t\t...simulationSettings,\n\t\t\t...gameSettings,\n\t\t\thasError: false,\n\t\t\terror: null,\n\t\t\t// time\n\t\t\tcurrentTime: new Date().getTime(),\n\t\t\tclockTime: new Date(0),\n\t\t\t// canvas state\n\t\t\tcontagious: 1,\n\t\t\thealthy: 199,\n\t\t\t// nav & buttons\n\t\t\tstartButtonText: \"CONTINUE SIMULATION\",\n\t\t\tisCopied: false,\n\t\t\tisNavbarExpanded: false,\n\t\t\tisNavbarVisible: true,\n\t\t\t// modals - popups\n\t\t\tshareModalOpen: false\n\t\t}\n\n\t\tthis.interval = null;\n\t\tthis.canvasWidth = window.innerWidth < 800 ? 800 : window.innerWidth;\n\t\tthis.canvasHeight = window.innerHeight < 600 ? 600 : window.innerHeight;\n\n\t\tthis.stop = stop.bind(this);\n\t\tthis.startSimulation = startSimulation.bind(this);\n\t\tthis.startGame = startGame.bind(this);\n\t\tthis.pause = pause.bind(this);\n\t\tthis.unpause = unPause.bind(this);\n\n\t\tthis.toggleDialog = this.toggleDialog.bind(this);\n\t\tthis.onMouseMove = onMouseMove.bind(this);\n\t\tthis.toggleSimulationPause = toggleSimulationPause.bind(this);\n\t\tthis.toggleGamePause = toggleGamePause.bind(this);\n\t\tthis.intervalTime = this.intervalTime.bind(this);\n\t\tthis.handleResize = this.handleResize.bind(this);\n\t\tthis.handleBlur = this.handleBlur.bind(this);\n\t\tthis.handleRefocus = this.handleRefocus.bind(this);\n\t\tthis.copyToClipboard = this.copyToClipboard.bind(this);\n\t\t// GAME\n\t\tthis.gameRestart = gameRestart.bind(this);\n\t\tthis.stopStartGame = stopStartGame.bind(this);\n\t\tthis.onWheelScroll = onWheelScroll.bind(this);\n\t\tthis.setGameSettings = setGameSettings.bind(this);\n\t\tthis.toggleGameDialog = toggleGameDialog.bind(this);\n\t\tthis.setQuarantineInMotion = setQuarantineInMotion.bind(this);\n\t\tthis.setQuarantineNonactive = setQuarantineNonactive.bind(this);\n\t\tthis.resetDraggedQuarantineId = resetDraggedQuarantineId.bind(this);\n\t\tthis.onContextMenuHideQuarantine = onContextMenuHideQuarantine.bind(this);\n\t\t// SIMULATION\n\t\tthis.simulationRestart= simulationRestart.bind(this);\n\t\tthis.toggleShareDialog = this.toggleShareDialog.bind(this);\n\t\tthis.stopStartSimulation = stopStartSimulation.bind(this);\n\t\tthis.setSimulationSettings = setSimulationSettings.bind(this);\n\t\tthis.toggleSimulationDialog = toggleSimulationDialog.bind(this);\n\t\tthis.toggleNavbarVisibility = this.toggleNavbarVisibility.bind(this);\n\t\tthis.toggleNavbarItemsExpand = this.toggleNavbarItemsExpand.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tthis.startSimulation(true);\n\t\twindow.addEventListener('resize', this.handleResize);\n\t\t// window.addEventListener(\"blur\", this.handleBlur);\n\t\t// window.addEventListener(\"focus\", this.handleRefocus);\n\t\tthis.interval = setDriftlessInterval(this.intervalTime, 1000);\n\t}\n\tcomponentDidCatch(error, errorInfo) {\n\t\t// logErrorToMyService(error, errorInfo);\n\t}\n\tstatic getDerivedStateFromError(error) {\n\t\t// Update state so the next render will show the fallback UI.\n\t\treturn { hasError: true };\n\t}\n\tcomponentWillUnmount() {\n\t\tclearDriftless(this.interval);\n\t\tthis.simulationApp && this.simulationApp.destroy(true);\n\t\tthis.gameApp && this.gameApp.destroy(true);\n\t}\n\tintervalTime() {\n\t\tthis.setState(prevState => {\n\t\t\t// in case of simulation /game either stopped or paused\n\t\t\tif ((this.state.isSimulationActive && (this.state.simulationPaused || this.state.simulationStopped)) ||\n\t\t\t\t(this.state.isGameActive && (this.state.gamePaused || this.state.gameStopped))\n\t\t\t) {\n\t\t\t\t// stop calculating currentTime because of deactivate time\n\t\t\t\treturn ({ currentTime: prevState.currentTime })\n\t\t\t}\n\t\t\t// if simulation / game is not paused, calculate start time a new\n\t\t\treturn ({ currentTime: new Date().getTime(), clockTime: new Date(prevState.clockTime.getTime() + 1000) })\n\t\t});\n\t}\n\thandleBlur() {\n\t\tif (this.state.isGameActive && !this.state.gamePaused) {\n\t\t\tthis.toggleDialog();\n\t\t}\n\t}\n\thandleRefocus() {\n\t\tif (this.state.isGameActive && this.state.gamePaused) {\n\t\t\tthis.toggleDialog();\n\t\t}\n\t}\n\thandleResize(e) {\n\t\tthis.canvasWidth = window.innerWidth < this.canvasWidth ? this.canvasWidth : window.innerWidth;\n\t\tthis.canvasHeight = window.innerHeight < this.canvasHeight ? this.canvasHeight : window.innerHeight;\n\t}\n\n\ttoggleDialog(e) {\n\t\tconst target = e && e.currentTarget || null;\n\t\t// on simulation -> show dialog\n\t\tif (this.state.isSimulationActive) {\n\t\t\tthis.toggleSimulationDialog();\n\t\t// on quarantineButtonsActive -> should trigger quarantineDrop - user should have quarantine attached to cursor\n\t\t} else if (this.state.quarantineBeingDragged && !this.state.quarantinePlaced) {\n\t\t\t// overlap check - dont'l let the user lay quarantine down\n\t\t\tif (!this.state.quarantineOverlapping) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tquarantineBeingDragged: false,\n\t\t\t\t\tquarantineButtonsActive: true,\n\t\t\t\t\tquarantinePlaced: true,\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthis.toggleGameDialog();\n\t\t}\n\t}\n\ttoggleShareDialog(e) {\n\t\tif (this.state.isSimulationActive) {\n\t\t\tthis.toggleSimulationPause();\n\t\t\tthis.setState(prevState => ({ simulationPaused: !prevState.simulationPaused, shareModalOpen: !prevState.shareModalOpen }));\n\t\t} else {\n\t\t\tthis.toggleGamePause();\n\t\t\tthis.setState(prevState => ({ gamePaused: !prevState.gamePaused, shareModalOpen: !prevState.shareModalOpen }));\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ isCopied: false });\n\t\t}, 1000);\n\t}\n\ttoggleNavbarItemsExpand() {\n\t\tthis.setState(prevState => ({ isNavbarExpanded: !prevState.isNavbarExpanded}));\n\t}\n\ttoggleNavbarVisibility() {\n\t\tthis.setState(prevState => ({ isNavbarVisible: !prevState.isNavbarVisible}));\n\t}\n\tcopyToClipboard() {\n\t\tnavigator.permissions.query({name: \"clipboard-write\"})\n\t\t\t.then(result => {\n\t\t\t\tif (result.state === \"granted\" || result.state === \"prompt\") {\n\t\t\t\t\tnavigator.clipboard.writeText(\"https://www.covidsimulator.com\");\n\t\t\t\t\tthis.setState({ isCopied: true });\n\t\t\t\t}\n\t\t \t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<section className=\"main\">\n\t\t\t\t<NavBar\n\t\t\t\t\tcurrentTime={this.state.currentTime}\n\t\t\t\t\tclockTime={this.state.clockTime}\n\t\t\t\t\tonMouseMove={this.onMouseMove}\n\t\t\t\t\ttoggleNavbarItemsExpand={this.toggleNavbarItemsExpand}\n\t\t\t\t\ttoggleNavbarVisibility={this.toggleNavbarVisibility}\n\t\t\t\t\tisNavbarExpanded={this.state.isNavbarExpanded}\n\t\t\t\t\tisNavbarVisible={this.state.isNavbarVisible}\n\t\t\t\t\ttoggleSimulationDialog={this.toggleSimulationDialog}\n\t\t\t\t\ttoggleShareDialog={this.toggleShareDialog}\n\t\t\t\t\ttoggleGameDialog={this.toggleGameDialog}\n\t\t\t\t\tsimulationSettings={this.state.simulationSettings}\n\t\t\t\t\tgameSettings={this.state.gameSettings}\n\t\t\t\t\tisSimulationActive={this.state.isSimulationActive}\n\t\t\t\t\tisGameActive={this.state.isGameActive}\n\t\t\t\t\tgamePaused={this.state.gamePaused}\n\t\t\t\t\tcontagious={this.state.contagious}\n\t\t\t\t\thealthy={this.state.healthy}\n\t\t\t\t/>\n\t\t\t\t<SimulationDialog\n\t\t\t\t\tstartSimulation={this.stopStartSimulation}\n\t\t\t\t\tisSimulationActive={this.state.isSimulationActive}\n\t\t\t\t\tisOpen={this.state.simulationSettingsOpen}\n\t\t\t\t\ttoggle={this.toggleSimulationDialog}\n\t\t\t\t\tbuttonText={this.state.startButtonText}\n\t\t\t\t\tsettings={this.state.simulationSettings}\n\t\t\t\t\tsetSimulationSettings={this.setSimulationSettings}\n\t\t\t\t/>\n\t\t\t\t<GameDialog\n\t\t\t\t\tstartGame={this.stopStartGame}\n\t\t\t\t\tisOpen={this.state.gameSettingsOpen}\n\t\t\t\t\tisGameActive={this.state.isGameActive}\n\t\t\t\t\ttoggle={this.toggleGameDialog}\n\t\t\t\t\tbuttonText={this.state.startButtonText}\n\t\t\t\t\tsettings={this.state.gameSettings}\n\t\t\t\t\tsetGameSettings={this.setGameSettings}\n\t\t\t\t/>\n\t\t\t\t<ShareDialog\n\t\t\t\t\tisOpen={this.state.shareModalOpen}\n\t\t\t\t\ttoggle={this.toggleShareDialog}\n\t\t\t\t\tcopy={this.copyToClipboard}\n\t\t\t\t\tisCopied={this.state.isCopied}\n\t\t\t\t/>\n\t\t\t\t<QuarantineButtons\n\t\t\t\t\tquarantineButtonsActive={this.state.quarantineButtonsActive}\n\t\t\t\t\tsetQuarantineInMotion={this.setQuarantineInMotion}\n\t\t\t\t/>\n\t\t\t\t<article\n\t\t\t\t\tid=\"canvas-container\"\n\t\t\t\t\tonClick={this.toggleDialog}\n\t\t\t\t\tonMouseMove={this.onMouseMove}\n\t\t\t\t\tonWheel={this.onWheelScroll}\n\t\t\t\t\tonContextMenu={this.onContextMenuHideQuarantine}\n\t\t\t\t>\n\t\t\t\t</article>\n\t\t\t\t<article \n\t\t\t\t\tclassName={`simulator-fadein ${this.state.simulationRestarting ? \"visible\" : \"\"}`}\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t>\n\t\t\t\t</article>\n\t\t\t</section>\n\t\t);\n\t}\n}\n","import React from 'react';\n// import logo from './logo.svg';\nimport HomePage from \"./HomePage/main\";\n\nimport './App.scss';\n\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HomePage />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}