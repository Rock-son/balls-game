{"version":3,"sources":["logo.svg","HomePage/helpers/updateSprite.js","HomePage/helpers/start.js","HomePage/helpers/actions.js","HomePage/components/SimulationModal/modalOptions.js","HomePage/components/SimulationModal/SimulationDialog.js","HomePage/components/Navbar/Navbar.js","HomePage/components/ShareModal/ShareDialog.js","HomePage/main.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","updateSprite","sprite","spriteArr","distance","loader","x","radius","window","innerWidth","reactContext","canvasWidth","velocity","y","innerHeight","canvasHeight","state","simulationSettings","contagiousFrom","currentTime","contagion","texture","resources","sheet","textures","i","length","myID","otherSprite","healthy","simulationRestart","setState","prevState","contagious","Date","getTime","resolveCollision","rotate","angle","Math","cos","sin","particle","otherParticle","xVelocityDiff","yVelocityDiff","atan2","u1","u2","v1","v2","vFinal1","vFinal2","start","autostart","this","canvas","canvasRef","current","simulationApp","PIXI","backgroundColor","view","width","height","resolution","devicePixelRatio","autoDensity","sharedLoader","add","on","resource","console","log","progress","name","err","error","load","handleOnImageLoaded","bind","resize","renderer","addEventListener","randomIntNumber","min","max","floor","random","x1","y1","x2","y2","xDist","yDist","sqrt","pow","size","speed","quantity","deactivateAfter","autorestart","nrImages","maxWidth","maxHeight","whiteBall","redBall","j","anchor","push","len","index","stage","addChild","ticker","addOnce","pause","stop","unPause","destroy","stageOptions","children","sizeOptions","type","value","quantityOptions","3","6","9","speedOptions","deactivateOptions","booleanOptions","SimulationDialog","props","nextProps","nextState","isOpen","buttonText","settings","toggle","startSimulation","setSimulationSettings","showTime","showStats","Modal","key","centered","className","ModalHeader","charCode","ModalBody","Row","Container","Nav","map","sizeOption","idx","NavLink","tabIndex","data-option","JSON","stringify","onClick","active","quantityOption","speedOption","deactivateOption","timeOption","statOption","restartOption","ModalFooter","React","Component","NavBar","toggleNavbarItemsExpand","isNavbarExpanded","toggleNavbarVisibility","isNavbarVisible","toggleSimulationDialog","toggleShareDialog","startTime","seconds","getSeconds","formattedSeconds","Navbar","dark","Button","disabled","d","fill","strokeWidth","stroke","expand","NavbarToggler","Collapse","navbar","NavItem","data","NavbarText","href","target","rel","getMinutes","ShareDialog","copy","isCopied","shareModalTitle","HomePage","createRef","simulation","game","hasError","startButtonText","shareModalOpen","simulationSettingsOpen","interval","simulationStop","simulationStart","simulationPause","simulationUnPause","togglePause","intervalTime","handleResize","copyToClipboard","stopStartSimulation","setDriftlessInterval","errorInfo","clearDriftless","e","targetData","currentTarget","getAttribute","parsedData","parse","newSimulationSettings","isGame","setTimeout","navigator","permissions","query","then","result","clipboard","writeText","id","ref","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.df35946a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","\"use strict\";\n\nexport const updateSprite = (sprite, spriteArr, distance, loader) => {\t\n\t// X BOUNDARIES\n\tif ((sprite.x + sprite.radius) > (window.innerWidth < sprite.reactContext.canvasWidth ? sprite.reactContext.canvasWidth : window.innerWidth )) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\tif ((sprite.x - sprite.radius) < 0) {\n\t\tsprite.velocity.x = -sprite.velocity.x;\n\t}\n\t// Y BOUNDARIES\n\tif ((sprite.y + sprite.radius) > (window.innerHeight < sprite.reactContext.canvasHeight ? sprite.reactContext.canvasHeight : window.innerHeight)) { // resize only up\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\tif ((sprite.y - sprite.radius) < 0) {\n\t\tsprite.velocity.y = -sprite.velocity.y;\n\t}\n\t// CALCULATE DEACTIVATION TIME IF APPLIED\n\tif (sprite.reactContext.state.simulationSettings[\"deactivateAfter\"] > 0) {\n\t\tif (sprite.contagiousFrom && (sprite.reactContext.state.currentTime - sprite.contagiousFrom > sprite.reactContext.state.simulationSettings[\"deactivateAfter\"])) {\n\t\t\tsprite.contagion = 0;\n\t\t\tsprite.contagiousFrom = 0;\n\t\t\tsprite.texture = loader.resources.sheet.textures[\"ball-white.png\"];\n\t\t}\n\t}\n\t// CALCULATE COLLISION DETECTION TO ALL OTHER IMAGES\n\tfor (let i = 0; i < spriteArr.length; i++) {\n\t\tif (sprite.myID === spriteArr[i].myID) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ((distance(sprite.x, sprite.y, spriteArr[i].x, spriteArr[i].y) - (sprite.radius * 2)) < 0) {\t\t\t\n\t\t\tconst otherSprite = spriteArr[i];\n\t\t\tif (otherSprite.contagion && !sprite.contagion) {\t\t\t\t\n\t\t\t\tsprite.reactContext.state.simulationSettings[\"autorestart\"] && sprite.reactContext.state.healthy === 1 && sprite.reactContext.simulationRestart();\t// ON AUTORESTART=TRUE\n\t\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious + 1, healthy: prevState.healthy - 1 }));\n\t\t\t\tsprite.contagion = 1;\n\t\t\t\tsprite.contagiousFrom = new Date().getTime();\n\t\t\t\tsprite.texture = loader.resources.sheet.textures[\"ball-red.png\"];\n\t\t\t} else if (sprite.contagion && !otherSprite.contagion) {\n\t\t\t\tsprite.reactContext.state.simulationSettings[\"autorestart\"] && sprite.reactContext.state.healthy === 1 && sprite.reactContext.simulationRestart(); // ON AUTORESTART=TRUE\n\t\t\t\tsprite.reactContext.setState(prevState => ({ contagious: prevState.contagious + 1, healthy: prevState.healthy - 1 }));\n\t\t\t\totherSprite.contagion = 1;\n\t\t\t\totherSprite.contagiousFrom = new Date().getTime();;\n\t\t\t\totherSprite.texture = loader.resources.sheet.textures[\"ball-red.png\"];\n\t\t\t}\n\t\t\tresolveCollision(sprite, otherSprite);\n\t\t}\n\t}\n\n\tsprite.x += sprite.velocity.x;\n\tsprite.y += sprite.velocity.y;\n\n}\n/**\n * Rotates coordinate system for velocities\n *\n * Takes velocities and alters them as if the coordinate system they're on was rotated\n *\n * @param  Object | velocity | The velocity of an individual particle\n * @param  Float  | angle    | The angle of collision between two objects in radians\n * @return Object | The altered x and y velocities after the coordinate system has been rotated\n */\nfunction rotate(velocity, angle) {\n\tconst rotatedVelocities = {\n\t\tx: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n\t\ty: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle)\n\t};\n\treturn rotatedVelocities;\n}\n\n/**\n * Swaps out two colliding particles' x and y velocities after running through\n * an elastic collision reaction equation\n *\n * @param  Object | particle      | A particle object with x and y coordinates, plus velocity\n * @param  Object | otherParticle | A particle object with x and y coordinates, plus velocity\n * @return Null | Does not return a value\n */\n\nfunction resolveCollision(particle, otherParticle) {\n\tconst xVelocityDiff = particle.velocity.x - otherParticle.velocity.x;\n\tconst yVelocityDiff = particle.velocity.y - otherParticle.velocity.y;\n\n\tconst xDist = otherParticle.x - particle.x;\n\tconst yDist = otherParticle.y - particle.y;\n\n\t// Prevent accidental overlap of images\n\tif (xVelocityDiff * xDist + yVelocityDiff * yDist >= 0) {\n\n\t\t// Grab angle between the two colliding images\n\t\tconst angle = -Math.atan2(otherParticle.y - particle.y, otherParticle.x - particle.x);\n\n\t\t// Store mass in var for better readability in collision equation\n\t\t// const m1 = particle.mass;\n\t\t// const m2 = otherParticle.mass;\n\n\t\t// Velocity before equation\n\t\tconst u1 = rotate(particle.velocity, angle);\n\t\tconst u2 = rotate(otherParticle.velocity, angle);\n\n\t\t// Velocity after 1d collision equation\n\t\t// (mass) const v1 = { x: u1.x * (m1 - m2) / (m1 + m2) + u2.x * 2 * m2 / (m1 + m2), y: u1.y };\n\t\t// (mass) const v2 = { x: u2.x * (m1 - m2) / (m1 + m2) + u1.x * 2 * m2 / (m1 + m2), y: u2.y };\n\t\tconst v1 = { x: u2.x, y: u1.y };\n\t\tconst v2 = { x: u1.x, y: u2.y };\n\n\t\t// Final velocity after rotating axis back to original location\n\t\tconst vFinal1 = rotate(v1, -angle);\n\t\tconst vFinal2 = rotate(v2, -angle);\n\n\t\t// Swap particle velocities for realistic bounce effect\n\t\tparticle.velocity.x = vFinal1.x;\n\t\tparticle.velocity.y = vFinal1.y;\n\n\t\totherParticle.velocity.x = vFinal2.x;\n\t\totherParticle.velocity.y = vFinal2.y;\n\t}\n}\n","\"use strict\";\n\nimport { updateSprite } from \"./updateSprite\";\nimport * as PIXI from \"pixi.js\";\n\nexport function start(autostart, simulationSettings = null) {\n\tthis.autostart = autostart || false;\n\t// UTILITIES\n\n\tconst canvas = this.canvasRef.current;\t\n\tthis.simulationApp = new PIXI.Application({\n\t\tbackgroundColor: 0x191919,\n\t\tview: canvas,\n\t\twidth: this.canvasWidth,\n\t\theight: this.canvasHeight,\n\t\tresolution: window.devicePixelRatio || 1,\n\t\tautoDensity: true,\n\t\tsharedLoader: true\n\t});\n\n\t\n\tif (this.simulationApp.loader.resources.sheet == null) {\n\t\tthis.simulationApp.loader.add(\"sheet\", \"myBalls.json\")\n\t\t.on(\"progress\", (loader, resource) => console.log(loader.progress + \"% loaded\"))\n\t\t.on(\"load\", (loader, resource) => console.log(\"Asset loaded\" + resource.name))\n\t\t.on(\"error\", err => console.error(\"load error\", err))\n\t\t.load(handleOnImageLoaded.bind(this, simulationSettings));\n\t} else {\n\t\tthis.simulationApp.loader.load(handleOnImageLoaded.bind(this, simulationSettings));\n\t}\n\n\n\t// Resize function window\n\tconst resize = () => {\n\t\t// Resize the renderer\n\t\tthis.simulationApp.renderer.resize(window.innerWidth < this.canvasWidth ? this.canvasWidth : window.innerWidth,\n\t\t\t\t\t\t\twindow.innerHeight < this.canvasHeight ? this.canvasHeight : window.innerHeight);\n\n\t// You can use the 'screen' property as the renderer visible\n\t// area, this is more useful than view.width/height because\n\t// it handles resolution\n\t//rect.position.set(app.screen.width, app.screen.height);\n\t}\n\t// Listen for window resize events\n\twindow.addEventListener('resize', resize);\n}\n\nfunction randomIntNumber(min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n}\nfunction distance(x1, y1, x2, y2) {\n\tconst xDist = x2 - x1;\n\tconst yDist = y2 - y1;\n\treturn Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n}\n\nfunction handleOnImageLoaded(simulationSettings) {\n\tconst {\n\t\tsize: radius,\n\t\tspeed,\n\t\tquantity,\n\t\tdeactivateAfter,\n\t\tautorestart\n\t} = simulationSettings == null ? this.state.simulationSettings : simulationSettings;\n\t\n\tlet contagion, sprite;\n\tconst spriteArr = [];\n\tconst nrImages = +quantity;\n\tconst maxWidth = this.canvasWidth - radius * 2.5;\n\tconst maxHeight = this.canvasHeight - radius * 2.5;\n\tconst whiteBall = this.simulationApp.loader.resources.sheet.textures[\"ball-white.png\"];\n\tconst redBall = this.simulationApp.loader.resources.sheet.textures[\"ball-red.png\"];\n\n\tfor (let i = 0; i < nrImages; i++) {\n\n\t\tcontagion = i === 0 ? 1 : 0;\n\t\tlet x = randomIntNumber(radius * 2, maxWidth);\n\t\tlet y = randomIntNumber(radius * 2, maxHeight);\n\t\tif (i !== 0) {\n\t\t\tfor (let j = 0; j < spriteArr.length; j++) {\n\t\t\t\tif ((distance(x, y, spriteArr[j].x, spriteArr[j].y) - (radius + spriteArr[j].radius)) < 0) {\n\t\t\t\t\tx = randomIntNumber(radius * 2, maxWidth);\n\t\t\t\t\ty = randomIntNumber(radius * 2, maxHeight);\n\t\t\t\t\t// set new x, y recursively\n\t\t\t\t\tj = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (contagion) {\t\t\t\t\n\t\t\tsprite = new PIXI.Sprite(redBall);\n\t\t} else {\n\t\t\tsprite = new PIXI.Sprite(whiteBall);\n\t\t}\n\t\tsprite.x = x;\n\t\tsprite.y = y;\n\t\tsprite.width = radius * 2;\n\t\tsprite.height = radius * 2;\n\t\tsprite.anchor.x = .5;\n\t\tsprite.anchor.y = .5;\n\t\tsprite.myID = i;\n\t\tsprite.contagion = contagion;\n\t\tsprite.radius = radius;\n\t\tsprite.reactContext = this;\n\t\tsprite.contagiousFrom = 0;\n\t\tsprite.velocity = { \n\t\t\tx: (Math.random() - .5) * speed, \n\t\t\ty: (Math.random() - .5) * speed \n\t\t};\n\t\tspriteArr.push(sprite);\n\t}\n\t\t\n\tconst len = spriteArr.length;\t\n\t// draw and animate\n\tif (this.autostart) {\n\t\tfor (let index = 0; index < len; index++) {\n\t\t\tthis.simulationApp.stage.addChild(spriteArr[index]);\n\t\t\tthis.simulationApp.ticker.add(updateSprite.bind(null, spriteArr[index], spriteArr, distance, this.simulationApp.loader));\n\t\t}\n\t} else {\n\t\tfor (let index = 0; index < len; index++) {\n\t\t\tthis.simulationApp.stage.addChild(spriteArr[index]);\n\t\t\tthis.simulationApp.ticker.addOnce(updateSprite.bind(null, spriteArr[index], spriteArr, distance, this.simulationApp.loader));\n\t\t}\n\t}\n}\n\n","export function pause() {\n\tif (this.simulationApp) {\n\t\treturn this.simulationApp.ticker.stop();\n\t}\n};\n\nexport function unPause() {\n\tif (this.simulationApp) {\n\t\treturn this.simulationApp.ticker.start();\n\t}\n};\n\nexport function stop() {\n\tif (this.simulationApp) {\n\t\t// https://pixijs.download/dev/docs/PIXI.Application.html#destroy\n\t\t// (everything should be destroyed when not needed â€”> garbage collector)\n\t\t// removes children, but leaves canvas element\n\t\tthis.simulationApp.destroy(false, { stageOptions: { children: true }});\n\t\tthis.simulationApp = null;\n\t}\n};\n\nexport { start } from \"./start\";","export const sizeOptions = [\n\t{ type: \"small\", value: 3 },\n\t\"|\",\n\t{ type: \"medium\", value: 6 },\n\t\"|\",\n\t{ type: \"large\", value: 9 },\n];\nexport const quantityOptions = {\n\t3: [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 700, \"|\", 800, \"|\", 1000 ],\n\t6: [ 100, \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 600, \"|\", 700, \"|\", 800 ],\n\t9: [  50, \"|\", 100,\"|\", \"150\", \"|\", 200, \"|\", 300, \"|\", 400, \"|\", 500, \"|\", 500 ]\n};\nexport const speedOptions = [\n\t{ type: \"slow\", value: 1 },\n\t\"|\",\n\t{ type: \"medium\", value: 2 },\n\t\"|\",\n\t{ type: \"fast\", value: 3 },\n];\nexport const deactivateOptions = [\n\t0,\n\t\"|\",\n\t10000,\n\t\"|\",\n\t15000,\n\t\"|\",\n\t20000,\n\t\"|\",\n\t30000,\n\t\"|\",\n\t45000,\n\t\"|\",\n\t60000\n];\nexport const booleanOptions = [\n\t{ type: \"yes\", value: true },\n\t\"|\",\n\t{ type: \"no\", value: false }\n];","import React from \"react\";   \nimport { Row, Modal, ModalHeader, ModalBody, ModalFooter, \n\t\tContainer, Nav, NavLink } from \"reactstrap\";\n\nimport { sizeOptions, quantityOptions, speedOptions, deactivateOptions, booleanOptions } from \"./modalOptions\";\nimport \"./simulationDialog.scss\";\n\nexport class SimulationDialog extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t}\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tif (this.props.isOpen != nextProps.isOpen || this.props.buttonText != nextProps.buttonText) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.props.settings[\"size\"] != nextProps.settings[\"size\"] ||\n\t\t\tthis.props.settings[\"speed\"] != nextProps.settings[\"speed\"] ||\n\t\t\tthis.props.settings[\"quantity\"] != nextProps.settings[\"quantity\"] ||\n\t\t\tthis.props.settings[\"deactivateAfter\"] != nextProps.settings[\"deactivateAfter\"] ||\n\t\t\tthis.props.settings[\"showTime\"] != nextProps.settings[\"showTime\"] ||\n\t\t\tthis.props.settings[\"showStats\"] != nextProps.settings[\"showStats\"] ||\n\t\t\tthis.props.settings[\"autorestart\"] != nextProps.settings[\"autorestart\"]\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\trender() {\n\n\t\tconst { isOpen, toggle, startSimulation, buttonText, setSimulationSettings, \n\t\t\t\t\tsettings: { size, speed, quantity, deactivateAfter, showTime, showStats, autorestart} } = this.props;\n\t\treturn (\t\t\n\t\t\t<Modal key=\"simulator\" isOpen={isOpen} toggle={toggle} centered={true} className=\"simulator-modal\">\n\t\t\t\t<ModalHeader charCode=\"X\" toggle={toggle}></ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Size of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{sizeOptions.map((sizeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof sizeOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{sizeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({size: sizeOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={sizeOption.value === size}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sizeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Number of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{quantityOptions[size].map((quantityOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (quantityOption === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{quantityOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({quantity: quantityOption})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={quantityOption === quantity}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{quantityOption}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\t\t\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Speed of balls</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{speedOptions.map((speedOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof speedOption != \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{speedOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn\t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({speed: speedOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={speedOption.value === speed}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{speedOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Container className=\"choice\">\n\t\t\t\t\t\t\t<div>Deactivate ball after</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{deactivateOptions.map((deactivateOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (deactivateOption === \"|\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{deactivateOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({deactivateAfter: deactivateOption})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={deactivateOption === deactivateAfter}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{deactivateOption === 0 ? \"no\" : `${deactivateOption/1000}s`}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\t\t\t\t\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\t\t\t\t\n\t\t\t\t\t<Row className=\"col-12\">\n\t\t\t\t\t\t<Container className=\"col-4 choice\">\n\t\t\t\t\t\t\t<div>Show time</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{booleanOptions.map((timeOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof timeOption !== \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{timeOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({showTime: timeOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={timeOption.value === showTime}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{timeOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t<Container className=\"col-4 choice\">\n\t\t\t\t\t\t\t<div>Show stats</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{booleanOptions.map((statOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof statOption !== \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{statOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx} \n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({showStats: statOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={statOption.value === showStats}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{statOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t<Container className=\"col-4 choice\">\n\t\t\t\t\t\t\t<div>Autorestart</div>\n\t\t\t\t\t\t\t<Nav className=\"choice__options\">\n\t\t\t\t\t\t\t\t{booleanOptions.map((restartOption, idx) => {\n\t\t\t\t\t\t\t\t\tif (typeof restartOption !== \"object\") {\n\t\t\t\t\t\t\t\t\t\treturn <NavLink className=\"disabled\" key={idx}>{restartOption}</NavLink>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn \t<NavLink \n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"0\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-option={`${JSON.stringify({autorestart: restartOption.value})}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setSimulationSettings}\n\t\t\t\t\t\t\t\t\t\t\t\tactive={restartOption.value === autorestart}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{restartOption.type}\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter onClick={startSimulation} className=\"simulator-modal__footer\">\n\t\t\t\t\t&gt;&gt;&gt;&nbsp;&nbsp; {buttonText} &nbsp;&nbsp;&lt;&lt;&lt;\n\t\t\t\t</ModalFooter>\n\t\t</Modal>\n\t)};\n};\n","import React from 'react'\nimport { Button, Navbar, Nav, NavbarToggler,\n\tCollapse, NavItem, NavLink, NavbarText } from \"reactstrap\";\n\n\nexport const NavBar = props => {\n\tconst { toggleNavbarItemsExpand, isNavbarExpanded, toggleNavbarVisibility, isNavbarVisible, contagious, healthy,\n\t\t\ttoggleSimulationDialog, toggleShareDialog, startTime, simulationSettings: { showTime, showStats } } = props;\n\tconst seconds = startTime.getSeconds();\n\tconst formattedSeconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n\treturn(\n\t\t<Navbar dark className={`main__navbar ${!isNavbarVisible && \"hidden\"} d-inline-flex justify-content-between`} >\n\t\t\t<Button \n\t\t\t\tclassName={`main__navbar__toggler ${isNavbarVisible && \"hidden\"}`}\n\t\t\t\tonClick={toggleNavbarVisibility} \n\t\t\t\tdisabled={isNavbarVisible}\n\t\t\t\t>\n\t\t\t\t\t<svg height=\"15\" width=\"20\">\n\t\t\t\t\t\t<path d=\"M-2 2 l12 12 M10 15 l12 -13 Z\" fill=\"none\" strokeWidth=\"5\" stroke=\"white\"/>\n\t\t\t\t\t</svg>\n\t\t\t</Button>\n\t\t\t<Navbar dark className=\"col-6 main__navbar__left d-inline-flex justify-content-between\" expand=\"sm\">\n\t\t\t\t<NavbarToggler onClick={toggleNavbarItemsExpand} />\n\t\t\t\t<Collapse isOpen={isNavbarExpanded} navbar>\n\t\t\t\t<Nav className=\"navbar__nav left\" navbar>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" onClick={toggleSimulationDialog}>Simulate</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block navbar__nav__separator\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink data=\"game\" className=\"navbar__nav__link\" onClick={toggleShareDialog}>Play game</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block navbar__nav__separator\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" onClick={toggleShareDialog}>Share</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"d-none d-sm-block navbar__nav__separator\">|</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t<NavLink className=\"navbar__nav__link\" onClick={toggleNavbarVisibility}>Hide</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t</Nav>\n\t\t\t\t</Collapse>\n\t\t\t</Navbar>\n\t\t\t<Navbar dark className=\"col-6 main__navbar__right d-inline-flex justify-content-between\" >\n\t\t\t\t<Nav className=\"navbar__nav caption\" navbar>\n\t\t\t\t\t<NavItem>TheCovidSimulator</NavItem>\n\t\t\t\t</Nav>\n\t\t\t\t<Nav className=\"navbar__nav right\" navbar>\n\t\t\t\t\t<NavItem className=\" d-inline-flex justify-content-between\">\n\t\t\t\t\t\t<NavbarText>Stay safe. For more visit&nbsp;</NavbarText>\n\t\t\t\t\t\t<NavLink \n\t\t\t\t\t\t\thref=\"https://www.countdownkings.com/\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"nooperner noreferrer\"\t\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCountdownKings.com\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem className={`stats ${!isNavbarVisible && \"drop\"}`}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tshowStats ? \n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<NavbarText className=\"stats__infected\">Infected:&nbsp;{contagious}</NavbarText>\n\t\t\t\t\t\t\t\t<NavbarText className=\"stats__healthy\">Healthy:&nbsp;{healthy}</NavbarText>\t\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem className={`timer ${!isNavbarVisible && \"drop\"}`}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tshowTime ? `${startTime.getMinutes()}:${formattedSeconds}` : \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t</NavItem>\n\t\t\t\t</Nav>\n\t\t\t</Navbar>\n\t\t</Navbar>\n\t);\n};","import React from \"react\";   \nimport { Button, Row, Modal, ModalHeader, ModalBody, ModalFooter, \n\t\tContainer, NavLink } from \"reactstrap\";\n\nimport \"./shareDialog.scss\";\n\nexport const ShareDialog = props => {\n\tconst { isOpen, toggle, copy, isCopied, shareModalTitle } = props;\n   \treturn (\n\t\t<Modal key=\"sharemodal\" isOpen={isOpen} toggle={toggle} centered={true} className=\"share-modal\">\n\t\t\t<ModalHeader charCode=\"X\" toggle={toggle}>\n\t\t\t\t{shareModalTitle}\n\t\t\t</ModalHeader>\n\t\t\t<ModalBody className=\"justify-content-center\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Container className=\"share\">\n\t\t\t\t\t\tShare with your friends\n\t\t\t\t\t</Container>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\thttps://www.covidsimulator.com\n\t\t\t\t\t</Container>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t{ isCopied ?\n\t\t\t\t\t\t\t<div className=\"copied__link\">Link copied &#128515;</div> \n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Button onClick={copy} >Copy link</Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Container>\n\t\t\t\t</Row>\n\t\t\t</ModalBody>\n\t\t\t<ModalFooter>\n\t\t\t\t<Container  className=\"col-12 d-inline-flex justify-content-center\">\n\t\t\t\t\tFor more visit&nbsp;\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tclassName=\"footer__link\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\t\t\t\t\t\t\t\n\t\t\t\t\t\thref=\"https://www.countdownkings.com\">\n\t\t\t\t\t\t\tCountdownKings.com\n\t\t\t\t\t</NavLink>\n\t\t\t\t</Container>\n\t\t\t</ModalFooter>\n\t\t</Modal>\n   );\n};\n","\"use strict\";\n\nimport React from \"react\";\nimport { clearDriftless, setDriftlessInterval } from 'driftless';\n\nimport { start, stop, pause, unPause } from \"./helpers/actions\";\nimport { SimulationDialog, NavBar, ShareDialog } from \"./components\";\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport \"./main.scss\";\n\nexport default class HomePage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.canvasRef = React.createRef();\n\t\tthis.autostart = true;\n\t\tthis.simulationApp = null;\n\n\t\tthis.state = {\n\t\t\t// playing choice\n\t\t\tsimulation: true,\n\t\t\tgame: false,\n\t\t\t// error handling\n\t\t\thasError: false, \n\t\t\terror: null,\n\t\t\t// time\n\t\t\tcurrentTime: new Date().getTime(),\n\t\t\tstartTime: new Date(0),\n\t\t\t// canvas state\n\t\t\tpause: false,\n\t\t\tstop: false,\n\t\t\tcontagious: 1,\n\t\t\thealthy: 199,\n\t\t\t// nav & buttons\n\t\t\tstartButtonText: \"CONTINUE SIMULATION\",\n\t\t\tisCopied: false,\n\t\t\tisNavbarExpanded: false,\n\t\t\tisNavbarVisible: true,\n\t\t\t// modals - popups\n\t\t\tshareModalTitle: \"\",\n\t\t\tshareModalOpen: false,\n\t\t\tsimulationSettingsOpen: false,\n\t\t\t// SIMULATION\n\t\t\tsimulationSettings: {\n\t\t\t\tsize: 9,\n\t\t\t\tspeed: 1,\n\t\t\t\tquantity: 50,\n\t\t\t\tdeactivateAfter: 0,\n\t\t\t\tshowTime: true,\n\t\t\t\tshowStats: true,\n\t\t\t\tautorestart: true\n\t\t\t}\n\t\t}\n\t\tthis.interval = null;\n\t\tthis.canvasWidth = window.innerWidth;\n\t\tthis.canvasHeight = window.innerHeight;\n\t\t\n\t\tthis.simulationStop = stop.bind(this);\n\t\tthis.simulationStart = start.bind(this);\n\t\tthis.simulationPause = pause.bind(this);\n\t\tthis.simulationUnPause = unPause.bind(this);\n\t\t\n\t\tthis.togglePause = this.togglePause.bind(this);\n\t\tthis.intervalTime = this.intervalTime.bind(this);\n\t\tthis.handleResize = this.handleResize.bind(this);\n\t\tthis.copyToClipboard = this.copyToClipboard.bind(this);\n\t\tthis.simulationRestart= this.simulationRestart.bind(this);\n\t\tthis.toggleShareDialog = this.toggleShareDialog.bind(this);\n\t\tthis.stopStartSimulation = this.stopStartSimulation.bind(this);\n\t\tthis.setSimulationSettings = this.setSimulationSettings.bind(this);\n\t\tthis.toggleSimulationDialog = this.toggleSimulationDialog.bind(this);\n\t\tthis.toggleNavbarVisibility = this.toggleNavbarVisibility.bind(this);\n\t\tthis.toggleNavbarItemsExpand = this.toggleNavbarItemsExpand.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tthis.simulationStart(true);\n\t\twindow.addEventListener('resize', this.handleResize)\n\t\tthis.interval = setDriftlessInterval(this.intervalTime, 1000);\n\t}\n\tcomponentDidCatch(error, errorInfo) {\n\t\t// logErrorToMyService(error, errorInfo);\n\t}\n\tstatic getDerivedStateFromError(error) {\n\t\t// Update state so the next render will show the fallback UI.\n\t\treturn { hasError: true };\n\t}\n\tcomponentWillUnmount() {\n\t\tclearDriftless(this.interval);\n\t\tthis.simulationApp.destroy(true);\n\t}\n\tintervalTime() {\n\t\tthis.setState(prevState => {\n\t\t\tif (this.state.pause || this.state.stop) {\n\t\t\t\treturn ({ currentTime: new Date().getTime() })\n\t\t\t}\n\t\t\treturn ({ currentTime: new Date().getTime(), startTime: new Date(prevState.startTime.getTime() + 1000) })\n\t\t});\n\t}\n\thandleResize(e) {\n\t\tthis.canvasWidth = window.innerWidth < this.canvasWidth ? this.canvasWidth : window.innerWidth;\n\t\tthis.canvasHeight = window.innerHeight < this.canvasHeight ? this.canvasHeight : window.innerHeight;\n\t}\n\tstopStartSimulation() {\n\t\tif (this.state.pause && !this.state.stop) { // CONTINUE\n\t\t\tthis.toggleSimulationDialog();\n\t\t} else { \t\t\t\t\t\t\t\t\t// START\n\t\t\tthis.simulationStart(true);\n\t\t\tthis.setState(prevState => ({ startTime: new Date(0), stop: false, pause: false, startButtonText: \"CONTINUE SIMULATION\", simulationSettingsOpen: false }));\n\t\t}\n\t}\n\tsimulationRestart() {\n\t\tconsole.log(\"wtffff\");\t\t\n\t\tthis.simulationStop();\n\t\tthis.simulationStart(true);\n\t\tthis.setState(prevState => ({ startTime: new Date(0), stop: false, pause: false, startButtonText: \"CONTINUE SIMULATION\", simulationSettingsOpen: false,\n\t\t\t\t\thealthy: prevState.simulationSettings[\"quantity\"] - 1, contagious: 1 }));\n\t}\n\tsetSimulationSettings(e) {\n\t\tconst targetData = e.currentTarget.getAttribute(\"data-option\");\n\t\tconst parsedData = JSON.parse(targetData) || {};\n\t\tthis.setState(prevState => {\n\t\t\tconst newSimulationSettings = {...prevState.simulationSettings, ...parsedData};\n\t\t\t// only reset simulation for size and quantity - for preview\n\t\t\tif (parsedData[\"size\"] || parsedData[\"quantity\"] || parsedData[\"speed\"]) {\n\t\t\t\tthis.simulationStop();\n\t\t\t\tthis.simulationStart(false, newSimulationSettings);\n\t\t\t\treturn ({ simulationSettings: newSimulationSettings, startTime: new Date(0), healthy: newSimulationSettings[\"quantity\"] - 1, \n\t\t\t\t\t\tcontagious: 1, stop: true, pause: true, startButtonText: \"START SIMULATION\" });\n\t\t\t}\n\t\t\treturn ({ simulationSettings: newSimulationSettings });\n\t\t}); \n\t}\n\ttogglePause() {\n\t\treturn this.state.pause && !this.state.stop ? this.simulationUnPause() : this.simulationPause();\n\t}\n\ttoggleShareDialog(e) {\n\t\tthis.togglePause();\n\t\tconst target = e.currentTarget;\n\t\tconst isGame = target.getAttribute(\"data\");\n\t\tthis.setState(prevState => ({ pause: !prevState.pause, shareModalOpen: !prevState.shareModalOpen, shareModalTitle: isGame ? \"GAME COMING SOON\" : \"\"}));\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ isCopied: false });\n\t\t}, 1000);\n\t}\n\ttoggleSimulationDialog() {\n\t\t// unPause if previous state was pause, etc.\n\t\tthis.togglePause();\n\t\tthis.setState(prevState => {\n\t\t\treturn ({ simulationSettingsOpen: !prevState.simulationSettingsOpen, pause: !prevState.pause })\n\t\t});\n\t}\n\ttoggleNavbarItemsExpand() {\n\t\tthis.setState(prevState => ({ isNavbarExpanded: !prevState.isNavbarExpanded}));\n\t}\n\ttoggleNavbarVisibility() {\n\t\tthis.setState(prevState => ({ isNavbarVisible: !prevState.isNavbarVisible}));\n\t}\n\tcopyToClipboard() {\n\t\tnavigator.permissions.query({name: \"clipboard-write\"})\n\t\t\t.then(result => {\n\t\t\t\tif (result.state == \"granted\" || result.state == \"prompt\") {\n\t\t\t\t\tnavigator.clipboard.writeText(\"https://www.covidsimulator.com\");\n\t\t\t\t\tthis.setState({ isCopied: true });\n\t\t\t\t}\n\t\t \t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<section className=\"main\">\n\t\t\t\t<NavBar \n\t\t\t\t\tcurrentTime={this.state.currentTime}\n\t\t\t\t\tstartTime={this.state.startTime}\n\t\t\t\t\ttoggleNavbarItemsExpand={this.toggleNavbarItemsExpand} \n\t\t\t\t\ttoggleNavbarVisibility={this.toggleNavbarVisibility}\n\t\t\t\t\tisNavbarExpanded={this.state.isNavbarExpanded}\n\t\t\t\t\tisNavbarVisible={this.state.isNavbarVisible}\n\t\t\t\t\ttoggleSimulationDialog={this.toggleSimulationDialog}\n\t\t\t\t\ttoggleShareDialog={this.toggleShareDialog}\n\t\t\t\t\tsimulationSettings={this.state.simulationSettings}\n\t\t\t\t\tcontagious={this.state.contagious}\n\t\t\t\t\thealthy={this.state.healthy}\n\t\t\t\t/>\n\t\t\t\t<SimulationDialog\n\t\t\t\t\tstartSimulation={this.stopStartSimulation}\n\t\t\t\t\tisOpen={this.state.simulationSettingsOpen} \n\t\t\t\t\ttoggle={this.toggleSimulationDialog}\n\t\t\t\t\tbuttonText={this.state.startButtonText}\n\t\t\t\t\tsettings={this.state.simulationSettings}\n\t\t\t\t\tsetSimulationSettings={this.setSimulationSettings}\n\t\t\t\t/>\n\t\t\t\t<ShareDialog \n\t\t\t\t\tisOpen={this.state.shareModalOpen}\n\t\t\t\t\ttoggle={this.toggleShareDialog}\n\t\t\t\t\tcopy={this.copyToClipboard}\n\t\t\t\t\tisCopied={this.state.isCopied}\n\t\t\t\t\tshareModalTitle={this.state.shareModalTitle}\n\t\t\t\t\n\t\t\t\t/>\n\t\t\t\t<article className=\"main__canvas\">\n\t\t\t\t\t<canvas \n\t\t\t\t\t\tonClick={this.toggleSimulationDialog}\n\t\t\t\t\t\tid=\"canvas\"\n\t\t\t\t\t\tref={this.canvasRef} \n\t\t\t\t\t\tclassName=\"canvas\" \n\t\t\t\t\t>Sorry, your browser doesn't support HTML5 </canvas>\n\t\t\t\t</article>\n\t\t\t</section>\n\t\t);\n\t}\n}","import React from 'react';\nimport logo from './logo.svg';\nimport HomePage from \"./HomePage/main\";\n\nimport './App.scss';\n\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HomePage />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}